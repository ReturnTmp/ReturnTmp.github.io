<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ä¼˜é›…æäº¤ Git Commit Message</title>
    <url>/posts/2bf156a6.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote>
<p>commit message æ˜¯å¼€å‘çš„æ—¥å¸¸æ“ä½œ, ä¸€ä¸ªä¼˜ç§€çš„messageä¸ä»…æœ‰åŠ©äºä»–äºº review, è¿˜å¯ä»¥æœ‰æ•ˆçš„è¾“å‡º CHANGELOG, å¯¹é¡¹ç›®çš„ç®¡ç†å®é™…è‡³å…³é‡è¦, ä½†æ˜¯å®é™…å·¥ä½œä¸­å´å¸¸å¸¸è¢«å¤§å®¶å¿½ç•¥ï¼Œå¸Œæœ›é€šè¿‡æœ¬æ–‡ï¼Œ èƒ½å¤Ÿå¸®åŠ©å¤§å®¶è§„èŒƒ commit message çš„ä¹¦å†™</p>
</blockquote>
<span id="more"></span>
<h1 id="Message-è§„èŒƒ"><a href="#Message-è§„èŒƒ" class="headerlink" title="Message è§„èŒƒ"></a>Message è§„èŒƒ</h1><blockquote>
<p>é‚£ä¹ˆå¦‚ä½•èƒ½ä¼˜é›…è€Œåˆä¸å¤±ä½“é¢çš„æäº¤ä½ çš„ä»£ç å‘¢ï¼Ÿå…¶å®æˆ‘ä»¬çš„ <code>git commit message</code> æ˜¯åº”è¯¥å…·å¤‡ä¸€äº›è§„èŒƒçš„ã€‚ç›®å‰è§„èŒƒç”¨çš„æ¯”è¾ƒå¤šçš„æ˜¯ <a href="https://github.com/angular/angular.js/blob/master/DEVELOPERS.md#-git-commit-guidelines">Angular å›¢é˜Ÿçš„è§„èŒƒ</a></p>
</blockquote>
<p>message æ ·ä¾‹ï¼š</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</span><br><span class="line">&lt;BLANK LINE&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;BLANK LINE&gt;</span><br><span class="line">&lt;footer&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>Typeï¼šå¿…é¡»æ˜¯ä¸‹åˆ—ä¹‹ä¸€</p>
<ul>
<li><strong>feat</strong>ï¼šä¸€ä¸ªæ–°åŠŸèƒ½</li>
</ul>
</li>
<li><p><strong>fix</strong>ï¼šbugä¿®å¤</p>
<ul>
<li><strong>docs</strong>ï¼šç¼–è¾‘æ–‡æ¡£</li>
<li><strong>style</strong>ï¼šä¸å½±å“ä»£ç å«ä¹‰çš„æ›´æ”¹(ç©ºæ ¼ã€æ ¼å¼ã€ç¼ºå°‘åˆ†å·ç­‰ï¼Œä¸æ˜¯cssçš„æ›´æ”¹)</li>
<li><strong>refactor</strong>ï¼šæ—¢ä¸ä¿®å¤bugä¹Ÿä¸æ·»åŠ ç‰¹æ€§çš„ä»£ç æ›´æ”¹</li>
<li><strong>perf</strong>ï¼šæé«˜æ€§èƒ½çš„ä»£ç æ›´æ”¹</li>
<li><strong>test</strong>ï¼šæ·»åŠ ç¼ºå¤±çš„æˆ–çº æ­£ç°æœ‰çš„æµ‹è¯•</li>
<li><strong>chore</strong>ï¼šå¯¹æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·å’Œåº“(å¦‚æ–‡æ¡£ç”Ÿæˆ)çš„æ›´æ”¹</li>
</ul>
</li>
<li><p><strong>Subject</strong>ï¼šä¸»é¢˜åŒ…å«å¯¹å˜æ›´çš„ç®€æ´æè¿°</p>
</li>
<li><p><strong>Body</strong>ï¼šå…·ä½“çš„ä¿®æ”¹å†…å®¹ï¼Œå¯ä»¥åŒ…æ‹¬ä¸ä¹‹å‰çš„å¯¹æ¯”</p>
</li>
<li><p><strong>Footer</strong>ï¼šé€šå¸¸æ˜¯ BREAKING CHANGE æˆ–ä¿®å¤çš„ issue é“¾æ¥</p>
</li>
</ul>
<h1 id="è§„èŒƒå·¥å…·"><a href="#è§„èŒƒå·¥å…·" class="headerlink" title="è§„èŒƒå·¥å…·"></a>è§„èŒƒå·¥å…·</h1><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>commitizen git commit æ ¼å¼åŒ–å·¥å…·, ä¸ºæˆ‘ä»¬æä¾›æ ‡å‡†åŒ–çš„ commit ä¿¡æ¯ã€‚ å¸®åŠ©æˆ‘ä»¬ç»Ÿä¸€é¡¹ç›®commit ï¼Œ ä¾¿äºä¿¡æ¯çš„å›æº¯æˆ–æ—¥å¿—çš„ç”Ÿæˆã€‚# commit message æ ¼å¼</p>
<p>commitizen åªæ˜¯æä¾›ä¸€ä¸ªcommit æ ¼å¼åŒ–æˆ–äº¤äº’å·¥å…·, æœ€ç»ˆéœ€è¦è¾“å‡ºç¬¦åˆ commit è§„åˆ™çš„ä¿¡æ¯ç»™ gitï¼Œ æ‰€ä»¥éœ€è¦çº¿äº†è§£ commit æ ¼å¼è§„åˆ™</p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install -D commitizen cz-conventional-changelog</span><br></pre></td></tr></table></figure>
<p>package.jsonä¸­æ·»åŠ </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">	...</span><br><span class="line">  <span class="string">&quot;commit&quot;</span>: <span class="string">&quot;git-cz&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="string">&quot;config&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;commitizen&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;path&quot;</span>: <span class="string">&quot;./node_modules/cz-conventional-changelog&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="è‡ªå®šä¹‰-Adapter"><a href="#è‡ªå®šä¹‰-Adapter" class="headerlink" title="è‡ªå®šä¹‰ Adapter"></a>è‡ªå®šä¹‰ Adapter</h3><p>å¦‚æœ Angular çš„è§„èŒƒä¸ç¬¦åˆæˆ‘ä»¬çš„å®é™…ï¼ŒåŒæ ·æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ <a href="https://github.com/leonardoanalista/cz-customizable">cz-customizable</a> å®šåˆ¶ä¸€å¥—ç¬¦åˆè‡ªå·±æˆ–è€…å›¢é˜Ÿçš„è§„èŒƒã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install -D cz-customizable</span><br></pre></td></tr></table></figure>
<p>åŒæ—¶package.jsonéœ€è¦ä¿®æ”¹</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="attr">&quot;config&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;commitizen&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;node_modules/cz-customizable&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>ä¹‹åå¯¹åº”é¡¹ç›®ç›®å½•ä¸‹åˆ›å»º .cz-config.js æ–‡ä»¶ï¼Œç”¨æ¥ç»´æŠ¤è‡ªå·±çš„æ ¼å¼</p>
<p>å®˜ç½‘ä¸­æœ‰å¯¹åº”çš„æ ·ä¾‹é…ç½®æ–‡ä»¶ï¼š<a href="https://github.com/leoforfree/cz-customizable/blob/master/cz-config-EXAMPLE.js">cz-customizable/cz-config-EXAMPLE.js at master Â· leoforfree/cz-customizable Â· GitHub</a></p>
<h3 id="æ ¡éªŒ-Message"><a href="#æ ¡éªŒ-Message" class="headerlink" title="æ ¡éªŒ Message"></a>æ ¡éªŒ Message</h3><h5 id="å·¥å…·ï¼š"><a href="#å·¥å…·ï¼š" class="headerlink" title="å·¥å…·ï¼š"></a>å·¥å…·ï¼š</h5><p>å¯ä»¥åšåˆ°å¦‚æœä¸ç¬¦åˆæ ¡éªŒè§„èŒƒï¼Œå°±ä¼šç›´æ¥æ‹’ç» commit è¯·æ±‚</p>
<h5 id="å®‰è£…-1"><a href="#å®‰è£…-1" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Angular å›¢é˜Ÿçš„è§„èŒƒ</span></span><br><span class="line">npm install -D @commitlint/config-conventional @commitlint/cli</span><br><span class="line"><span class="comment"># è‡ªå®šä¹‰è§„èŒƒ</span></span><br><span class="line">npm install -D commitlint-config-cz @commitlint/cli</span><br></pre></td></tr></table></figure>
<h5 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h5><p>åœ¨é¡¹ç›®ç›®å½•ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶ .commitlintrc.js</p>
<p>Angular å›¢é˜Ÿçš„è§„èŒƒ</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">extends</span>: [</span><br><span class="line">    <span class="string">&#x27;&#x27;</span>@commitlint/config-conventional<span class="string">&#x27;&#x27;</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">rules</span>: &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h5 id="è‡ªå®šä¹‰è§„èŒƒ"><a href="#è‡ªå®šä¹‰è§„èŒƒ" class="headerlink" title="è‡ªå®šä¹‰è§„èŒƒ"></a>è‡ªå®šä¹‰è§„èŒƒ</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  extends: [</span><br><span class="line">    <span class="string">&#x27;cz&#x27;</span></span><br><span class="line">  ],</span><br><span class="line">  rules: &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="Husky"><a href="#Husky" class="headerlink" title="Husky"></a>Husky</h3><p>åœ¨åšå‰ç«¯å·¥ç¨‹åŒ–æ—¶huskyå¯ä»¥è¯´æ˜¯ä¸€ä¸ªå¿…ä¸å¯å°‘çš„å·¥å…·ã€‚huskyå¯ä»¥è®©æˆ‘ä»¬å‘é¡¹ç›®ä¸­æ–¹ä¾¿æ·»åŠ git hooksã€‚</p>
<p>å®˜æ–¹é“¾æ¥ï¼š<a href="https://github.com/typicode/husky">typicode/husky: Git hooks made easy ğŸ¶ woof! (github.com)</a></p>
<h4 id="å®‰è£…-2"><a href="#å®‰è£…-2" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">npm install -D husky</span><br></pre></td></tr></table></figure>
<h4 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><p>package.jsonä¸­æ·»åŠ ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="attr">&quot;husky&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;hooks&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      ...<span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;commit-msg&quot;</span><span class="punctuation">:</span> <span class="string">&quot;commitlint -e $GIT_PARAMS&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>
<p>æˆ–è€…åœ¨ .huskyrc æ–‡ä»¶ä¸­</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;hooks&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    ...<span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;commit-msg&quot;</span><span class="punctuation">:</span> <span class="string">&quot;commitlint -e $GIT_PARAMS&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>env</tag>
      </tags>
  </entry>
  <entry>
    <title>Neovim é…ç½®æ•™ç¨‹</title>
    <url>/posts/e8223384.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="https://cdn.jsdelivr.net/gh/Returntmp/blog-image@main/blog/images.jpg" alt="images"></p>
<blockquote>
<p>ç¯å¢ƒï¼šUbuntu 20.04 </p>
<p>å®¿ä¸»æœºï¼šwindows ï¼ˆwindows terminalï¼‰WSL2</p>
<p>NVIMï¼šv0.10.0-dev</p>
<p>é…ç½®Neovim éœ€è¦ä¿è¯æµç•…çš„githubç¯å¢ƒï¼ˆä»¥ä¾¿äºå¿«é€Ÿæ‹‰å–æ’ä»¶ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ä»£ç†æˆ–æ˜¯é…ç½®Github SSH key</p>
</blockquote>
<span id="more"></span>
<p>æœ¬ç¯‡åšå®¢æ˜¯å­¦ä¹ æ˜é‡‘å°å†Œçš„å­¦ä¹ ç¬”è®°ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥ç›´æ¥ç‚¹å‡»ä¸‹æ–‡é“¾æ¥äº†è§£è¯¦æƒ…</p>
<p>å°å†Œé“¾æ¥ï¼š<a href="https://juejin.cn/book/7051157342770954277">Neovim é…ç½®å®æˆ˜ï¼šä»0åˆ°1æ‰“é€ è‡ªå·±çš„IDE - nshen - æ˜é‡‘å°å†Œ (juejin.cn)</a></p>
<h4 id="æˆå“ç¤ºä¾‹å›¾"><a href="#æˆå“ç¤ºä¾‹å›¾" class="headerlink" title="æˆå“ç¤ºä¾‹å›¾"></a>æˆå“ç¤ºä¾‹å›¾</h4><p><img src="https://cdn.jsdelivr.net/gh/Returntmp/blog-image@main/blog/output.gif" alt="output"></p>
<h3 id="é…ç½®æ–‡ä»¶æ•´ä½“ç»“æ„"><a href="#é…ç½®æ–‡ä»¶æ•´ä½“ç»“æ„" class="headerlink" title="é…ç½®æ–‡ä»¶æ•´ä½“ç»“æ„"></a>é…ç½®æ–‡ä»¶æ•´ä½“ç»“æ„</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â”œâ”€â”€ LICENSE</span><br><span class="line">â”œâ”€â”€ README.md</span><br><span class="line">â”œâ”€â”€ init.lua</span><br><span class="line">â””â”€â”€ lua</span><br><span class="line">    â”œâ”€â”€ autocmds.lua</span><br><span class="line">    â”œâ”€â”€ basic.lua</span><br><span class="line">    â”œâ”€â”€ colorscheme.lua</span><br><span class="line">    â”œâ”€â”€ keybindings.lua</span><br><span class="line">    â”œâ”€â”€ lsp</span><br><span class="line">    â”‚   â”œâ”€â”€ cmp.lua</span><br><span class="line">    â”‚   â”œâ”€â”€ config</span><br><span class="line">    â”‚   â”‚   â”œâ”€â”€ bash.lua</span><br><span class="line">    â”‚   â”‚   â”œâ”€â”€ emmet.lua</span><br><span class="line">    â”‚   â”‚   â”œâ”€â”€ html.lua</span><br><span class="line">    â”‚   â”‚   â”œâ”€â”€ json.lua</span><br><span class="line">    â”‚   â”‚   â”œâ”€â”€ lua.lua</span><br><span class="line">    â”‚   â”‚   â”œâ”€â”€ markdown.lua</span><br><span class="line">    â”‚   â”‚   â”œâ”€â”€ pyright.lua</span><br><span class="line">    â”‚   â”‚   â”œâ”€â”€ rust.lua</span><br><span class="line">    â”‚   â”‚   â””â”€â”€ ts.lua</span><br><span class="line">    â”‚   â”œâ”€â”€ formatter.lua</span><br><span class="line">    â”‚   â”œâ”€â”€ null-ls.lua</span><br><span class="line">    â”‚   â”œâ”€â”€ setup.lua</span><br><span class="line">    â”‚   â””â”€â”€ ui.lua</span><br><span class="line">    â”œâ”€â”€ plugin-config</span><br><span class="line">    â”‚   â”œâ”€â”€ bufferline.lua</span><br><span class="line">    â”‚   â”œâ”€â”€ comment.lua</span><br><span class="line">    â”‚   â”œâ”€â”€ dashboard.lua</span><br><span class="line">    â”‚   â”œâ”€â”€ gitsigns.lua</span><br><span class="line">    â”‚   â”œâ”€â”€ indent-blankline.lua</span><br><span class="line">    â”‚   â”œâ”€â”€ lualine.lua</span><br><span class="line">    â”‚   â”œâ”€â”€ nvim-autopairs.lua</span><br><span class="line">    â”‚   â”œâ”€â”€ nvim-tree.lua</span><br><span class="line">    â”‚   â”œâ”€â”€ nvim-treesitter.lua</span><br><span class="line">    â”‚   â”œâ”€â”€ project.lua</span><br><span class="line">    â”‚   â”œâ”€â”€ surround.lua</span><br><span class="line">    â”‚   â”œâ”€â”€ telescope.lua</span><br><span class="line">    â”‚   â”œâ”€â”€ toggleterm.lua</span><br><span class="line">    â”‚   â”œâ”€â”€ vimspector.lua</span><br><span class="line">    â”‚   â””â”€â”€ which-key.lua</span><br><span class="line">    â”œâ”€â”€ plugins.lua</span><br><span class="line">    â””â”€â”€ utils</span><br><span class="line">        â”œâ”€â”€ fix-yank.lua</span><br><span class="line">        â”œâ”€â”€ global.lua</span><br><span class="line">        â””â”€â”€ im-select.lua</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>é¦–å…ˆ <strong>init.lua</strong> æ˜¯æ•´ä¸ªé…ç½®çš„å…¥å£æ–‡ä»¶ï¼Œè´Ÿè´£å¼•ç”¨æ‰€æœ‰å…¶ä»–çš„æ¨¡å—ï¼ŒåŸºæœ¬ä¸Šæƒ³è¦æ‰“å¼€æˆ–å…³é—­æŸä¸ªæ’ä»¶åªè¦åœ¨è¿™é‡Œä¿®æ”¹ä¸€è¡Œä»£ç å³å¯ã€‚</p>
<ul>
<li><p><strong>basic.luaï¼š</strong> åŸºç¡€é…ç½®ï¼Œæ˜¯å¯¹é»˜è®¤é…ç½®çš„ä¸€ä¸ªé‡ç½®ã€‚</p>
</li>
<li><p><strong>colorscheme.luaï¼š</strong> æˆ‘ä»¬å®‰è£…çš„ä¸»é¢˜çš®è‚¤é…ç½®ï¼Œåœ¨è¿™é‡Œåˆ‡æ¢ä¸»é¢˜ã€‚</p>
</li>
<li><p><strong>keybindings.luaï¼š</strong> å¿«æ·é”®çš„è®¾ç½®ï¼Œæ‰€æœ‰æ’ä»¶çš„å¿«æ·é”®ä¹Ÿéƒ½ä¼šæ”¾åœ¨è¿™é‡Œã€‚</p>
</li>
<li><p><strong>plugins.luaï¼š</strong> æ’ä»¶å®‰è£…ç®¡ç†ï¼Œæ’ä»¶å®‰è£…æˆ–å¸è½½å…¨åœ¨è¿™é‡Œè®¾ç½®ã€‚</p>
</li>
<li><p>lsp æ–‡ä»¶å¤¹ï¼š</p>
</li>
</ul>
<p>  æ˜¯å¯¹ Neovim å†…ç½® LSP åŠŸèƒ½çš„é…ç½®ï¼ŒåŒ…æ‹¬å¸¸è§ç¼–ç¨‹è¯­è¨€ä¸è¯­æ³•æç¤ºç­‰ã€‚</p>
<ul>
<li><strong>config</strong> <strong>ï¼š</strong> æ–‡ä»¶å¤¹åŒ…å«å„ç§è¯­è¨€æœåŠ¡å™¨å•ç‹¬çš„é…ç½®æ–‡ä»¶ã€‚</li>
<li><strong>setup.lua</strong> <strong>ï¼š</strong> å†…ç½® LSP çš„é…ç½®ã€‚</li>
<li><strong>cmp.lua</strong> <strong>ï¼š</strong> è¯­æ³•è‡ªåŠ¨è¡¥å…¨è¡¥å…¨çš„é…ç½®ï¼ŒåŒ…æ‹¬å„ç§è¡¥å…¨æºï¼Œä¸è‡ªå®šä¹‰ä»£ç æ®µã€‚</li>
<li><strong>ui.luaï¼š</strong> å¯¹å†…ç½® LSP åŠŸèƒ½å¢å¼ºå’Œ UI ç¾åŒ–ã€‚</li>
<li><strong>formatter.luaï¼š</strong> ç‹¬ç«‹ä»£ç æ ¼å¼åŒ–åŠŸèƒ½ã€‚</li>
</ul>
<ul>
<li><p><strong>plugin-config æ–‡ä»¶å¤¹ï¼š</strong> æ˜¯å¯¹ç¬¬ä¸‰æ–¹æ’ä»¶çš„é…ç½®ï¼Œæœªæ¥æ¯æ·»åŠ ä¸€ä¸ªæ’ä»¶ï¼Œè¿™é‡Œå°±å¤šä¸€ä¸ªé…ç½®æ–‡ä»¶ã€‚</p>
</li>
<li><p><strong>utils æ–‡ä»¶å¤¹ï¼š</strong> æ˜¯å¯¹å¸¸è§é—®é¢˜çš„ä¿®æ”¹ï¼ŒåŒ…æ‹¬è¾“å…¥æ³•åˆ‡æ¢ï¼Œé’ˆå¯¹ windows çš„ç‰¹æ®Šé…ç½®ç­‰ã€‚</p>
</li>
</ul>
<h4 id="é…ç½®-Nerd-Fonts"><a href="#é…ç½®-Nerd-Fonts" class="headerlink" title="é…ç½® Nerd Fonts"></a>é…ç½® Nerd Fonts</h4><p>å®˜ç½‘ï¼š<a href="https://www.nerdfonts.com/font-downloads">Nerd Fonts - Iconic font aggregator, glyphs/icons collection, &amp; fonts patcher</a></p>
<p>ä¸‹è½½å­—ä½“æ–‡ä»¶<code>FiraCodeNerdFont-Regular.ttf</code>ä¸‹è½½ä¹‹ååŒå‡»ttfæ–‡ä»¶ç‚¹å‡»å®‰è£…å³å¯æ·»åŠ åˆ°ç³»ç»Ÿå­—ä½“æ–‡ä»¶ä¸­</p>
<p>é…ç½®æ­¥éª¤ï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/Returntmp/blog-image@main/blog/image-20230502100537624.png" alt="image-20230502100537624"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Returntmp/blog-image@main/blog/image-20230502100559247.png" alt="image-20230502100559247"></p>
<p>æœ€åç‚¹å‡»ä¿å­˜</p>
<h3 id="å®‰è£…-Neovim"><a href="#å®‰è£…-Neovim" class="headerlink" title="å®‰è£… Neovim"></a>å®‰è£… Neovim</h3><p>æ—§ç‰ˆæœ¬å¸è½½ï¼š<code>sudo apt-get remove neovim</code></p>
<p>å®˜ç½‘ï¼š<a href="https://github.com/neovim/neovim/wiki/Installing-Neovim">Installing Neovim Â· neovim/neovim Wiki (github.com)</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install software-properties-common</span><br><span class="line">sudo add-apt-repository ppa:neovim-ppa/unstable</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install neovim</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œ<code>nvim --version</code>ï¼Œç¡®ä¿ç‰ˆæœ¬å¿…é¡»ä¸º <strong>0.7</strong> åŠä»¥ä¸Šã€‚</p>
<p>æ‰§è¡Œ<code>nvim ~/.bashrc</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">alias</span> vim=<span class="string">&#x27;nvim&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> vi=<span class="string">&#x27;nvim&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> v=<span class="string">&#x27;nvim&#x27;</span></span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œ<code>source ~/.bashrc</code>é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶</p>
<h4 id="é…ç½®å…¥å£-init-lua"><a href="#é…ç½®å…¥å£-init-lua" class="headerlink" title="é…ç½®å…¥å£ init.lua"></a>é…ç½®å…¥å£ init.lua</h4><p><code>~/.config/nvim/init.lua</code> å†™å…¥å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- åŸºç¡€è®¾ç½®</span><br><span class="line">require(<span class="string">&#x27;basic&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><code>require</code> å‡½æ•°åœ¨ Lua ä¸­ç”¨äºåŠ è½½ä¸€ä¸ªæ¨¡å—ï¼Œè€Œè¿™äº›æ¨¡å—é€šå¸¸ä½äº <code>runtimepath</code> ä¸­çš„ <code>lua/</code> ç›®å½•ä¸‹ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„ <code>~/.config/nvim/lua/</code> ç›®å½•ã€‚</p>
<p>æ‰€ä»¥ä¸Šè¾¹çš„ä»£ç ï¼Œå°±æ˜¯åŠ è½½ <code>~/.config/nvim/lua/basic.lua</code> æ–‡ä»¶ï¼ˆæ³¨æ„ï¼šrequire é‡Œæ²¡æœ‰ <code>.lua</code> æ‰©å±•åï¼‰ã€‚å½“ç„¶ä¹Ÿå¯ä»¥åˆ›å»º <code>~/.config/nvim/lua/basic/</code> ç›®å½•ï¼Œåœ¨ç›®å½•ä¸‹è¾¹åˆ›å»º <code>init.lua</code> æ–‡ä»¶ä¹Ÿæ˜¯å¯ä»¥æˆåŠŸåŠ è½½çš„ã€‚</p>
<p>åˆ›å»ºåŸºç¡€é…ç½®æ–‡ä»¶<code>~/.config/nvim/lua/basic.lua</code>ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- utf8</span><br><span class="line">vim.g.encoding = <span class="string">&quot;UTF-8&quot;</span></span><br><span class="line">vim.o.fileencoding = <span class="string">&#x27;utf-8&#x27;</span></span><br><span class="line">-- jkhl ç§»åŠ¨æ—¶å…‰æ ‡å‘¨å›´ä¿ç•™8è¡Œ</span><br><span class="line">vim.o.scrolloff = 8</span><br><span class="line">vim.o.sidescrolloff = 8</span><br><span class="line">-- ä½¿ç”¨ç›¸å¯¹è¡Œå·</span><br><span class="line">vim.wo.number = <span class="literal">true</span></span><br><span class="line">vim.wo.relativenumber = <span class="literal">true</span></span><br><span class="line">-- é«˜äº®æ‰€åœ¨è¡Œ</span><br><span class="line">vim.wo.cursorline = <span class="literal">true</span></span><br><span class="line">-- æ˜¾ç¤ºå·¦ä¾§å›¾æ ‡æŒ‡ç¤ºåˆ—</span><br><span class="line">vim.wo.signcolumn = <span class="string">&quot;yes&quot;</span></span><br><span class="line">-- å³ä¾§å‚è€ƒçº¿ï¼Œè¶…è¿‡è¡¨ç¤ºä»£ç å¤ªé•¿äº†ï¼Œè€ƒè™‘æ¢è¡Œ</span><br><span class="line">vim.wo.colorcolumn = <span class="string">&quot;80&quot;</span></span><br><span class="line">-- ç¼©è¿›2ä¸ªç©ºæ ¼ç­‰äºä¸€ä¸ªTab</span><br><span class="line">vim.o.tabstop = 2</span><br><span class="line">vim.bo.tabstop = 2</span><br><span class="line">vim.o.softtabstop = 2</span><br><span class="line">vim.o.shiftround = <span class="literal">true</span></span><br><span class="line">-- &gt;&gt; &lt;&lt; æ—¶ç§»åŠ¨é•¿åº¦</span><br><span class="line">vim.o.shiftwidth = 2</span><br><span class="line">vim.bo.shiftwidth = 2</span><br><span class="line">-- ç©ºæ ¼æ›¿ä»£tab</span><br><span class="line">vim.o.expandtab = <span class="literal">true</span></span><br><span class="line">vim.bo.expandtab = <span class="literal">true</span></span><br><span class="line">-- æ–°è¡Œå¯¹é½å½“å‰è¡Œ</span><br><span class="line">vim.o.autoindent = <span class="literal">true</span></span><br><span class="line">vim.bo.autoindent = <span class="literal">true</span></span><br><span class="line">vim.o.smartindent = <span class="literal">true</span></span><br><span class="line">-- æœç´¢å¤§å°å†™ä¸æ•æ„Ÿï¼Œé™¤éåŒ…å«å¤§å†™</span><br><span class="line">vim.o.ignorecase = <span class="literal">true</span></span><br><span class="line">vim.o.smartcase = <span class="literal">true</span></span><br><span class="line">-- æœç´¢ä¸è¦é«˜äº®</span><br><span class="line">vim.o.hlsearch = <span class="literal">false</span></span><br><span class="line">-- è¾¹è¾“å…¥è¾¹æœç´¢</span><br><span class="line">vim.o.incsearch = <span class="literal">true</span></span><br><span class="line">-- å‘½ä»¤è¡Œé«˜ä¸º2ï¼Œæä¾›è¶³å¤Ÿçš„æ˜¾ç¤ºç©ºé—´</span><br><span class="line">vim.o.cmdheight = 2</span><br><span class="line">-- å½“æ–‡ä»¶è¢«å¤–éƒ¨ç¨‹åºä¿®æ”¹æ—¶ï¼Œè‡ªåŠ¨åŠ è½½</span><br><span class="line">vim.o.autoread = <span class="literal">true</span></span><br><span class="line">vim.bo.autoread = <span class="literal">true</span></span><br><span class="line">-- ç¦æ­¢æŠ˜è¡Œ</span><br><span class="line">vim.wo.wrap = <span class="literal">false</span></span><br><span class="line">-- å…‰æ ‡åœ¨è¡Œé¦–å°¾æ—¶&lt;Left&gt;&lt;Right&gt;å¯ä»¥è·³åˆ°ä¸‹ä¸€è¡Œ</span><br><span class="line">vim.o.whichwrap = <span class="string">&#x27;&lt;,&gt;,[,]&#x27;</span></span><br><span class="line">-- å…è®¸éšè—è¢«ä¿®æ”¹è¿‡çš„buffer</span><br><span class="line">vim.o.hidden = <span class="literal">true</span></span><br><span class="line">-- é¼ æ ‡æ”¯æŒ</span><br><span class="line">vim.o.mouse = <span class="string">&quot;a&quot;</span></span><br><span class="line">-- ç¦æ­¢åˆ›å»ºå¤‡ä»½æ–‡ä»¶</span><br><span class="line">vim.o.backup = <span class="literal">false</span></span><br><span class="line">vim.o.writebackup = <span class="literal">false</span></span><br><span class="line">vim.o.swapfile = <span class="literal">false</span></span><br><span class="line">-- smaller updatetime</span><br><span class="line">vim.o.updatetime = 300</span><br><span class="line">-- è®¾ç½® timeoutlen ä¸ºç­‰å¾…é”®ç›˜å¿«æ·é”®è¿å‡»æ—¶é—´500æ¯«ç§’ï¼Œå¯æ ¹æ®éœ€è¦è®¾ç½®</span><br><span class="line">vim.o.timeoutlen = 500</span><br><span class="line">-- <span class="built_in">split</span> window ä»ä¸‹è¾¹å’Œå³è¾¹å‡ºç°</span><br><span class="line">vim.o.splitbelow = <span class="literal">true</span></span><br><span class="line">vim.o.splitright = <span class="literal">true</span></span><br><span class="line">-- è‡ªåŠ¨è¡¥å…¨ä¸è‡ªåŠ¨é€‰ä¸­</span><br><span class="line">vim.g.completeopt = <span class="string">&quot;menu,menuone,noselect,noinsert&quot;</span></span><br><span class="line">-- æ ·å¼</span><br><span class="line">vim.o.background = <span class="string">&quot;dark&quot;</span></span><br><span class="line">vim.o.termguicolors = <span class="literal">true</span></span><br><span class="line">vim.opt.termguicolors = <span class="literal">true</span></span><br><span class="line">-- ä¸å¯è§å­—ç¬¦çš„æ˜¾ç¤ºï¼Œè¿™é‡ŒåªæŠŠç©ºæ ¼æ˜¾ç¤ºä¸ºä¸€ä¸ªç‚¹</span><br><span class="line">vim.o.list = <span class="literal">true</span></span><br><span class="line">vim.o.listchars = <span class="string">&quot;space:Â·&quot;</span></span><br><span class="line">-- è¡¥å…¨å¢å¼º</span><br><span class="line">vim.o.wildmenu = <span class="literal">true</span></span><br><span class="line">-- Dont<span class="string">&#x27; pass messages to |ins-completin menu|</span></span><br><span class="line"><span class="string">vim.o.shortmess = vim.o.shortmess .. &#x27;</span>c<span class="string">&#x27;</span></span><br><span class="line"><span class="string">-- è¡¥å…¨æœ€å¤šæ˜¾ç¤º10è¡Œ</span></span><br><span class="line"><span class="string">vim.o.pumheight = 10</span></span><br><span class="line"><span class="string">-- æ°¸è¿œæ˜¾ç¤º tabline</span></span><br><span class="line"><span class="string">vim.o.showtabline = 2</span></span><br><span class="line"><span class="string">-- ä½¿ç”¨å¢å¼ºçŠ¶æ€æ æ’ä»¶åä¸å†éœ€è¦ vim çš„æ¨¡å¼æç¤º</span></span><br><span class="line"><span class="string">vim.o.showmode = false</span></span><br></pre></td></tr></table></figure>
<h5 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h5><ul>
<li><code>vim.g.&#123;name&#125;</code>: å…¨å±€å˜é‡</li>
<li><code>vim.b.&#123;name&#125;</code>: ç¼“å†²åŒºå˜é‡</li>
<li><code>vim.w.&#123;name&#125;</code>: çª—å£å˜é‡</li>
<li><code>vim.bo.&#123;option&#125;</code>: buffer-local é€‰é¡¹</li>
<li><code>vim.wo.&#123;option&#125;</code>: window-local é€‰é¡¹</li>
</ul>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œå…¨éƒ¨è®¾ç½®åœ¨ <code>vim.opt</code> ä¸‹ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä¾‹å¦‚ <code>vim.opt.number = true</code> ä¹Ÿæ˜¯æœ‰æ•ˆçš„ï¼Œåªæ˜¯æˆ‘ä»¬ä¸Šè¾¹è®¾ç½®åˆ°äº†æ¯”è¾ƒè¯¦ç»†ä½ç½®è€Œå·²ï¼Œå…·ä½“æ¯ä¸ªå˜é‡çš„åˆ†ç±»å¯ä»¥åœ¨ :help æ–‡æ¡£ä¸­æŸ¥çœ‹ã€‚</p>
<h3 id="å¿«æ·é”®è®¾ç½®"><a href="#å¿«æ·é”®è®¾ç½®" class="headerlink" title="å¿«æ·é”®è®¾ç½®"></a>å¿«æ·é”®è®¾ç½®</h3><p>åˆ›å»º<code>lua/keybindings.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim.g.mapleader = <span class="string">&quot; &quot;</span></span><br><span class="line">vim.g.maplocalleader = <span class="string">&quot; &quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">local</span> map = vim.api.nvim_set_keymap</span><br><span class="line">-- å¤ç”¨ opt å‚æ•°</span><br><span class="line"><span class="built_in">local</span> opt = &#123;noremap = <span class="literal">true</span>, silent = <span class="literal">true</span> &#125;</span><br><span class="line"></span><br><span class="line">-- å–æ¶ˆ s é»˜è®¤åŠŸèƒ½</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;s&quot;</span>, <span class="string">&quot;&quot;</span>, opt)</span><br><span class="line">-- windows åˆ†å±å¿«æ·é”®</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;sv&quot;</span>, <span class="string">&quot;:vsp&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;sh&quot;</span>, <span class="string">&quot;:sp&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">-- å…³é—­å½“å‰</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;sc&quot;</span>, <span class="string">&quot;&lt;C-w&gt;c&quot;</span>, opt)</span><br><span class="line">-- å…³é—­å…¶ä»–</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;so&quot;</span>, <span class="string">&quot;&lt;C-w&gt;o&quot;</span>, opt)</span><br><span class="line">-- Alt + hjkl  çª—å£ä¹‹é—´è·³è½¬</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;A-h&gt;&quot;</span>, <span class="string">&quot;&lt;C-w&gt;h&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;A-j&gt;&quot;</span>, <span class="string">&quot;&lt;C-w&gt;j&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;A-k&gt;&quot;</span>, <span class="string">&quot;&lt;C-w&gt;k&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;A-l&gt;&quot;</span>, <span class="string">&quot;&lt;C-w&gt;l&quot;</span>, opt)</span><br><span class="line"></span><br><span class="line">-- å·¦å³æ¯”ä¾‹æ§åˆ¶</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;C-Left&gt;&quot;</span>, <span class="string">&quot;:vertical resize -2&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;C-Right&gt;&quot;</span>, <span class="string">&quot;:vertical resize +2&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;s,&quot;</span>, <span class="string">&quot;:vertical resize -20&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;s.&quot;</span>, <span class="string">&quot;:vertical resize +20&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">-- ä¸Šä¸‹æ¯”ä¾‹</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;sj&quot;</span>, <span class="string">&quot;:resize +10&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;sk&quot;</span>, <span class="string">&quot;:resize -10&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;C-Down&gt;&quot;</span>, <span class="string">&quot;:resize +2&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;C-Up&gt;&quot;</span>, <span class="string">&quot;:resize -2&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">-- ç­‰æ¯”ä¾‹</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;s=&quot;</span>, <span class="string">&quot;&lt;C-w&gt;=&quot;</span>, opt)</span><br><span class="line"></span><br><span class="line">-- Terminalç›¸å…³</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;leader&gt;t&quot;</span>, <span class="string">&quot;:sp | terminal&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;leader&gt;vt&quot;</span>, <span class="string">&quot;:vsp | terminal&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;t&quot;</span>, <span class="string">&quot;&lt;Esc&gt;&quot;</span>, <span class="string">&quot;&lt;C-\\&gt;&lt;C-n&gt;&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;t&quot;</span>, <span class="string">&quot;&lt;A-h&gt;&quot;</span>, [[ &lt;C-\&gt;&lt;C-N&gt;&lt;C-w&gt;h ]], opt)</span><br><span class="line">map(<span class="string">&quot;t&quot;</span>, <span class="string">&quot;&lt;A-j&gt;&quot;</span>, [[ &lt;C-\&gt;&lt;C-N&gt;&lt;C-w&gt;j ]], opt)</span><br><span class="line">map(<span class="string">&quot;t&quot;</span>, <span class="string">&quot;&lt;A-k&gt;&quot;</span>, [[ &lt;C-\&gt;&lt;C-N&gt;&lt;C-w&gt;k ]], opt)</span><br><span class="line">map(<span class="string">&quot;t&quot;</span>, <span class="string">&quot;&lt;A-l&gt;&quot;</span>, [[ &lt;C-\&gt;&lt;C-N&gt;&lt;C-w&gt;l ]], opt)</span><br><span class="line"></span><br><span class="line">-- visualæ¨¡å¼ä¸‹ç¼©è¿›ä»£ç </span><br><span class="line">map(<span class="string">&quot;v&quot;</span>, <span class="string">&quot;&lt;&quot;</span>, <span class="string">&quot;&lt;gv&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;v&quot;</span>, <span class="string">&quot;&gt;&quot;</span>, <span class="string">&quot;&gt;gv&quot;</span>, opt)</span><br><span class="line">-- ä¸Šä¸‹ç§»åŠ¨é€‰ä¸­æ–‡æœ¬</span><br><span class="line">map(<span class="string">&quot;v&quot;</span>, <span class="string">&quot;J&quot;</span>, <span class="string">&quot;:move &#x27;&gt;+1&lt;CR&gt;gv-gv&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;v&quot;</span>, <span class="string">&quot;K&quot;</span>, <span class="string">&quot;:move &#x27;&lt;-2&lt;CR&gt;gv-gv&quot;</span>, opt)</span><br><span class="line"></span><br><span class="line">-- ä¸Šä¸‹æ»šåŠ¨æµè§ˆ</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;C-j&gt;&quot;</span>, <span class="string">&quot;4j&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;C-k&gt;&quot;</span>, <span class="string">&quot;4k&quot;</span>, opt)</span><br><span class="line">-- ctrl u / ctrl + d  åªç§»åŠ¨9è¡Œï¼Œé»˜è®¤ç§»åŠ¨åŠå±</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;C-u&gt;&quot;</span>, <span class="string">&quot;9k&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;C-d&gt;&quot;</span>, <span class="string">&quot;9j&quot;</span>, opt)</span><br><span class="line"></span><br><span class="line">-- åœ¨visual æ¨¡å¼é‡Œç²˜è´´ä¸è¦å¤åˆ¶</span><br><span class="line">map(<span class="string">&quot;v&quot;</span>, <span class="string">&quot;p&quot;</span>, <span class="string">&#x27;&quot;_dP&#x27;</span>, opt)</span><br><span class="line"></span><br><span class="line">-- é€€å‡º</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;q&quot;</span>, <span class="string">&quot;:q&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;qq&quot;</span>, <span class="string">&quot;:q!&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;Q&quot;</span>, <span class="string">&quot;:qa!&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line"></span><br><span class="line">-- insert æ¨¡å¼ä¸‹ï¼Œè·³åˆ°è¡Œé¦–è¡Œå°¾</span><br><span class="line">map(<span class="string">&quot;i&quot;</span>, <span class="string">&quot;&lt;C-h&gt;&quot;</span>, <span class="string">&quot;&lt;ESC&gt;I&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;i&quot;</span>, <span class="string">&quot;&lt;C-l&gt;&quot;</span>, <span class="string">&quot;&lt;ESC&gt;A&quot;</span>, opt)</span><br></pre></td></tr></table></figure>
<p>æœ€ååœ¨<code>init.lua</code>ä¸­å¼•å…¥å¿«æ·é”®æ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- å¿«æ·é”®æ˜ å°„</span><br><span class="line">require(<span class="string">&quot;keybindings&quot;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="æ’ä»¶é…ç½®"><a href="#æ’ä»¶é…ç½®" class="headerlink" title="æ’ä»¶é…ç½®"></a>æ’ä»¶é…ç½®</h3><p>ç›®å‰åœ¨ Neovim æœ€å¸¸è§çš„æ’ä»¶ç®¡ç†å™¨ä¸»è¦æœ‰ <a href="https://github.com/junegunn/vim-plug">vim-plug</a> å’Œ <a href="https://github.com/wbthomason/packer.nvim">packer</a> ä¸¤ä¸ªã€‚</p>
<p>å®‰è£…æ­¥éª¤ï¼ˆè¯·å‚ç…§å®˜ç½‘æ­¥éª¤ï¼‰ï¼š</p>
<p>æ‰§è¡Œ<code>git clone --depth 1 https://github.com/wbthomason/packer.nvim\ ~/.local/share/nvim/site/pack/packer/start/packer.nvim</code></p>
<p>å®‰è£…æˆåŠŸåæ·»åŠ é…ç½®æ–‡ä»¶<code>lua/plugins.lua</code>ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> packer = require(<span class="string">&quot;packer&quot;</span>)</span><br><span class="line">packer.startup(</span><br><span class="line">  <span class="keyword">function</span>(use)</span><br><span class="line">   -- Packer å¯ä»¥ç®¡ç†è‡ªå·±æœ¬èº«</span><br><span class="line">   use <span class="string">&#x27;wbthomason/packer.nvim&#x27;</span></span><br><span class="line">   -- ä½ çš„æ’ä»¶åˆ—è¡¨...</span><br><span class="line">end)</span><br></pre></td></tr></table></figure>
<p><code>init.lua</code>ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- Packer æ’ä»¶ç®¡ç†</span><br><span class="line">require(<span class="string">&quot;plugins&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>é…ç½®ç”Ÿæ•ˆåï¼ŒNeovim ä¼šå¢åŠ ä»¥ä¸‹å‘½ä»¤ã€‚</p>
<ul>
<li><code>:PackerCompile</code>ï¼š æ¯æ¬¡æ”¹å˜æ’ä»¶é…ç½®æ—¶ï¼Œå¿…é¡»è¿è¡Œæ­¤å‘½ä»¤æˆ– <code>PackerSync</code>, é‡æ–°ç”Ÿæˆç¼–è¯‘çš„åŠ è½½æ–‡ä»¶</li>
<li><code>:PackerClean</code> ï¼š æ¸…é™¤æ‰€æœ‰ä¸ç”¨çš„æ’ä»¶</li>
<li><code>:PackerInstall</code> ï¼š æ¸…é™¤ï¼Œç„¶åå®‰è£…ç¼ºå¤±çš„æ’ä»¶</li>
<li><code>:PackerUpdate</code> ï¼š æ¸…é™¤ï¼Œç„¶åæ›´æ–°å¹¶å®‰è£…æ’ä»¶</li>
<li><code>:PackerSync</code> : æ‰§è¡Œ <code>PackerUpdate</code> åï¼Œå†æ‰§è¡Œ <code>PackerCompile</code></li>
<li><code>:PackerLoad</code> : ç«‹åˆ»åŠ è½½ opt æ’ä»¶</li>
</ul>
<p>é€šè¿‡ä¸Šè¾¹çš„è¯´æ˜ï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ° <code>:PackerSync</code> å‘½ä»¤åŒ…å«äº† <code>:PackerUpdate</code> å’Œ<code>:PackerCompile</code>ï¼Œè€Œ <code>:PackerUpdate</code> åˆåŒ…å«äº† <code>:PackerClean</code> å’Œ <code>:PackerInstall</code> æµç¨‹ã€‚</p>
<p>æ‰€ä»¥é€šå¸¸æƒ…å†µä¸‹ï¼Œæ— è®º<strong>å®‰è£…</strong>è¿˜æ˜¯<strong>æ›´æ–°</strong>æ’ä»¶ï¼Œæˆ‘åªéœ€è¦ä¸‹è¾¹è¿™ä¸€æ¡å‘½ä»¤å°±å¤Ÿï¼š<code>:PackerSync</code></p>
<p>æ¯æ¬¡ä¿®æ”¹å®Œ <code>lua/plugins.lua</code> è¿™ä¸ªæ–‡ä»¶åï¼Œä¿å­˜é€€å‡ºï¼Œé‡æ–°æ‰“å¼€å¹¶è°ƒç”¨ <code>:PackerSync</code> å°±å¯ä»¥äº†</p>
<h4 id="æ·»åŠ è‡ªåŠ¨å®‰è£…"><a href="#æ·»åŠ è‡ªåŠ¨å®‰è£…" class="headerlink" title="æ·»åŠ è‡ªåŠ¨å®‰è£…"></a>æ·»åŠ è‡ªåŠ¨å®‰è£…</h4><p><code>lua/plugins.lua</code> æ–‡ä»¶ï¼Œåœ¨æœ€åæ·»åŠ </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- æ¯æ¬¡ä¿å­˜ plugins.lua è‡ªåŠ¨å®‰è£…æ’ä»¶</span><br><span class="line">pcall(</span><br><span class="line">  vim.cmd,</span><br><span class="line">  [[</span><br><span class="line">    augroup packer_user_config</span><br><span class="line">    autocmd!</span><br><span class="line">    autocmd BufWritePost plugins.lua <span class="built_in">source</span> &lt;afile&gt; | PackerSync</span><br><span class="line">    augroup end</span><br><span class="line">  ]]</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼šä¿è¯è‡ªå·±å¯ä»¥ping é€š github çš„æƒ…å†µä¸‹ï¼Œä½†æ˜¯ä»æ—§æ‰§è¡Œ<code>:PackerSync</code>å¤±è´¥ï¼ŒæŒ‰ R å¤šæ¬¡æ‹‰å–å¤±è´¥æ’ä»¶ï¼Œå¦‚æœä¾æ—§å¤±è´¥åˆ™åœ¨é”™è¯¯æ’ä»¶å¤„ç‚¹å‡»å›è½¦ï¼ŒæŸ¥çœ‹é—®é¢˜ï¼Œå…·ä½“é—®é¢˜å…·ä½“åˆ†æï¼Œæˆ‘ä¸€èˆ¬å¤šè¯•å‡ æ¬¡ R å°±ä¼šæˆåŠŸ</p>
</blockquote>
<h3 id="é…ç½®ä¸»é¢˜"><a href="#é…ç½®ä¸»é¢˜" class="headerlink" title="é…ç½®ä¸»é¢˜"></a>é…ç½®ä¸»é¢˜</h3><p><code>init.lua</code>ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- ä¸»é¢˜è®¾ç½® ï¼ˆæ–°å¢ï¼‰</span><br><span class="line">require(<span class="string">&quot;colorscheme&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><code>lua/colorscheme.lua</code>æ·»åŠ </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> colorscheme = <span class="string">&quot;tokyonight&quot;</span></span><br><span class="line"><span class="built_in">local</span> status_ok, _ = pcall(vim.cmd, <span class="string">&quot;colorscheme &quot;</span> .. colorscheme)</span><br><span class="line"><span class="keyword">if</span> not status_ok <span class="keyword">then</span></span><br><span class="line">  vim.notify(<span class="string">&quot;colorscheme &quot;</span> .. colorscheme .. <span class="string">&quot; æ²¡æœ‰æ‰¾åˆ°ï¼&quot;</span>)</span><br><span class="line">  <span class="built_in">return</span></span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<h4 id="å®‰è£…ç¬¬ä¸‰æ–¹ä¸»é¢˜"><a href="#å®‰è£…ç¬¬ä¸‰æ–¹ä¸»é¢˜" class="headerlink" title="å®‰è£…ç¬¬ä¸‰æ–¹ä¸»é¢˜"></a>å®‰è£…ç¬¬ä¸‰æ–¹ä¸»é¢˜</h4><p><code>lua/plugins.lua</code>æ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">packer.startup(&#123;</span><br><span class="line">  <span class="keyword">function</span>(use)</span><br><span class="line">    -- Packer å¯ä»¥å‡çº§è‡ªå·±</span><br><span class="line">    use(<span class="string">&quot;wbthomason/packer.nvim&quot;</span>)</span><br><span class="line">    --------------------- colorschemes --------------------</span><br><span class="line">    -- tokyonight</span><br><span class="line">    use(<span class="string">&quot;folke/tokyonight.nvim&quot;</span>)</span><br><span class="line">    -------------------------------------------------------</span><br><span class="line"></span><br><span class="line">    -- ç•¥...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><code>:w</code>ä¿å­˜  <code>p</code>é€€å‡º</p>
<p>å…¶ä»–ä¸»ä½“é…è‰²é“¾æ¥ï¼š<a href="https://github.com/topics/neovim-colorscheme">neovim-colorscheme Â· GitHub Topics</a></p>
<p><code>lua/plugins.lua</code>æ·»åŠ æ’ä»¶é…ç½®åï¼Œä¿®æ”¹ <code>lua/colorscheme.lua</code> å†… <code>colorscheme</code> å˜é‡ä¸ºç›¸åº”çš„ä¸»é¢˜å³å¯</p>
<h3 id="ä¾§è¾¹æ æ–‡ä»¶æµè§ˆå™¨"><a href="#ä¾§è¾¹æ æ–‡ä»¶æµè§ˆå™¨" class="headerlink" title="ä¾§è¾¹æ æ–‡ä»¶æµè§ˆå™¨"></a>ä¾§è¾¹æ æ–‡ä»¶æµè§ˆå™¨</h3><p>ç›¸å…³æ’ä»¶ï¼š</p>
<ul>
<li><a href="https://github.com/nvim-tree/nvim-tree.lua">nvim-tree/nvim-tree.lua: A file explorer tree for neovim written in lua (github.com)</a></li>
</ul>
<p><code>lua/plugins.lua</code> ä¸­æ·»åŠ </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">packer.startup(&#123;</span><br><span class="line">  <span class="keyword">function</span>(use)</span><br><span class="line">    -- Packer å¯ä»¥å‡çº§è‡ªå·±</span><br><span class="line">    use(<span class="string">&quot;wbthomason/packer.nvim&quot;</span>)</span><br><span class="line">    -------------------------- plugins -------------------------------------------</span><br><span class="line">    -- nvim-tree (æ–°å¢)</span><br><span class="line">    use(&#123; <span class="string">&quot;kyazdani42/nvim-tree.lua&quot;</span>, requires = <span class="string">&quot;kyazdani42/nvim-web-devicons&quot;</span> &#125;)</span><br><span class="line"></span><br><span class="line">...ç•¥</span><br></pre></td></tr></table></figure>
<h4 id="é…ç½®-nvim-tree"><a href="#é…ç½®-nvim-tree" class="headerlink" title="é…ç½® nvim-tree"></a>é…ç½® nvim-tree</h4><p><code>lua/plugin-config/nvim-tree.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> status, nvim_tree = pcall(require, <span class="string">&quot;nvim-tree&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> not status <span class="keyword">then</span></span><br><span class="line">    vim.notify(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ° nvim-tree&quot;</span>)</span><br><span class="line">  <span class="built_in">return</span></span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">-- åˆ—è¡¨æ“ä½œå¿«æ·é”®</span><br><span class="line"><span class="built_in">local</span> list_keys = require(<span class="string">&#x27;keybindings&#x27;</span>).nvimTreeList</span><br><span class="line">nvim_tree.setup(&#123;</span><br><span class="line">    -- ä¸æ˜¾ç¤º git çŠ¶æ€å›¾æ ‡</span><br><span class="line">    git = &#123;</span><br><span class="line">        <span class="built_in">enable</span> = <span class="literal">false</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    -- project plugin éœ€è¦è¿™æ ·è®¾ç½®</span><br><span class="line">    update_cwd = <span class="literal">true</span>,</span><br><span class="line">    update_focused_file = &#123;</span><br><span class="line">        <span class="built_in">enable</span> = <span class="literal">true</span>,</span><br><span class="line">        update_cwd = <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    -- éšè— .æ–‡ä»¶ å’Œ node_modules æ–‡ä»¶å¤¹</span><br><span class="line">    filters = &#123;</span><br><span class="line">        dotfiles = <span class="literal">true</span>,</span><br><span class="line">        custom = &#123; <span class="string">&#x27;node_modules&#x27;</span> &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    view = &#123;</span><br><span class="line">        -- å®½åº¦</span><br><span class="line">        width = 40,</span><br><span class="line">        -- ä¹Ÿå¯ä»¥ <span class="string">&#x27;right&#x27;</span></span><br><span class="line">        side = <span class="string">&#x27;left&#x27;</span>,</span><br><span class="line">        -- éšè—æ ¹ç›®å½•</span><br><span class="line">        hide_root_folder = <span class="literal">false</span>,</span><br><span class="line">        -- è‡ªå®šä¹‰åˆ—è¡¨ä¸­å¿«æ·é”®</span><br><span class="line">        mappings = &#123;</span><br><span class="line">            custom_only = <span class="literal">false</span>,</span><br><span class="line">            list = list_keys,</span><br><span class="line">        &#125;,</span><br><span class="line">        -- ä¸æ˜¾ç¤ºè¡Œæ•°</span><br><span class="line">        number = <span class="literal">false</span>,</span><br><span class="line">        relativenumber = <span class="literal">false</span>,</span><br><span class="line">        -- æ˜¾ç¤ºå›¾æ ‡</span><br><span class="line">        signcolumn = <span class="string">&#x27;yes&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    actions = &#123;</span><br><span class="line">        open_file = &#123;</span><br><span class="line">            -- é¦–æ¬¡æ‰“å¼€å¤§å°é€‚é…</span><br><span class="line">            resize_window = <span class="literal">true</span>,</span><br><span class="line">            -- æ‰“å¼€æ–‡ä»¶æ—¶å…³é—­</span><br><span class="line">            quit_on_open = <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    -- wsl install -g wsl-open</span><br><span class="line">    -- https://github.com/4U6U57/wsl-open/</span><br><span class="line">    system_open = &#123;</span><br><span class="line">        cmd = <span class="string">&#x27;wsl-open&#x27;</span>, -- mac ç›´æ¥è®¾ç½®ä¸º open</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br><span class="line">-- è‡ªåŠ¨å…³é—­</span><br><span class="line">vim.cmd([[</span><br><span class="line">  autocmd BufEnter * ++nested <span class="keyword">if</span> winnr(<span class="string">&#x27;$&#x27;</span>) == 1 &amp;&amp; bufname() == <span class="string">&#x27;NvimTree_&#x27;</span> . tabpagenr() | quit | endif</span><br><span class="line">]])</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¾¹ä»£ç å°±æ˜¯ nvim-tree çš„é…ç½®ï¼Œå¯ä»¥æ ¹æ®æ³¨é‡Šè¿›è¡Œä¿®æ”¹ã€‚è¿™é‡Œç®€å•è§£é‡Šä¸€ä¸‹ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ <code>system_open</code> é¡¹ï¼Œå¦‚æœæƒ³è¦åœ¨ <code>WSL</code> ä¸­ç”¨ Windows ç³»ç»Ÿé»˜è®¤è®¾ç½®æ‰“å¼€æ–‡ä»¶ï¼Œéœ€è¦ä½¿ç”¨ <code>Node.js</code> å…¨å±€å®‰è£…ä¸€ä¸ª <code>wsl-open</code> åŒ…ï¼Œä½¿ç”¨å‘½ä»¤ <code>npm install -g wsl-open</code>ï¼Œå¦‚æœä¸éœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨å®‰è£…ã€‚ å¦‚æœä¸æ˜¯ Windows ç³»ç»Ÿä¹Ÿå°±ä¸éœ€è¦å®‰è£…ã€‚</p>
<p>nvim-tree åˆå§‹åŒ–æ”¯æŒå¾ˆå¤šå‚æ•°ï¼Œå¦‚æœæƒ³çŸ¥é“è¿˜æœ‰å“ªäº›å…¶ä»–çš„å‚æ•°ï¼Œå¯ä»¥è¿è¡Œ <code>:h nvim-tree.setup</code> è°ƒå‡ºå¸®åŠ©æ–‡æ¡£æŸ¥çœ‹ã€‚</p>
<p><code>lua/keybindings.lua</code>æ·»åŠ </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- æ’ä»¶å¿«æ·é”®</span><br><span class="line"><span class="built_in">local</span> pluginKeys = &#123;&#125;</span><br><span class="line"></span><br><span class="line">-- nvim-tree</span><br><span class="line">-- alt + m é”®æ‰“å¼€å…³é—­tree</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;A-m&gt;&quot;</span>, <span class="string">&quot;:NvimTreeToggle&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">-- åˆ—è¡¨å¿«æ·é”®</span><br><span class="line">pluginKeys.nvimTreeList = &#123;</span><br><span class="line">  -- æ‰“å¼€æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹</span><br><span class="line">  &#123; key = &#123;<span class="string">&quot;&lt;CR&gt;&quot;</span>, <span class="string">&quot;o&quot;</span>, <span class="string">&quot;&lt;2-LeftMouse&gt;&quot;</span>&#125;, action = <span class="string">&quot;edit&quot;</span> &#125;,</span><br><span class="line">  -- åˆ†å±æ‰“å¼€æ–‡ä»¶</span><br><span class="line">  &#123; key = <span class="string">&quot;v&quot;</span>, action = <span class="string">&quot;vsplit&quot;</span> &#125;,</span><br><span class="line">  &#123; key = <span class="string">&quot;h&quot;</span>, action = <span class="string">&quot;split&quot;</span> &#125;,</span><br><span class="line">  -- æ˜¾ç¤ºéšè—æ–‡ä»¶</span><br><span class="line">  &#123; key = <span class="string">&quot;i&quot;</span>, action = <span class="string">&quot;toggle_custom&quot;</span> &#125;, -- å¯¹åº” filters ä¸­çš„ custom (node_modules)</span><br><span class="line">  &#123; key = <span class="string">&quot;.&quot;</span>, action = <span class="string">&quot;toggle_dotfiles&quot;</span> &#125;, -- Hide (dotfiles)</span><br><span class="line">  -- æ–‡ä»¶æ“ä½œ</span><br><span class="line">  &#123; key = <span class="string">&quot;&lt;F5&gt;&quot;</span>, action = <span class="string">&quot;refresh&quot;</span> &#125;,</span><br><span class="line">  &#123; key = <span class="string">&quot;a&quot;</span>, action = <span class="string">&quot;create&quot;</span> &#125;,</span><br><span class="line">  &#123; key = <span class="string">&quot;d&quot;</span>, action = <span class="string">&quot;remove&quot;</span> &#125;,</span><br><span class="line">  &#123; key = <span class="string">&quot;r&quot;</span>, action = <span class="string">&quot;rename&quot;</span> &#125;,</span><br><span class="line">  &#123; key = <span class="string">&quot;x&quot;</span>, action = <span class="string">&quot;cut&quot;</span> &#125;,</span><br><span class="line">  &#123; key = <span class="string">&quot;c&quot;</span>, action = <span class="string">&quot;copy&quot;</span> &#125;,</span><br><span class="line">  &#123; key = <span class="string">&quot;p&quot;</span>, action = <span class="string">&quot;paste&quot;</span> &#125;,</span><br><span class="line">  &#123; key = <span class="string">&quot;s&quot;</span>, action = <span class="string">&quot;system_open&quot;</span> &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">return</span> pluginKeys</span><br></pre></td></tr></table></figure>
<p><code>init.lua</code>æ·»åŠ </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- æ’ä»¶é…ç½®</span><br><span class="line">require(<span class="string">&quot;plugin-config.nvim-tree&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯å‡ºç°é—®é¢˜<code>view.mappings.list has been deprecated in favour of on_attach.please run</code>ï¼Œåº”è¯¥æ˜¯æŸäº›æ’ä»¶æ›´æ–°ï¼šç›¸å…³é“¾æ¥ï¼š<a href="https://github.com/nvim-tree/nvim-tree.lua/wiki/Migrating-To-on_attach">Migrating To on_attach Â· nvim-tree/nvim-tree.lua Wiki (github.com)</a></p>
<p>è¡¨æ˜<code>view.mappings</code> and <code>remove_keymaps</code>å·²ç»å¯ç”¨éœ€è¦ç§»é™¤</p>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<p>æ³¨é‡Šæ‰<code>view.mappings</code></p>
<p>æ‰§è¡Œ<code>:NvimTreeGenerateOnAttach</code>ï¼Œå¤åˆ¶<code>nvim-tree-on-attach.lua</code>ä¸­çš„å†…å®¹ç²˜è´´åˆ°<code>nvim-tree.lua</code>ä¸­ï¼ˆéœ€è¦æ·»åŠ åœ¨setupä¹‹å‰ï¼‰</p>
<p>æ·»åŠ </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">require(<span class="string">&quot;nvim-tree&quot;</span>).setup(&#123;</span><br><span class="line">  ...</span><br><span class="line">  on_attach = on_attach,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>é—®é¢˜è§£å†³~</p>
<h3 id="é¡¶éƒ¨æ ‡ç­¾é¡µå’Œåº•éƒ¨ä¿¡æ¯æ "><a href="#é¡¶éƒ¨æ ‡ç­¾é¡µå’Œåº•éƒ¨ä¿¡æ¯æ " class="headerlink" title="é¡¶éƒ¨æ ‡ç­¾é¡µå’Œåº•éƒ¨ä¿¡æ¯æ "></a>é¡¶éƒ¨æ ‡ç­¾é¡µå’Œåº•éƒ¨ä¿¡æ¯æ </h3><p>ç›¸å…³æ’ä»¶ï¼š</p>
<ul>
<li><a href="https://github.com/akinsho/bufferline.nvim">akinsho/bufferline.nvim: A snazzy bufferline for Neovim (github.com)</a></li>
<li><a href="https://github.com/nvim-lualine/lualine.nvim">nvim-lualine/lualine.nvim: A blazing fast and easy to configure neovim statusline plugin written in pure lua. (github.com)</a></li>
</ul>
<h5 id="é¡¶éƒ¨æ ‡ç­¾é¡µ"><a href="#é¡¶éƒ¨æ ‡ç­¾é¡µ" class="headerlink" title="é¡¶éƒ¨æ ‡ç­¾é¡µ"></a>é¡¶éƒ¨æ ‡ç­¾é¡µ</h5><p><code>lua/plugins.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">packer.startup(&#123;</span><br><span class="line">  <span class="keyword">function</span>(use)</span><br><span class="line">    -- Packer å¯ä»¥å‡çº§è‡ªå·±</span><br><span class="line">    use(<span class="string">&quot;wbthomason/packer.nvim&quot;</span>)</span><br><span class="line">    -------------------------- plugins -------------------------------------------</span><br><span class="line">    -- nvim-tree</span><br><span class="line">    use(&#123; <span class="string">&quot;kyazdani42/nvim-tree.lua&quot;</span>, requires = <span class="string">&quot;kyazdani42/nvim-web-devicons&quot;</span> &#125;)</span><br><span class="line">    -- bufferline (æ–°å¢)</span><br><span class="line">    use(&#123; <span class="string">&quot;akinsho/bufferline.nvim&quot;</span>, requires = &#123; <span class="string">&quot;kyazdani42/nvim-web-devicons&quot;</span>, <span class="string">&quot;moll/vim-bbye&quot;</span> &#125;&#125;)</span><br><span class="line"></span><br><span class="line">...ç•¥</span><br></pre></td></tr></table></figure>
<p><code>:w</code> ä¿å­˜ï¼Œè‡ªåŠ¨å®‰è£…ï¼Œå®‰è£…å®Œæ•´æŒ‰ <code>q</code> é€€å‡º</p>
<p>å‡ºç°<strong>GnuTLS recv error (-110)</strong>é—®é¢˜</p>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¾æ¬¡æ‰§è¡Œ</span></span><br><span class="line">apt-get install gnutls-bin</span><br><span class="line"><span class="comment"># å…³é—­ SSL éªŒè¯</span></span><br><span class="line">git config --global http.sslVerify <span class="literal">false</span></span><br><span class="line"><span class="comment"># ç¬¬äºŒä¸ªå‘½ä»¤æ˜¯ç”¨äºè®¾ç½®ç¼“å†²åŒºå¤§å°</span></span><br><span class="line">git config --global http.postBuffer 1048576000</span><br><span class="line"><span class="comment"># æˆ–æ˜¯</span></span><br><span class="line">sudo update-alternatives --<span class="built_in">set</span> fakeroot /usr/bin/fakeroot-tcp</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘å¢åŠ äº†ä¸€ä¸ª <a href="https://github.com/moll/vim-bbye">moll/vim-bbye</a> ä¾èµ–ï¼Œå› ä¸ºè¿™ä¸ªæ’ä»¶å®‰è£…åä¼šå¢åŠ ä¸€ä¸ª <code>:Bdelete</code> å‘½ä»¤ï¼Œç›¸æ¯”å†…ç½®çš„ <code>:bdelete</code>, å®ƒåˆ é™¤ buffer çš„åŒæ—¶ï¼Œå¹¶ä¸ä¼šæä¹±å¸ƒå±€ ã€‚ å¾…ä¼šå„¿æˆ‘ä»¬ä¼šé…ç½® <code>Bdelete</code> ä¸ºå…³é—­ Tab çš„å‘½ä»¤ã€‚</p>
<p>æ–°å»º<code>lua/plugin-config/bufferline.lua</code>æ–‡ä»¶å¹¶æ·»åŠ å†…å®¹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> status, bufferline = pcall(require, <span class="string">&quot;bufferline&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> not status <span class="keyword">then</span></span><br><span class="line">    vim.notify(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ° bufferline&quot;</span>)</span><br><span class="line">  <span class="built_in">return</span></span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">-- bufferline é…ç½®</span><br><span class="line">-- https://github.com/akinsho/bufferline.nvim<span class="comment">#configuration</span></span><br><span class="line">bufferline.setup(&#123;</span><br><span class="line">  options = &#123;</span><br><span class="line">    -- å…³é—­ Tab çš„å‘½ä»¤ï¼Œè¿™é‡Œä½¿ç”¨ moll/vim-bbye çš„ :Bdelete å‘½ä»¤</span><br><span class="line">    close_command = <span class="string">&quot;Bdelete! %d&quot;</span>,</span><br><span class="line">    right_mouse_command = <span class="string">&quot;Bdelete! %d&quot;</span>,</span><br><span class="line">    -- ä¾§è¾¹æ é…ç½®</span><br><span class="line">    -- å·¦ä¾§è®©å‡º nvim-tree çš„ä½ç½®ï¼Œæ˜¾ç¤ºæ–‡å­— File Explorer</span><br><span class="line">    offsets = &#123;</span><br><span class="line">      &#123;</span><br><span class="line">        filetype = <span class="string">&quot;NvimTree&quot;</span>,</span><br><span class="line">        text = <span class="string">&quot;File Explorer&quot;</span>,</span><br><span class="line">        highlight = <span class="string">&quot;Directory&quot;</span>,</span><br><span class="line">        text_align = <span class="string">&quot;left&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    -- ä½¿ç”¨ nvim å†…ç½® LSP  åç»­è¯¾ç¨‹ä¼šé…ç½®</span><br><span class="line">    diagnostics = <span class="string">&quot;nvim_lsp&quot;</span>,</span><br><span class="line">    -- å¯é€‰ï¼Œæ˜¾ç¤º LSP æŠ¥é”™å›¾æ ‡</span><br><span class="line">    ---@diagnostic disable-next-line: unused-local</span><br><span class="line">    diagnostics_indicator = <span class="keyword">function</span>(count, level, diagnostics_dict, context)</span><br><span class="line">      <span class="built_in">local</span> s = <span class="string">&quot; &quot;</span></span><br><span class="line">      <span class="keyword">for</span> e, n <span class="keyword">in</span> pairs(diagnostics_dict) <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">local</span> sym = e == <span class="string">&quot;error&quot;</span> and <span class="string">&quot;ï— &quot;</span> or (e == <span class="string">&quot;warning&quot;</span> and <span class="string">&quot;ï± &quot;</span> or <span class="string">&quot;ï„©&quot;</span>)</span><br><span class="line">        s = s .. n .. sym</span><br><span class="line">      end</span><br><span class="line">      <span class="built_in">return</span> s</span><br><span class="line">    end,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><code>lua/keybindings.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- bufferline</span><br><span class="line">-- å·¦å³Tabåˆ‡æ¢</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;C-h&gt;&quot;</span>, <span class="string">&quot;:BufferLineCyclePrev&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;C-l&gt;&quot;</span>, <span class="string">&quot;:BufferLineCycleNext&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">-- å…³é—­</span><br><span class="line">--<span class="string">&quot;moll/vim-bbye&quot;</span></span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;C-w&gt;&quot;</span>, <span class="string">&quot;:Bdelete!&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;leader&gt;bl&quot;</span>, <span class="string">&quot;:BufferLineCloseRight&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;leader&gt;bh&quot;</span>, <span class="string">&quot;:BufferLineCloseLeft&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">map(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;leader&gt;bc&quot;</span>, <span class="string">&quot;:BufferLinePickClose&lt;CR&gt;&quot;</span>, opt)</span><br></pre></td></tr></table></figure>
<p><code>init.lua</code>æ·»åŠ </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">require(<span class="string">&quot;plugin-config.bufferline&quot;</span>)</span><br></pre></td></tr></table></figure>
<h5 id="åº•éƒ¨ä¿¡æ¯æ "><a href="#åº•éƒ¨ä¿¡æ¯æ " class="headerlink" title="åº•éƒ¨ä¿¡æ¯æ "></a>åº•éƒ¨ä¿¡æ¯æ </h5><p><code>lua/plugins.lua</code> </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- lualine (æ–°å¢)</span><br><span class="line">use(&#123; <span class="string">&quot;nvim-lualine/lualine.nvim&quot;</span>, requires = &#123; <span class="string">&quot;kyazdani42/nvim-web-devicons&quot;</span> &#125; &#125;)</span><br><span class="line">use(<span class="string">&quot;arkav/lualine-lsp-progress&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>æ–°å»º<code>lua/plugin-config/lualine.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- å¦‚æœæ‰¾ä¸åˆ°lualine ç»„ä»¶ï¼Œå°±ä¸ç»§ç»­æ‰§è¡Œ</span><br><span class="line"><span class="built_in">local</span> status, lualine = pcall(require, <span class="string">&quot;lualine&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> not status <span class="keyword">then</span></span><br><span class="line">    vim.notify(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ° lualine&quot;</span>)</span><br><span class="line">  <span class="built_in">return</span></span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">lualine.setup(&#123;</span><br><span class="line">  options = &#123;</span><br><span class="line">    theme = <span class="string">&quot;tokyonight&quot;</span>,</span><br><span class="line">    component_separators = &#123; left = <span class="string">&quot;|&quot;</span>, right = <span class="string">&quot;|&quot;</span> &#125;,</span><br><span class="line">    -- https://github.com/ryanoasis/powerline-extra-symbols</span><br><span class="line">    section_separators = &#123; left = <span class="string">&quot;îƒ† &quot;</span>, right = <span class="string">&quot;îƒ‡&quot;</span> &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  extensions = &#123; <span class="string">&quot;nvim-tree&quot;</span>, <span class="string">&quot;toggleterm&quot;</span> &#125;,</span><br><span class="line">  sections = &#123;</span><br><span class="line">    lualine_c = &#123;</span><br><span class="line">      <span class="string">&quot;filename&quot;</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;lsp_progress&quot;</span>,</span><br><span class="line">        spinner_symbols = &#123; <span class="string">&quot;ï›‰ &quot;</span>, <span class="string">&quot;ï›Š &quot;</span>, <span class="string">&quot;ï›‹ &quot;</span>, <span class="string">&quot;ï›Œ &quot;</span>, <span class="string">&quot;ï› &quot;</span>, <span class="string">&quot;ï› &quot;</span> &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    lualine_x = &#123;</span><br><span class="line">      <span class="string">&quot;filesize&quot;</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;fileformat&quot;</span>,</span><br><span class="line">        -- symbols = &#123;</span><br><span class="line">        --   unix = <span class="string">&#x27;îœ’&#x27;</span>, -- e712</span><br><span class="line">        --   dos = <span class="string">&#x27;îœ&#x27;</span>, -- e70f</span><br><span class="line">        --   mac = <span class="string">&#x27;îœ‘&#x27;</span>, -- e711</span><br><span class="line">        -- &#125;,</span><br><span class="line">        symbols = &#123;</span><br><span class="line">          unix = <span class="string">&quot;LF&quot;</span>,</span><br><span class="line">          dos = <span class="string">&quot;CRLF&quot;</span>,</span><br><span class="line">          mac = <span class="string">&quot;CR&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">&quot;encoding&quot;</span>,</span><br><span class="line">      <span class="string">&quot;filetype&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><code>init.lua</code>æ·»åŠ </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">require(<span class="string">&quot;plugin-config.lualine&quot;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="æ¨¡ç³Šæœç´¢å¿«é€ŸæŸ¥æ‰¾æ–‡ä»¶"><a href="#æ¨¡ç³Šæœç´¢å¿«é€ŸæŸ¥æ‰¾æ–‡ä»¶" class="headerlink" title="æ¨¡ç³Šæœç´¢å¿«é€ŸæŸ¥æ‰¾æ–‡ä»¶"></a>æ¨¡ç³Šæœç´¢å¿«é€ŸæŸ¥æ‰¾æ–‡ä»¶</h3><p>ç›¸å…³æ’ä»¶ï¼š<a href="https://github.com/nvim-telescope/telescope.nvim">nvim-telescope/telescope.nvim: Find, Filter, Preview, Pick. All lua, all the time. (github.com)</a>     </p>
<p><code>lua/plugins.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- telescope ï¼ˆæ–°å¢ï¼‰</span><br><span class="line">use &#123; <span class="string">&#x27;nvim-telescope/telescope.nvim&#x27;</span>, requires = &#123; <span class="string">&quot;nvim-lua/plenary.nvim&quot;</span> &#125; &#125;</span><br></pre></td></tr></table></figure>
<p><code>:checkhealth telescope</code> æ£€æŸ¥ä¾èµ–æƒ…å†µï¼Œè¿™é‡Œé€šå¸¸ä¼šæç¤º <code>ripgrep</code> ä¸å­˜åœ¨ï¼Œå› ä¸º <code>telescope</code> ä¾èµ–ä»¥ä¸‹ä¸¤ä¸ªé¡¹ç›®ã€‚</p>
<ul>
<li><a href="https://github.com/sharkdp/fd">sharkdp/fd: A simple, fast and user-friendly alternative to â€˜findâ€™ (github.com)</a></li>
<li><a href="https://github.com/BurntSushi/ripgrep">BurntSushi/ripgrep: ripgrep recursively searches directories for a regex pattern while respecting your gitignore (github.com)</a></li>
</ul>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 20.04 å®‰è£… repgrep</span></span><br><span class="line">sudo apt install ripgrep</span><br><span class="line"><span class="comment"># 18.04 å®‰è£… repgrep</span></span><br><span class="line">sudo add-apt-repository ppa:x4121/ripgrep</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt install ripgrep</span><br><span class="line"><span class="comment"># å®‰è£… fd</span></span><br><span class="line">npm install -g fd-find</span><br></pre></td></tr></table></figure>
<h4 id="é…ç½®-node-ç¯å¢ƒ"><a href="#é…ç½®-node-ç¯å¢ƒ" class="headerlink" title="é…ç½® node ç¯å¢ƒ"></a>é…ç½® node ç¯å¢ƒ</h4><h4 id="node"><a href="#node" class="headerlink" title="node"></a>node</h4><p>é…ç½®æºï¼Œéœ€è¦å“ªä¸ªç‰ˆæœ¬å¯ä»¥å°†16æ›¿æ¢ä¸ºç›¸åº”ç‰ˆæœ¬</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl -sL https://deb.nodesource.com/setup_16.x | sudo -E bash -</span><br></pre></td></tr></table></figure>
<p>å®‰è£…</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get update -y</span><br><span class="line">sudo apt install -y nodejs</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä¸æƒ³è¦è‡ªå·±é…ç½®æŒ‡å®šç‰ˆæœ¬æºçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt update -y</span><br><span class="line">sudo apt install nodejs npm</span><br></pre></td></tr></table></figure>
<h4 id="nvm"><a href="#nvm" class="headerlink" title="nvm"></a>nvm</h4><p>å®˜ç½‘ï¼š<a href="https://github.com/nvm-sh/nvm">nvm-sh/nvm: Node Version Manager - POSIX-compliant bash script to manage multiple active node.js versions (github.com)</a></p>
<p>git clone nvmä»“åº“æ—¶é‡åˆ°å¦‚ä¸‹é”™è¯¯</p>
<blockquote>
<p>GnuTLS recv error (-110): The TLS connection ã€‚ã€‚ã€‚</p>
</blockquote>
<p>æˆ‘æ˜¯å› ä¸ºIpv6çš„é—®é¢˜ï¼Œå¯ä»¥git clone -4 æŒ‡å®šä½¿ç”¨Ipv4è¿æ¥</p>
<p>ä½†æ˜¯æ‰§è¡Œ<code>ap-get update</code>é‡åˆ°é—®é¢˜ï¼š</p>
<blockquote>
<p>Err:12 <a href="http://ppa.launchpad.net/x4121/ripgrep/ubuntu">http://ppa.launchpad.net/x4121/ripgrep/ubuntu</a> focal Release<br>  404  Not Found [IP: 185.125.190.52 80]<br>Reading package listsâ€¦<br>E: The repository â€˜<a href="http://ppa.launchpad.net/x4121/ripgrep/ubuntu">http://ppa.launchpad.net/x4121/ripgrep/ubuntu</a> focal Releaseâ€™ does not have a Release file.</p>
</blockquote>
<p>è¿™æ˜¯å› ä¸ºä¹‹å‰æˆ‘æ‰§è¡Œè¿‡<code>sudo add-apt-repository ppa:x4121/ripgrep</code>æ‰€ä»¥å¯ä»¥ç›´æ¥æ‰‹åŠ¨åˆ é™¤</p>
<p>è§£å†³æ–¹æ¡ˆï¼ˆè‡ªåŠ¨ç§»é™¤å†æ›´æ–°ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-add-repository -r ppa:x4121/ripgrep</span><br><span class="line"><span class="comment"># æŒ‡çš„æ˜¯å…ˆç§»é™¤armagetronad-devè¿™ä¸ªppaåŒ…ï¼Œå†æ·»åŠ è¿™ä¸ªppaåŒ…</span></span><br><span class="line">sudo apt update -q</span><br></pre></td></tr></table></figure>
<p>æ‰‹åŠ¨åˆ é™¤</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/apt/sources.list.d</span><br><span class="line"><span class="built_in">rm</span> x4121-ubuntu-ripgrep-focal.list</span><br><span class="line"><span class="comment"># .save æ–‡ä»¶æ˜¯å¤‡ä»½ï¼Œä¸éœ€è¦ç®¡</span></span><br></pre></td></tr></table></figure>
<p>åé¢æˆ‘åœ¨ä½¿ç”¨æ›´æ–°æ’ä»¶åŒ…æ—¶çˆ†å‡ºï¼š<code>Could not resolve host github.com</code></p>
<p>è§£å†³1ï¼ˆå¤±è´¥ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä»å…¨å±€é…ç½®æ–‡ä»¶ä¸­åˆ é™¤ä»£ç†è®¾ç½®</span></span><br><span class="line">git config --global --<span class="built_in">unset</span> http.proxy</span><br><span class="line">git config --global --<span class="built_in">unset</span> https.proxy</span><br></pre></td></tr></table></figure>
<p>è§£å†³2ï¼ˆæˆåŠŸï¼‰ï¼š</p>
<p>æˆ‘ç›´æ¥pingäº†ä¸‹ç½‘ç»œï¼Œå‘ç°ä¸åªæ˜¯githubè¿ä¸ä¸Šï¼Œè€Œæ˜¯æ•´ä¸ªWSLç½‘ç»œéƒ½ä¸èƒ½ä½¿ç”¨ï¼Œåœ¨å®¿ä¸»æœºä¸­æˆ‘æŸ¥çœ‹WSLç½‘ç»œé…ç½®ï¼Œå‘ç°æœªä¿®å¤ä¹‹å‰ä¸¤ä¸ªçº¢æ¡†ä¸­çš„ipåœ°å€æ˜¯æ²¡æœ‰çš„</p>
<p><img src="https://cdn.jsdelivr.net/gh/Returntmp/blog-image@main/blog/image-20230509091607416.png" alt="image-20230509091607416"></p>
<p>ç›´æ¥åœ¨å®¿ä¸»æœºä¸Šä½¿ç”¨ç®¡ç†å‘˜æƒé™æ‰§è¡Œ<code>netsh winsock reset</code>é‡å¯ç½‘ç»œå³å¯ï¼ˆæ³¨æ„ï¼šä¸éœ€è¦é‡å¯ï¼‰</p>
<blockquote>
<p>ä¸‹é¢è§£å†³æ–¹æ¡ˆæ²¡æœ‰è¯•è¿‡ï¼Œä»…ä½œä¸ºå¤‡ç”¨æ–¹æ¡ˆ</p>
</blockquote>
<p>è§£å†³3ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é‡å¯ WSL æŒ‡ä»¤ </span></span><br><span class="line">$ wsl --shutdown </span><br><span class="line"><span class="comment"># ä¹‹åå°±é‡æ–°å¯åŠ¨è¿›å…¥å³å¯ </span></span><br><span class="line">$ wsl</span><br></pre></td></tr></table></figure>
<h3 id="è‡ªå®šä¹‰å¯åŠ¨é¡µä¸é¡¹ç›®åˆ—è¡¨"><a href="#è‡ªå®šä¹‰å¯åŠ¨é¡µä¸é¡¹ç›®åˆ—è¡¨" class="headerlink" title="è‡ªå®šä¹‰å¯åŠ¨é¡µä¸é¡¹ç›®åˆ—è¡¨"></a>è‡ªå®šä¹‰å¯åŠ¨é¡µä¸é¡¹ç›®åˆ—è¡¨</h3><p>å½“æˆ‘ä»¬åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ <code>nvim</code> ä¸å¸¦ä»»ä½•è·¯å¾„å¹¶æ•²å‡»å›è½¦çš„æ—¶å€™ï¼Œå°±ä¼šæ‰“å¼€è¿™ä¸ªç•Œé¢ï¼Œé€šå¸¸æˆ‘ä»¬ä¼šåœ¨è¿™ä¸ªç•Œé¢ä¸­é…ç½®æœ€å¸¸ç”¨åŠŸèƒ½ï¼Œæ¯”å¦‚æ‰“å¼€æœ€è¿‘ç¼–è¾‘è¿‡çš„æ–‡ä»¶ï¼Œå¿«é€Ÿæ‰“å¼€é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œå¿«é€Ÿä¿®æ”¹å¿«æ·é”®ç­‰ã€‚</p>
<p>ä½¿ç”¨å®˜æ–¹é…ç½®çš„å›¾åƒï¼š    <a href="https://github.com/nvimdev/dashboard-nvim/wiki/Ascii-Header-Text">Ascii Header Text Â· nvimdev/dashboard-nvim Wiki (github.com)</a></p>
<p>ä½¿ç”¨å­—ä½“ç”Ÿæˆå™¨ï¼š<a href="http://patorjk.com/software/taag/#p=display&amp;f=ANSI Shadow&amp;t=rettmp">Text to ASCII Art Generator (TAAG) (patorjk.com)</a></p>
<p>åŒæ · plugins.lua ä¸­æ·»åŠ ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- dashboard-nvim (æ–°å¢)</span><br><span class="line">use(<span class="string">&quot;glepnir/dashboard-nvim&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>åˆ›å»º lua/plugin-config/dashboard.lua ï¼Œå¹¶æ·»åŠ ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> status, db = pcall(require, <span class="string">&quot;dashboard&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> not status <span class="keyword">then</span></span><br><span class="line">  vim.notify(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ° dashboard&quot;</span>)</span><br><span class="line">  <span class="built_in">return</span></span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">db.setup(&#123;</span><br><span class="line">  theme = <span class="string">&#x27;doom&#x27;</span>,</span><br><span class="line">  config = &#123;</span><br><span class="line">    header = &#123;</span><br><span class="line">[[                                                     ]],</span><br><span class="line">[[                                                     ]],</span><br><span class="line">[[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— ]],</span><br><span class="line">[[â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—]],</span><br><span class="line">[[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ•‘      â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•]],</span><br><span class="line">[[â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•     â–ˆâ–ˆâ•‘      â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â• ]],</span><br><span class="line">[[â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•‘      â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     ]],</span><br><span class="line">[[â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•   â•šâ•â•      â•šâ•â•   â•šâ•â•     â•šâ•â•â•šâ•â•     ]],</span><br><span class="line">[[                                                     ]],</span><br><span class="line">[[                [ version : 1.0.0 ]                  ]],</span><br><span class="line">[[                                                     ]],</span><br><span class="line">    &#125;, --your header</span><br><span class="line">    center = &#123;</span><br><span class="line">  &#123;</span><br><span class="line">    icon = <span class="string">&quot;ï‘¡  &quot;</span>,</span><br><span class="line">    desc = <span class="string">&quot;Projects                            &quot;</span>,</span><br><span class="line">    action = <span class="string">&quot;Telescope projects&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    icon = <span class="string">&quot;ï‘¤  &quot;</span>,</span><br><span class="line">    desc = <span class="string">&quot;Recently files                      &quot;</span>,</span><br><span class="line">    action = <span class="string">&quot;Telescope oldfiles&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    icon = <span class="string">&quot;ï ‹  &quot;</span>,</span><br><span class="line">    desc = <span class="string">&quot;Edit keybindings                    &quot;</span>,</span><br><span class="line">    action = <span class="string">&quot;edit ~/.config/nvim/lua/keybindings.lua&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    icon = <span class="string">&quot;î˜•  &quot;</span>,</span><br><span class="line">    desc = <span class="string">&quot;Edit Projects                       &quot;</span>,</span><br><span class="line">    action = <span class="string">&quot;edit ~/.local/share/nvim/project_nvim/project_history&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    footer = &#123;&#125;  --your footer</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯é‡Œé¢çš„ <code>Telescope projects</code> å¹¶ä¸æ˜¯ telescope å†…ç½®çš„å‘½ä»¤ã€‚éœ€è¦å®‰è£…<code>ahmedkhalf/project.nvim</code>æ’ä»¶ï¼Œæ‰§è¡Œå¦‚ä¸‹æ­¥éª¤</p>
<h5 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h5><p>æ·»åŠ æ’ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- project</span><br><span class="line">use(<span class="string">&quot;ahmedkhalf/project.nvim&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>ç¡®ä¿<code>lua/plugin-config/nvim-tree.lua</code>æ–‡ä»¶ä¸­æœ‰å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nvim_tree.setup(&#123;</span><br><span class="line">  --- ä¸Šç•¥</span><br><span class="line"></span><br><span class="line">  -- project plugin éœ€è¦è¿™æ ·è®¾ç½®</span><br><span class="line">  update_cwd = <span class="literal">true</span>,</span><br><span class="line">  update_focused_file = &#123;</span><br><span class="line">    <span class="built_in">enable</span> = <span class="literal">true</span>,</span><br><span class="line">    update_cwd = <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  -- ä¸‹ç•¥</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åˆ›å»º<code>lua/plugin-config/project.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> status, project = pcall(require, <span class="string">&quot;project_nvim&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> not status <span class="keyword">then</span></span><br><span class="line">    vim.notify(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ° project_nvim&quot;</span>)</span><br><span class="line">  <span class="built_in">return</span></span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">-- nvim-tree æ”¯æŒ</span><br><span class="line">vim.g.nvim_tree_respect_buf_cwd = 1</span><br><span class="line"></span><br><span class="line">project.setup(&#123;</span><br><span class="line">  detection_methods = &#123; <span class="string">&quot;pattern&quot;</span> &#125;,</span><br><span class="line">  patterns = &#123; <span class="string">&quot;.git&quot;</span>, <span class="string">&quot;_darcs&quot;</span>, <span class="string">&quot;.hg&quot;</span>, <span class="string">&quot;.bzr&quot;</span>, <span class="string">&quot;.svn&quot;</span>, <span class="string">&quot;Makefile&quot;</span>, <span class="string">&quot;package.json&quot;</span>, <span class="string">&quot;.sln&quot;</span> &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">local</span> status, telescope = pcall(require, <span class="string">&quot;telescope&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> not status <span class="keyword">then</span></span><br><span class="line">  vim.notify(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ° telescope&quot;</span>)</span><br><span class="line">  <span class="built_in">return</span></span><br><span class="line">end</span><br><span class="line">pcall(telescope.load_extension, <span class="string">&quot;projects&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><code>init.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">require(<span class="string">&quot;plugin-config.dashboard&quot;</span>)</span><br><span class="line">require(<span class="string">&quot;plugin-config.project&quot;</span>)</span><br></pre></td></tr></table></figure>
<h6 id="æ‰‹åŠ¨ç¼–è¾‘-project-history-åˆ—è¡¨"><a href="#æ‰‹åŠ¨ç¼–è¾‘-project-history-åˆ—è¡¨" class="headerlink" title="æ‰‹åŠ¨ç¼–è¾‘ project_history åˆ—è¡¨"></a>æ‰‹åŠ¨ç¼–è¾‘ <code>project_history</code> åˆ—è¡¨</h6><p>æ‰§è¡Œ<code>:lua print(require(&quot;project_nvim.utils.path&quot;).historyfile)</code></p>
<p>æˆ‘å¾—åˆ°äº†<code>~/.local/share/nvim/project_nvim/project_history</code>è¿™ä¸ªæ–‡ä»¶ï¼Œç›´æ¥ç¼–è¾‘å³å¯</p>
<p>æ·»åŠ </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/root/.config/nvim</span><br></pre></td></tr></table></figure>
<p>ä»¥åçš„è¯å¯ä»¥æ–¹ä¾¿ç¼–å†™nvimé¡¹ç›®é…ç½® :)</p>
<h3 id="è¯­æ³•é«˜äº®å®‰è£…åŠé…ç½®"><a href="#è¯­æ³•é«˜äº®å®‰è£…åŠé…ç½®" class="headerlink" title="è¯­æ³•é«˜äº®å®‰è£…åŠé…ç½®"></a>è¯­æ³•é«˜äº®å®‰è£…åŠé…ç½®</h3><p>ç›¸å…³æ’ä»¶ï¼š<a href="https://github.com/nvim-treesitter/nvim-treesitter">nvim-treesitter/nvim-treesitter: Nvim Treesitter configurations and abstraction layer (github.com)</a></p>
<p>æ·»åŠ æ’ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- treesitter ï¼ˆæ–°å¢ï¼‰</span><br><span class="line">use(&#123; <span class="string">&quot;nvim-treesitter/nvim-treesitter&quot;</span>, run = <span class="string">&quot;:TSUpdate&quot;</span> &#125;)</span><br></pre></td></tr></table></figure>
<h5 id="æ‰‹åŠ¨å®‰è£…Language-parser"><a href="#æ‰‹åŠ¨å®‰è£…Language-parser" class="headerlink" title="æ‰‹åŠ¨å®‰è£…Language parser"></a>æ‰‹åŠ¨å®‰è£…Language parser</h5><p>è¿è¡Œ <code>:TSInstallInfo</code> å‘½ä»¤æŸ¥çœ‹ language parsers åˆ—è¡¨ä¸å®‰è£…çŠ¶æ€</p>
<p><img src="C:\Users\86150\AppData\Roaming\Typora\typora-user-images\image-20230509193140841.png" alt="image-20230509193140841"></p>
<p>å®‰è£…ï¼š:TSInstall javascript</p>
<p>å¸è½½ï¼š:TSUninstall javascript</p>
<p>å®‰è£…åä¼šåœ¨ packer ä¸­ç”Ÿæˆç›¸åº”è¯­è¨€çš„soæ–‡ä»¶</p>
<h5 id="è‡ªåŠ¨å®‰è£…é…ç½®"><a href="#è‡ªåŠ¨å®‰è£…é…ç½®" class="headerlink" title="è‡ªåŠ¨å®‰è£…é…ç½®"></a>è‡ªåŠ¨å®‰è£…é…ç½®</h5><p><code>lua/plugin-config/nvim-treesitter.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> status, treesitter = pcall(require, <span class="string">&quot;nvim-treesitter.configs&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> not status <span class="keyword">then</span></span><br><span class="line">    vim.notify(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ° nvim-treesitter&quot;</span>)</span><br><span class="line">    <span class="built_in">return</span></span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">treesitter.setup(&#123;</span><br><span class="line">  -- å®‰è£… language parser</span><br><span class="line">  -- :TSInstallInfo å‘½ä»¤æŸ¥çœ‹æ”¯æŒçš„è¯­è¨€</span><br><span class="line">  ensure_installed = &#123; <span class="string">&quot;json&quot;</span>, <span class="string">&quot;html&quot;</span>, <span class="string">&quot;css&quot;</span>, <span class="string">&quot;vim&quot;</span>, <span class="string">&quot;lua&quot;</span>, <span class="string">&quot;javascript&quot;</span>, <span class="string">&quot;typescript&quot;</span>, <span class="string">&quot;tsx&quot;</span> &#125;,</span><br><span class="line">  -- å¯ç”¨ä»£ç é«˜äº®æ¨¡å—</span><br><span class="line">  highlight = &#123;</span><br><span class="line">    <span class="built_in">enable</span> = <span class="literal">true</span>,</span><br><span class="line">    additional_vim_regex_highlighting = <span class="literal">false</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><code>init.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">require(<span class="string">&quot;plugin-config.nvim-treesitter&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>ç¨å¾®è¯´ä¸‹é‡Œé¢ nvim-treesitter ä¸­çš„é…ç½®</p>
<h5 id="å¢é‡é€‰æ‹©æ¨¡å—"><a href="#å¢é‡é€‰æ‹©æ¨¡å—" class="headerlink" title="å¢é‡é€‰æ‹©æ¨¡å—"></a>å¢é‡é€‰æ‹©æ¨¡å—</h5><p>å½“ä½ çš„å…‰æ ‡åœ¨ä¸€ä¸ªè¯­æ³•ç»“ç‚¹ä¸Šæ—¶ï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸ªå¢åŠ é”®å’Œä¸€ä¸ªå‡å°‘é”®ï¼Œæ•²å‡»è¿™ä¸¤ä¸ªï¼Œåœ¨è¡¨ç°ä¸Šä¸ºä¸æ–­å¤–æ‰©å’Œæ”¶ç¼©é€‰ä¸­ä»£ç ã€‚</p>
<p>å¢åŠ å’Œå‡å°‘ç»“ç‚¹çš„å¿«æ·é”®è®¾ç½®æˆäº† <strong>å›è½¦</strong> å’Œ <strong>é€€æ ¼</strong> ã€‚é€šè¿‡ä¸æ–­çš„æŒ‰ Enter é€‰æ‹©åŒºåŸŸä¼šä»é‡Œå±‚ä¸æ–­å¤–æ‰©ï¼Œ Backspace åˆ™ç›¸åä¸æ–­å†…æ”¶ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- å¯ç”¨å¢é‡é€‰æ‹©æ¨¡å—</span><br><span class="line">incremental_selection = &#123;</span><br><span class="line">  <span class="built_in">enable</span> = <span class="literal">true</span>,</span><br><span class="line">  keymaps = &#123;</span><br><span class="line">    init_selection = <span class="string">&quot;&lt;CR&gt;&quot;</span>,</span><br><span class="line">    node_incremental = <span class="string">&quot;&lt;CR&gt;&quot;</span>,</span><br><span class="line">    node_decremental = <span class="string">&quot;&lt;BS&gt;&quot;</span>,</span><br><span class="line">    scope_incremental = <span class="string">&quot;&lt;TAB&gt;&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h5 id="ä»£ç ç¼©è¿›"><a href="#ä»£ç ç¼©è¿›" class="headerlink" title="ä»£ç ç¼©è¿›"></a>ä»£ç ç¼©è¿›</h5><p>åœ¨ visual æ¨¡å¼ä¸­æŒ‰ = å³å¯å®ç°ä»£ç ç¼©è¿›</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- å¯ç”¨ä»£ç ç¼©è¿›æ¨¡å— (=)</span><br><span class="line">indent = &#123;</span><br><span class="line">  <span class="built_in">enable</span> = <span class="literal">true</span>,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h5 id="ä»£ç æŠ˜å "><a href="#ä»£ç æŠ˜å " class="headerlink" title="ä»£ç æŠ˜å "></a>ä»£ç æŠ˜å </h5><p>å¿«æ·é”®ä¸­è®¾ç½®äº†<code>zc</code> ç»„åˆé”®æ¥æŠ˜å  <code>&#123;&#125;</code> ä¸­çš„å†…å®¹ï¼Œè¿˜ä½¿ç”¨ <code>zo</code> ç»„åˆé”®æ¥æ‰“å¼€å¯¹åº”çš„æŠ˜å ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- å¼€å¯ Folding æ¨¡å—</span><br><span class="line">vim.opt.foldmethod = <span class="string">&quot;expr&quot;</span></span><br><span class="line">vim.opt.foldexpr = <span class="string">&quot;nvim_treesitter#foldexpr()&quot;</span></span><br><span class="line">-- é»˜è®¤ä¸è¦æŠ˜å </span><br><span class="line">-- https://stackoverflow.com/questions/8316139/how-to-set-the-default-to-unfolded-when-you-open-a-file</span><br><span class="line">vim.opt.foldlevel = 99</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œ<code>:TSModuleInfo</code>æŸ¥çœ‹æ˜¯å¦æˆåŠŸ</p>
<p>å¦‚æœå‡ºç°é—®é¢˜å…ˆæ‰§è¡Œ<code>TSUpdate</code>çœ‹æ˜¯å¦å¯ä»¥è§£å†³ï¼Œæ— æ³•è§£å†³æŸ¥çœ‹å®˜æ–¹issuesæˆ–wiki</p>
<h3 id="LSP-åŸºç¡€é…ç½®"><a href="#LSP-åŸºç¡€é…ç½®" class="headerlink" title="LSP åŸºç¡€é…ç½®"></a>LSP åŸºç¡€é…ç½®</h3><p>ç›®çš„ï¼šå®ç°ç±»ä¼¼IDEçš„æ™ºèƒ½æç¤ºã€è¯­æ³•æ£€æŸ¥å’Œè§£æã€æ‚¬åœæ–‡æ¡£ç­‰äº¤äº’ä½“éªŒ</p>
<p>å®šä¹‰ï¼š<strong>LSP</strong>(Language Server Protocol) è¯­è¨€æœåŠ¡åè®®ï¼Œè¯¥åè®®å®šä¹‰äº†åœ¨ç¼–è¾‘å™¨æˆ–IDEä¸è¯­è¨€æœåŠ¡å™¨ä¹‹é—´ä½¿ç”¨çš„åè®®ï¼Œè¯¥è¯­è¨€æœåŠ¡å™¨æä¾›äº†ä¾‹å¦‚è‡ªåŠ¨è¡¥å…¨ï¼Œè½¬åˆ°å®šä¹‰ï¼ŒæŸ¥æ‰¾æ‰€æœ‰å¼•ç”¨ç­‰çš„åŠŸèƒ½ï¼›è¯­è¨€æœåŠ¡å™¨ç´¢å¼•æ ¼å¼çš„ç›®æ ‡æ˜¯æ”¯æŒåœ¨å¼€å‘å·¥å…·ä¸­è¿›è¡Œä¸°å¯Œçš„ä»£ç å¯¼èˆªæˆ–è€…ä¸€ä¸ªæ— éœ€æœ¬åœ°æºç å‰¯æœ¬çš„WebUIã€‚</p>
<h5 id="å¼€å¯-neovim-å†…ç½®LSP"><a href="#å¼€å¯-neovim-å†…ç½®LSP" class="headerlink" title="å¼€å¯ neovim å†…ç½®LSP"></a>å¼€å¯ neovim å†…ç½®LSP</h5><p>æ‰§è¡Œ<code>:h lsp</code>æŸ¥çœ‹quick startï¼Œé‡Œé¢çš„æ­¥éª¤å¦‚ä¸‹</p>
<ul>
<li>ä½¿ç”¨åŒ…ç®¡ç†å™¨å®‰è£…è¯­è¨€æœåŠ¡å™¨</li>
<li>ä¸ºæ¯ä¸€ç§è¯­è¨€æœåŠ¡å™¨é…ç½®LSPå®¢æˆ·ç«¯</li>
<li>é…ç½®å¿«æ·é”®(keymaps)å’Œè‡ªåŠ¨å‘½ä»¤(autocmds)</li>
</ul>
<h6 id="é…ç½®å®¢æˆ·ç«¯"><a href="#é…ç½®å®¢æˆ·ç«¯" class="headerlink" title="é…ç½®å®¢æˆ·ç«¯"></a>é…ç½®å®¢æˆ·ç«¯</h6><p>å®‰è£…æ’ä»¶ï¼š<a href="https://github.com/neovim/nvim-lspconfig">neovim/nvim-lspconfig: Quickstart configs for Nvim LSP (github.com)</a></p>
<h6 id="é…ç½®è¯­è¨€æœåŠ¡å™¨"><a href="#é…ç½®è¯­è¨€æœåŠ¡å™¨" class="headerlink" title="é…ç½®è¯­è¨€æœåŠ¡å™¨"></a>é…ç½®è¯­è¨€æœåŠ¡å™¨</h6><p>å®‰è£…æ’ä»¶ï¼š<a href="https://github.com/williamboman/nvim-lsp-installer">williamboman/nvim-lsp-installer: Further development has moved to https://github.com/williamboman/mason.nvim!</a></p>
<p>é…ç½®æ’ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">--------------------- LSP --------------------</span><br><span class="line">use(<span class="string">&quot;williamboman/nvim-lsp-installer&quot;</span>)</span><br><span class="line">-- Lspconfig</span><br><span class="line">use(&#123; <span class="string">&quot;neovim/nvim-lspconfig&quot;</span> &#125;)</span><br></pre></td></tr></table></figure>
<h5 id="å®‰è£…-LSP-Server"><a href="#å®‰è£…-LSP-Server" class="headerlink" title="å®‰è£… LSP Server"></a>å®‰è£… LSP Server</h5><p>è¿è¡Œ<code>:LspInstallInfo</code> ï¼Œç‚¹å‡» i å³å¯å®‰è£…ç›¸åº”çš„ Server ï¼Œè¿›å…¥ä¹‹åå®‰è£… Lua server</p>
<p><img src="https://cdn.jsdelivr.net/gh/Returntmp/blog-image@main/blog/image-20230509232347556.png" alt="image-20230509232347556"></p>
<p>ä»æœ€ä¸Šé¢çš„ä»‹ç»å¾—çŸ¥ä½œè€…æœªæ¥ä¼šç”¨ <strong>mason.nvim</strong> å–ä»£ <strong>nvim-lsp-installer</strong>ï¼Œ<strong>mason.nvim</strong> é¡¹ç›®æ”¯æŒæ›´å¤šçš„ server å®‰è£…ï¼Œä¸ä»…ä»…æ˜¯LSP Server è¿˜æ”¯æŒ DAP serversã€ lintersã€formatters ç­‰ç­‰è¶…è¿‡ 150 ä¸ªåŒ…ï¼Œ100+ ç§ç¼–ç¨‹è¯­è¨€ï¼Œå¹¶ä¸”å‡çº§ä¹Ÿæ˜¯éå¸¸ç®€å•çš„</p>
<p>ä½†æ˜¯å®‰è£…å¤±è´¥ï¼Œç›´æ¥é‡æ–°å®‰è£…å³å¯æˆåŠŸ</p>
<p>ä½†æ˜¯æœ‰æ—¶é‡åˆ°<code>could not find executable &quot;unzip&quot; in path</code> é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install zip unzip</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯å®‰è£…æˆåŠŸä¹‹åå‘ç°é—®é¢˜ï¼Œæˆ‘ä»issuesä¸­äº†è§£åˆ°æ˜¯å› ä¸ºlua serverçš„ä»“åº“åœ°å€å‘ç”Ÿå˜åŒ–</p>
<p><img src="https://cdn.jsdelivr.net/gh/Returntmp/blog-image@main/blog/image-20230510000325530.png" alt="image-20230510000325530"></p>
<p>é‰´äº<strong>nvim-lsp-installer</strong>å‡ºç°çš„å„ç§é—®é¢˜ï¼Œç°åœ¨ä½¿ç”¨<strong>mason.nvim</strong>ä»£æ›¿<strong>nvim-lsp-installer</strong></p>
<p>æ­¥éª¤ï¼š</p>
<ul>
<li>è¿è¡Œ<code>:LspUninstallAll</code>å¸è½½<code>nvim-lsp-installer</code></li>
<li>plugins.lua æ›¿æ¢ <strong>nvim-lsp-installer</strong> æ’ä»¶ä¸º <strong>mason.nvim</strong> å’Œ <strong>mason-lspconfig.nvim</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">use(&#123; <span class="string">&quot;williamboman/mason.nvim&quot;</span> &#125;)</span><br><span class="line">use(&#123; <span class="string">&quot;williamboman/mason-lspconfig.nvim&quot;</span> &#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>lua/lsp/setup.lua</code> ç›¸åº”éƒ¨åˆ†æ›¿æ¢ä¸ºï¼ˆè¿™ä¸ªæ–‡ä»¶åé¢ä¼šåˆ›å»ºï¼Œç°åœ¨å…ˆè®²ä¸‹ï¼‰</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> status, mason = pcall(require, <span class="string">&quot;mason&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> not status <span class="keyword">then</span></span><br><span class="line">  vim.notify(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ° mason&quot;</span>)</span><br><span class="line">  <span class="built_in">return</span></span><br><span class="line">end</span><br><span class="line"></span><br><span class="line"><span class="built_in">local</span> status, mason_config = pcall(require, <span class="string">&quot;mason-lspconfig&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> not status <span class="keyword">then</span></span><br><span class="line">  vim.notify(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ° mason-lspconfig&quot;</span>)</span><br><span class="line">  <span class="built_in">return</span></span><br><span class="line">end</span><br><span class="line"></span><br><span class="line"><span class="built_in">local</span> status, lspconfig = pcall(require, <span class="string">&quot;lspconfig&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> not status <span class="keyword">then</span></span><br><span class="line">  vim.notify(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ° lspconfig&quot;</span>)</span><br><span class="line">  <span class="built_in">return</span></span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">-- :h mason-default-settings</span><br><span class="line">-- ~/.local/share/nvim/mason</span><br><span class="line">mason.setup(&#123;</span><br><span class="line">  ui = &#123;</span><br><span class="line">    icons = &#123;</span><br><span class="line">      package_installed = <span class="string">&quot;âœ“&quot;</span>,</span><br><span class="line">      package_pending = <span class="string">&quot;âœ&quot;</span>,</span><br><span class="line">      package_uninstalled = <span class="string">&quot;âœ—&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">-- mason-lspconfig uses the `lspconfig` server names <span class="keyword">in</span> the APIs it exposes - not `mason.nvim` package names</span><br><span class="line">-- https://github.com/williamboman/mason-lspconfig.nvim/blob/main/doc/server-mapping.md</span><br><span class="line">mason_config.setup(&#123;</span><br><span class="line">  ensure_installed = &#123;</span><br><span class="line">    <span class="string">&quot;lua_ls&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">-- å®‰è£…åˆ—è¡¨</span><br><span class="line">-- &#123; key: æœåŠ¡å™¨åï¼Œ value: é…ç½®æ–‡ä»¶ &#125;</span><br><span class="line">-- key å¿…é¡»ä¸ºä¸‹åˆ—ç½‘å€åˆ—å‡ºçš„ server nameï¼Œä¸å¯ä»¥éšä¾¿å†™</span><br><span class="line">-- https://github.com/williamboman/nvim-lsp-installer<span class="comment">#available-lsps</span></span><br><span class="line"><span class="built_in">local</span> servers = &#123;</span><br><span class="line">  lua_ls = require(<span class="string">&quot;lsp.config.lua&quot;</span>), -- lua/lsp/config/lua.lua</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> name, config <span class="keyword">in</span> pairs(servers) <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">if</span> config ~= nil and <span class="built_in">type</span>(config) == <span class="string">&quot;table&quot;</span> <span class="keyword">then</span></span><br><span class="line">    -- è‡ªå®šä¹‰åˆå§‹åŒ–é…ç½®æ–‡ä»¶å¿…é¡»å®ç°on_setup æ–¹æ³•</span><br><span class="line">    config.on_setup(lspconfig[name])</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    -- ä½¿ç”¨é»˜è®¤å‚æ•°</span><br><span class="line">    lspconfig[name].setup(&#123;&#125;)</span><br><span class="line">  end</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">require(<span class="string">&quot;lsp.ui&quot;</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä¿å­˜ä¹‹åé»˜è®¤å®‰è£…åˆ°  ~/.local/share/nvim/mason </p>
</blockquote>
<p>æ‰§è¡Œ<code>:Mason</code>å³å¯æ‰“å¼€ï¼Œæ“ä½œåŸºæœ¬å’Œä¸Šé¢çš„ä¸€æ ·ï¼Œåªä¸è¿‡å¤šäº† 1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5 æ˜¯ä¸Šè¾¹TABå¿«æ·é”®ï¼ŒæŒ‰ <code>2</code> å³å¯åˆ‡æ¢åˆ° LSP</p>
<p>Mason ä»“åº“åœ°å€ï¼š<a href="https://github.com/williamboman/mason.nvim">Mason </a></p>
<h5 id="é…ç½®-LSP-Server"><a href="#é…ç½®-LSP-Server" class="headerlink" title="é…ç½® LSP Server"></a>é…ç½® LSP Server</h5><p>åˆ›å»ºä¸€ä¸ªæ–°çš„ç›®å½• <code>lua/lsp/</code> ä¸“é—¨å­˜æ”¾ lsp ç›¸å…³çš„é…ç½®ï¼Œä½¿ç”¨<code>:h mason-lspconfig-automatic-server-setup</code>æŸ¥çœ‹å¦‚ä½•é…ç½®setupï¼Œæˆ–æ˜¯ç›´æ¥çœ‹å®˜ç½‘</p>
<p>åˆ›å»º<code>lua/lsp/setup.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> status, mason = pcall(require, <span class="string">&quot;mason&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> not status <span class="keyword">then</span></span><br><span class="line">  vim.notify(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ° mason&quot;</span>)</span><br><span class="line">  <span class="built_in">return</span></span><br><span class="line">end</span><br><span class="line"></span><br><span class="line"><span class="built_in">local</span> status, mason_config = pcall(require, <span class="string">&quot;mason-lspconfig&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> not status <span class="keyword">then</span></span><br><span class="line">  vim.notify(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ° mason-lspconfig&quot;</span>)</span><br><span class="line">  <span class="built_in">return</span></span><br><span class="line">end</span><br><span class="line"></span><br><span class="line"><span class="built_in">local</span> status, lspconfig = pcall(require, <span class="string">&quot;lspconfig&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> not status <span class="keyword">then</span></span><br><span class="line">  vim.notify(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ° lspconfig&quot;</span>)</span><br><span class="line">  <span class="built_in">return</span></span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">-- :h mason-default-settings</span><br><span class="line">-- ~/.local/share/nvim/mason</span><br><span class="line">mason.setup(&#123;</span><br><span class="line">  ui = &#123;</span><br><span class="line">    icons = &#123;</span><br><span class="line">      package_installed = <span class="string">&quot;âœ“&quot;</span>,</span><br><span class="line">      package_pending = <span class="string">&quot;âœ&quot;</span>,</span><br><span class="line">      package_uninstalled = <span class="string">&quot;âœ—&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">-- mason-lspconfig uses the `lspconfig` server names <span class="keyword">in</span> the APIs it exposes - not `mason.nvim` package names</span><br><span class="line">-- https://github.com/williamboman/mason-lspconfig.nvim/blob/main/doc/server-mapping.md</span><br><span class="line">mason_config.setup(&#123;</span><br><span class="line">  ensure_installed = &#123;</span><br><span class="line">    <span class="string">&quot;lua_ls&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">-- å®‰è£…åˆ—è¡¨</span><br><span class="line">-- &#123; key: æœåŠ¡å™¨åï¼Œ value: é…ç½®æ–‡ä»¶ &#125;</span><br><span class="line">-- key å¿…é¡»ä¸ºä¸‹åˆ—ç½‘å€åˆ—å‡ºçš„ server nameï¼Œä¸å¯ä»¥éšä¾¿å†™</span><br><span class="line">-- https://github.com/williamboman/nvim-lsp-installer<span class="comment">#available-lsps</span></span><br><span class="line"><span class="built_in">local</span> servers = &#123;</span><br><span class="line">  lua_ls = require(<span class="string">&quot;lsp.config.lua&quot;</span>), -- lua/lsp/config/lua.lua</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> name, config <span class="keyword">in</span> pairs(servers) <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">if</span> config ~= nil and <span class="built_in">type</span>(config) == <span class="string">&quot;table&quot;</span> <span class="keyword">then</span></span><br><span class="line">    -- è‡ªå®šä¹‰åˆå§‹åŒ–é…ç½®æ–‡ä»¶å¿…é¡»å®ç°on_setup æ–¹æ³•</span><br><span class="line">    config.on_setup(lspconfig[name])</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    -- ä½¿ç”¨é»˜è®¤å‚æ•°</span><br><span class="line">    lspconfig[name].setup(&#123;&#125;)</span><br><span class="line">  end</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">require(<span class="string">&quot;lsp.ui&quot;</span>)</span><br></pre></td></tr></table></figure>
<h5 id="é…ç½®-lua-Server"><a href="#é…ç½®-lua-Server" class="headerlink" title="é…ç½® lua Server"></a>é…ç½® lua Server</h5><p>åˆ›å»º<code>/lua/lsp/config/lua.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- https://github.com/neovim/nvim-lspconfig/blob/master/doc/server_configurations.md</span><br><span class="line"><span class="built_in">local</span> runtime_path = vim.split(package.path, <span class="string">&#x27;;&#x27;</span>)</span><br><span class="line">table.insert(runtime_path, <span class="string">&#x27;lua/?.lua&#x27;</span>)</span><br><span class="line">table.insert(runtime_path, <span class="string">&#x27;lua/?/init.lua&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">local</span> opts = &#123;</span><br><span class="line">    settings = &#123;</span><br><span class="line">        Lua = &#123;</span><br><span class="line">            runtime = &#123;</span><br><span class="line">                -- Tell the language server <span class="built_in">which</span> version of Lua you<span class="string">&#x27;re using (most likely LuaJIT in the case of Neovim)</span></span><br><span class="line"><span class="string">                version = &#x27;</span>LuaJIT<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">                -- Setup your lua path</span></span><br><span class="line"><span class="string">                path = runtime_path,</span></span><br><span class="line"><span class="string">            &#125;,</span></span><br><span class="line"><span class="string">            diagnostics = &#123;</span></span><br><span class="line"><span class="string">                -- Get the language server to recognize the `vim` global</span></span><br><span class="line"><span class="string">                globals = &#123; &#x27;</span>vim<span class="string">&#x27; &#125;,</span></span><br><span class="line"><span class="string">            &#125;,</span></span><br><span class="line"><span class="string">            workspace = &#123;</span></span><br><span class="line"><span class="string">                -- Make the server aware of Neovim runtime files</span></span><br><span class="line"><span class="string">                library = vim.api.nvim_get_runtime_file(&#x27;</span><span class="string">&#x27;, true),</span></span><br><span class="line"><span class="string">                checkThirdParty = false,</span></span><br><span class="line"><span class="string">            &#125;,</span></span><br><span class="line"><span class="string">            -- Do not send telemetry data containing a randomized but unique identifier</span></span><br><span class="line"><span class="string">            telemetry = &#123;</span></span><br><span class="line"><span class="string">                enable = false,</span></span><br><span class="line"><span class="string">            &#125;,</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    flags = &#123;</span></span><br><span class="line"><span class="string">        debounce_text_changes = 150,</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    on_attach = function(client, bufnr)</span></span><br><span class="line"><span class="string">        -- ç¦ç”¨æ ¼å¼åŒ–åŠŸèƒ½ï¼Œäº¤ç»™ä¸“é—¨æ’ä»¶æ’ä»¶å¤„ç†</span></span><br><span class="line"><span class="string">        client.resolved_capabilities.document_formatting = false</span></span><br><span class="line"><span class="string">        client.resolved_capabilities.document_range_formatting = false</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        local function buf_set_keymap(...)</span></span><br><span class="line"><span class="string">            vim.api.nvim_buf_set_keymap(bufnr, ...)</span></span><br><span class="line"><span class="string">        end</span></span><br><span class="line"><span class="string">        -- ç»‘å®šå¿«æ·é”®</span></span><br><span class="line"><span class="string">        require(&#x27;</span>keybindings<span class="string">&#x27;).mapLSP(buf_set_keymap)</span></span><br><span class="line"><span class="string">        -- ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–</span></span><br><span class="line"><span class="string">        vim.cmd(&#x27;</span>autocmd BufWritePre &lt;buffer&gt; lua vim.lsp.buf.formatting_sync()<span class="string">&#x27;)</span></span><br><span class="line"><span class="string">    end,</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">-- æŸ¥çœ‹ç›®å½•ç­‰ä¿¡æ¯</span></span><br><span class="line"><span class="string">return &#123;</span></span><br><span class="line"><span class="string">    on_setup = function(server)</span></span><br><span class="line"><span class="string">        server:setup(opts)</span></span><br><span class="line"><span class="string">    end,</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>
<h5 id="é…ç½®-LSP-å¿«æ·é”®"><a href="#é…ç½®-LSP-å¿«æ·é”®" class="headerlink" title="é…ç½® LSP å¿«æ·é”®"></a>é…ç½® LSP å¿«æ·é”®</h5><p><code>lua/keybindings.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- lsp å›è°ƒå‡½æ•°å¿«æ·é”®è®¾ç½®</span><br><span class="line">pluginKeys.mapLSP = <span class="keyword">function</span>(mapbuf)</span><br><span class="line">  -- rename</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;leader&gt;rn&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.lsp.buf.rename()&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  -- code action</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;leader&gt;ca&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.lsp.buf.code_action()&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  -- go xx</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gd&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.lsp.buf.definition()&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gh&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.lsp.buf.hover()&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gD&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.lsp.buf.declaration()&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gi&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.lsp.buf.implementation()&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gr&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.lsp.buf.references()&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  -- diagnostic</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gp&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.diagnostic.open_float()&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gk&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.diagnostic.goto_prev()&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gj&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.diagnostic.goto_next()&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;leader&gt;f&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.lsp.buf.formatting()&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  -- æ²¡ç”¨åˆ°</span><br><span class="line">  -- mapbuf(<span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;&lt;leader&gt;q&#x27;</span>, <span class="string">&#x27;&lt;cmd&gt;lua vim.diagnostic.setloclist()&lt;CR&gt;&#x27;</span>, opt)</span><br><span class="line">  -- mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;C-k&gt;&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.lsp.buf.signature_help()&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  -- mapbuf(<span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;&lt;space&gt;wa&#x27;</span>, <span class="string">&#x27;&lt;cmd&gt;lua vim.lsp.buf.add_workspace_folder()&lt;CR&gt;&#x27;</span>, opt)</span><br><span class="line">  -- mapbuf(<span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;&lt;space&gt;wr&#x27;</span>, <span class="string">&#x27;&lt;cmd&gt;lua vim.lsp.buf.remove_workspace_folder()&lt;CR&gt;&#x27;</span>, opt)</span><br><span class="line">  -- mapbuf(<span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;&lt;space&gt;wl&#x27;</span>, <span class="string">&#x27;&lt;cmd&gt;lua print(vim.inspect(vim.lsp.buf.list_workspace_folders()))&lt;CR&gt;&#x27;</span>, opt)</span><br><span class="line">  -- mapbuf(<span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;&lt;space&gt;D&#x27;</span>, <span class="string">&#x27;&lt;cmd&gt;lua vim.lsp.buf.type_definition()&lt;CR&gt;&#x27;</span>, opt)</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<p><code>init.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- å†…ç½®LSP (æ–°å¢)</span><br><span class="line">require(<span class="string">&quot;lsp.setup&quot;</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>è¿™é‡Œè®°å½•ä¸‹ï¼šä½¿ç”¨:verbose mapå¯ä»¥æŸ¥çœ‹æ‰€æœ‰ç”Ÿæ•ˆçš„å¿«æ·é”®</p>
</blockquote>
<h3 id="åŸºäº-LSP-ä»£ç è¡¥å…¨åŠè‡ªå®šä¹‰ä»£ç æ®µ"><a href="#åŸºäº-LSP-ä»£ç è¡¥å…¨åŠè‡ªå®šä¹‰ä»£ç æ®µ" class="headerlink" title="åŸºäº LSP ä»£ç è¡¥å…¨åŠè‡ªå®šä¹‰ä»£ç æ®µ"></a>åŸºäº LSP ä»£ç è¡¥å…¨åŠè‡ªå®šä¹‰ä»£ç æ®µ</h3><h5 id="ç›¸å…³æ’ä»¶ï¼šhrsh7th-nvim-cmp-A-completion-plugin-for-neovim-coded-in-Lua-github-com"><a href="#ç›¸å…³æ’ä»¶ï¼šhrsh7th-nvim-cmp-A-completion-plugin-for-neovim-coded-in-Lua-github-com" class="headerlink" title="ç›¸å…³æ’ä»¶ï¼šhrsh7th/nvim-cmp: A completion plugin for neovim coded in Lua. (github.com)"></a>ç›¸å…³æ’ä»¶ï¼š<a href="https://github.com/hrsh7th/nvim-cmp">hrsh7th/nvim-cmp: A completion plugin for neovim coded in Lua. (github.com)</a></h5><h5 id="ç›¸å…³æ¦‚å¿µï¼š"><a href="#ç›¸å…³æ¦‚å¿µï¼š" class="headerlink" title="ç›¸å…³æ¦‚å¿µï¼š"></a>ç›¸å…³æ¦‚å¿µï¼š</h5><ol>
<li><p>è¡¥å…¨å¼•æ“</p>
<p>è¡¥å…¨å¼•æ“å°±æ˜¯ä¸º Neovim æä¾›ä»£ç è¡¥å…¨æ ¸å¿ƒåŠŸèƒ½çš„æ’ä»¶ï¼Œæ¯”å¦‚ nvim-cmp</p>
</li>
<li><p>è¡¥å…¨æº</p>
<p>è¡¥å…¨æºå°±æ˜¯è¡¥å…¨å¼•æ“éœ€è¦çš„æ•°æ®æ¥æºï¼Œæœ€å¸¸è§çš„æ¥æºæ˜¯æ¥è‡ª Language Server æä¾›çš„æ•°æ®ï¼Œå®ƒä¼šçŸ¥é“æŸä¸ªç±»æœ‰å“ªäº›å±æ€§å’Œæ–¹æ³•ç­‰ã€‚</p>
</li>
<li><p>snippet å¼•æ“</p>
<p>snippet å¼•æ“å°±æ˜¯è‡ªå®šä¹‰ä»£ç æ®µçš„å¼•æ“ï¼Œå¸¸è§çš„æœ‰ <code>vsnip</code>ã€<code>luasnip</code> ç­‰</p>
</li>
</ol>
<h5 id="æ·»åŠ æ’ä»¶"><a href="#æ·»åŠ æ’ä»¶" class="headerlink" title="æ·»åŠ æ’ä»¶"></a>æ·»åŠ æ’ä»¶</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- è¡¥å…¨å¼•æ“</span><br><span class="line">use(<span class="string">&quot;hrsh7th/nvim-cmp&quot;</span>)</span><br><span class="line">-- snippet å¼•æ“</span><br><span class="line">use(<span class="string">&quot;hrsh7th/vim-vsnip&quot;</span>)</span><br><span class="line">-- è¡¥å…¨æº</span><br><span class="line">use(<span class="string">&quot;hrsh7th/cmp-vsnip&quot;</span>)</span><br><span class="line">use(<span class="string">&quot;hrsh7th/cmp-nvim-lsp&quot;</span>) -- &#123; name = nvim_lsp &#125;</span><br><span class="line">use(<span class="string">&quot;hrsh7th/cmp-buffer&quot;</span>) -- &#123; name = <span class="string">&#x27;buffer&#x27;</span> &#125;,</span><br><span class="line">use(<span class="string">&quot;hrsh7th/cmp-path&quot;</span>) -- &#123; name = <span class="string">&#x27;path&#x27;</span> &#125;</span><br><span class="line">use(<span class="string">&quot;hrsh7th/cmp-cmdline&quot;</span>) -- &#123; name = <span class="string">&#x27;cmdline&#x27;</span> &#125;</span><br><span class="line"></span><br><span class="line">-- å¸¸è§ç¼–ç¨‹è¯­è¨€ä»£ç æ®µ</span><br><span class="line">use(<span class="string">&quot;rafamadriz/friendly-snippets&quot;</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼šåªæœ‰ <code>hrsh7th/nvim-cmp</code> æ˜¯è¡¥å…¨å¼•æ“æ’ä»¶æœ¬èº«ï¼Œå…¶ä»– <code>cmp-xxx</code> åŸºæœ¬éƒ½æ˜¯æ’ä»¶è¡¥å…¨æ¥æºï¼Œä¹Ÿå°±æ˜¯è¯´å½“ä½ è¾“å…¥ä¸€ä¸ªå˜é‡çš„æ—¶å€™ï¼Œå¯ä»¥ä»å¤šä¸ªæ¥æºæ˜¾ç¤ºè¡¥å…¨çš„å†…å®¹ã€‚</p>
<p>åƒ hrsh7th/cmp-nvim-lsp å°±æ˜¯ Neovim å†…ç½® LSP æä¾›çš„è¡¥å…¨å†…å®¹ï¼Œhrsh7th/cmp-buffer è¡¥å…¨å½“å‰ buffer çš„å†…å®¹ï¼Œ hrsh7th/cmp-cmdline æ˜¯å‘½ä»¤è¡Œçš„è¡¥å…¨ï¼Œhrsh7th/cmp-path åˆ™æ˜¯ç”¨æ¥è¡¥å…¨è·¯å¾„ï¼Œå¦‚æœé…ç½®äº†è¿™ä¸ªï¼Œå½“è¾“å…¥ä¸€ä¸ªè·¯å¾„çš„æ—¶å€™ä¼šè¡¥å…¨è·¯å¾„</p>
</blockquote>
<p>åˆ›å»º<code>lua/lsp/cmp.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> cmp = require(<span class="string">&quot;cmp&quot;</span>)</span><br><span class="line"></span><br><span class="line">cmp.setup(&#123;</span><br><span class="line">  -- æŒ‡å®š snippet å¼•æ“</span><br><span class="line">  snippet = &#123;</span><br><span class="line">    <span class="built_in">expand</span> = <span class="keyword">function</span>(args)</span><br><span class="line">      -- For `vsnip` <span class="built_in">users</span>.</span><br><span class="line">      vim.fn[<span class="string">&quot;vsnip#anonymous&quot;</span>](args.body)</span><br><span class="line"></span><br><span class="line">      -- For `luasnip` <span class="built_in">users</span>.</span><br><span class="line">      -- require(<span class="string">&#x27;luasnip&#x27;</span>).lsp_expand(args.body)</span><br><span class="line"></span><br><span class="line">      -- For `ultisnips` <span class="built_in">users</span>.</span><br><span class="line">      -- vim.fn[<span class="string">&quot;UltiSnips#Anon&quot;</span>](args.body)</span><br><span class="line"></span><br><span class="line">      -- For `snippy` <span class="built_in">users</span>.</span><br><span class="line">      -- require<span class="string">&#x27;snippy&#x27;</span>.expand_snippet(args.body)</span><br><span class="line">    end,</span><br><span class="line">  &#125;,</span><br><span class="line">  -- è¡¥å…¨æº</span><br><span class="line">  sources = cmp.config.sources(&#123;</span><br><span class="line">    &#123; name = <span class="string">&quot;nvim_lsp&quot;</span> &#125;,</span><br><span class="line">    -- For vsnip <span class="built_in">users</span>.</span><br><span class="line">    &#123; name = <span class="string">&quot;vsnip&quot;</span> &#125;,</span><br><span class="line"></span><br><span class="line">    -- For luasnip <span class="built_in">users</span>.</span><br><span class="line">    -- &#123; name = <span class="string">&#x27;luasnip&#x27;</span> &#125;,</span><br><span class="line"></span><br><span class="line">    --For ultisnips <span class="built_in">users</span>.</span><br><span class="line">    -- &#123; name = <span class="string">&#x27;ultisnips&#x27;</span> &#125;,</span><br><span class="line"></span><br><span class="line">    -- -- For snippy <span class="built_in">users</span>.</span><br><span class="line">    -- &#123; name = <span class="string">&#x27;snippy&#x27;</span> &#125;,</span><br><span class="line">  &#125;, &#123; &#123; name = <span class="string">&quot;buffer&quot;</span> &#125;, &#123; name = <span class="string">&quot;path&quot;</span> &#125; &#125;),</span><br><span class="line"></span><br><span class="line">  -- å¿«æ·é”®è®¾ç½®</span><br><span class="line">  mapping = require(<span class="string">&quot;keybindings&quot;</span>).cmp(cmp),</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">-- / æŸ¥æ‰¾æ¨¡å¼ä½¿ç”¨ buffer æº</span><br><span class="line">cmp.setup.cmdline(<span class="string">&quot;/&quot;</span>, &#123;</span><br><span class="line">  mapping = cmp.mapping.preset.cmdline(),</span><br><span class="line">  sources = &#123;</span><br><span class="line">    &#123; name = <span class="string">&quot;buffer&quot;</span> &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">-- : å‘½ä»¤è¡Œæ¨¡å¼ä¸­ä½¿ç”¨ path å’Œ cmdline æº.</span><br><span class="line">cmp.setup.cmdline(<span class="string">&quot;:&quot;</span>, &#123;</span><br><span class="line">  mapping = cmp.mapping.preset.cmdline(),</span><br><span class="line">  sources = cmp.config.sources(&#123;</span><br><span class="line">    &#123; name = <span class="string">&quot;path&quot;</span> &#125;,</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    &#123; name = <span class="string">&quot;cmdline&quot;</span> &#125;,</span><br><span class="line">  &#125;),</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><code>lua/keybindings.lua</code>æ·»åŠ </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- nvim-cmp è‡ªåŠ¨è¡¥å…¨</span><br><span class="line">pluginKeys.cmp = <span class="keyword">function</span>(cmp)</span><br><span class="line">    <span class="built_in">return</span> &#123;</span><br><span class="line">        -- å‡ºç°è¡¥å…¨</span><br><span class="line">        [<span class="string">&quot;&lt;A-.&gt;&quot;</span>] = cmp.mapping(cmp.mapping.complete(), &#123;<span class="string">&quot;i&quot;</span>, <span class="string">&quot;c&quot;</span>&#125;),</span><br><span class="line">        -- å–æ¶ˆè¡¥å…¨</span><br><span class="line">        [<span class="string">&quot;&lt;A-,&gt;&quot;</span>] = cmp.mapping(&#123;</span><br><span class="line">            i = cmp.mapping.abort(),</span><br><span class="line">            c = cmp.mapping.close()</span><br><span class="line">        &#125;),</span><br><span class="line">        -- ä¸Šä¸€ä¸ª</span><br><span class="line">        [<span class="string">&quot;&lt;C-k&gt;&quot;</span>] = cmp.mapping.select_prev_item(),</span><br><span class="line">        -- ä¸‹ä¸€ä¸ª</span><br><span class="line">        [<span class="string">&quot;&lt;C-j&gt;&quot;</span>] = cmp.mapping.select_next_item(),</span><br><span class="line">        -- ç¡®è®¤</span><br><span class="line">        [<span class="string">&quot;&lt;CR&gt;&quot;</span>] = cmp.mapping.confirm(&#123;</span><br><span class="line">            select = <span class="literal">true</span>,</span><br><span class="line">            behavior = cmp.ConfirmBehavior.Replace</span><br><span class="line">        &#125;),</span><br><span class="line">        -- å¦‚æœçª—å£å†…å®¹å¤ªå¤šï¼Œå¯ä»¥æ»šåŠ¨</span><br><span class="line">        [<span class="string">&quot;&lt;C-u&gt;&quot;</span>] = cmp.mapping(cmp.mapping.scroll_docs(-4), &#123;<span class="string">&quot;i&quot;</span>, <span class="string">&quot;c&quot;</span>&#125;),</span><br><span class="line">        [<span class="string">&quot;&lt;C-d&gt;&quot;</span>] = cmp.mapping(cmp.mapping.scroll_docs(4), &#123;<span class="string">&quot;i&quot;</span>, <span class="string">&quot;c&quot;</span>&#125;),</span><br><span class="line">    &#125;</span><br><span class="line">end</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><code>init.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">require(<span class="string">&quot;lsp.cmp&quot;</span>) --  (æ–°å¢)</span><br></pre></td></tr></table></figure>
<h3 id="LSP-åŠŸèƒ½å¢å¼º"><a href="#LSP-åŠŸèƒ½å¢å¼º" class="headerlink" title="LSP åŠŸèƒ½å¢å¼º"></a>LSP åŠŸèƒ½å¢å¼º</h3><p>UI æ’ä»¶ï¼ŒåŒæ—¶ lspageè¿˜å¯ä»¥è‡ªå®šä¹‰å¿«æ·é”®ï¼Œå¯¹äºæˆ‘è‡ªå·±è€Œè¨€æˆ‘è®¤ä¸ºæœ‰äº›åœ°æ–¹æ–‡å­—æ›´åŠ ç›´è§‚ï¼Œå¦‚æœæœ‰äº›æœ‹å‹éœ€è¦ç¾åŒ–å¯è‡ªè¡ŒæŸ¥æ‰¾</p>
<h5 id="å¼¹çª—æ˜¾ç¤ºé”™è¯¯"><a href="#å¼¹çª—æ˜¾ç¤ºé”™è¯¯" class="headerlink" title="å¼¹çª—æ˜¾ç¤ºé”™è¯¯"></a>å¼¹çª—æ˜¾ç¤ºé”™è¯¯</h5><blockquote>
<p>å½“ä¸€è¡Œä»£ç å¾ˆé•¿çš„æ—¶å€™ï¼Œå³ä¾§çš„æç¤ºæ–‡å­—å°±ä¼šæ˜¾ç¤ºä¸å…¨</p>
</blockquote>
<p>ä¹‹å‰é…ç½®è¿‡ gp å¿«æ·é”®ä½¿ç”¨å¼¹çª—æ˜¾ç¤ºé”™è¯¯ï¼Œå¯ä»¥æœ‰æ•ˆè§£å†³</p>
<h5 id="åŠŸèƒ½å¢å¼º"><a href="#åŠŸèƒ½å¢å¼º" class="headerlink" title="åŠŸèƒ½å¢å¼º"></a>åŠŸèƒ½å¢å¼º</h5><h5 id="ç›¸å…³æ’ä»¶ï¼škkharji-lspsaga-nvim-The-neovim-language-server-client-UI-github-com"><a href="#ç›¸å…³æ’ä»¶ï¼škkharji-lspsaga-nvim-The-neovim-language-server-client-UI-github-com" class="headerlink" title="ç›¸å…³æ’ä»¶ï¼škkharji/lspsaga.nvim: The neovim language-server-client UI (github.com)"></a>ç›¸å…³æ’ä»¶ï¼š<a href="https://github.com/kkharji/lspsaga.nvim">kkharji/lspsaga.nvim: The neovim language-server-client UI (github.com)</a></h5><h5 id="æ·»åŠ æ’ä»¶-1"><a href="#æ·»åŠ æ’ä»¶-1" class="headerlink" title="æ·»åŠ æ’ä»¶"></a>æ·»åŠ æ’ä»¶</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">use(<span class="string">&quot;tami5/lspsaga.nvim&quot;</span> )</span><br></pre></td></tr></table></figure>
<p>åˆ›å»º<code>lua/lsp/ui.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> lspsaga = require <span class="string">&#x27;lspsaga&#x27;</span></span><br><span class="line">lspsaga.setup &#123; -- defaults ...</span><br><span class="line">  debug = <span class="literal">false</span>,</span><br><span class="line">  use_saga_diagnostic_sign = <span class="literal">true</span>,</span><br><span class="line">  -- diagnostic sign</span><br><span class="line">  error_sign = <span class="string">&quot;ï™™&quot;</span>,</span><br><span class="line">  warn_sign = <span class="string">&quot;ï”©&quot;</span>,</span><br><span class="line">  hint_sign = <span class="string">&quot;ï µ&quot;</span>,</span><br><span class="line">  infor_sign = <span class="string">&quot;ï‘‰&quot;</span>,</span><br><span class="line">  diagnostic_header_icon = <span class="string">&quot; ï†ˆ  &quot;</span>,</span><br><span class="line">  -- code action title icon</span><br><span class="line">  code_action_icon = <span class="string">&quot;ï ´ &quot;</span>,</span><br><span class="line">  code_action_prompt = &#123;</span><br><span class="line">    <span class="built_in">enable</span> = <span class="literal">true</span>,</span><br><span class="line">    sign = <span class="literal">true</span>,</span><br><span class="line">    sign_priority = 40,</span><br><span class="line">    virtual_text = <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  finder_definition_icon = <span class="string">&quot;ïŒ‘  &quot;</span>,</span><br><span class="line">  finder_reference_icon = <span class="string">&quot;ïŒ‘  &quot;</span>,</span><br><span class="line">  max_preview_lines = 10,</span><br><span class="line">  finder_action_keys = &#123;</span><br><span class="line">    -- open = <span class="string">&quot;o&quot;</span>,</span><br><span class="line">    open = <span class="string">&quot;&lt;CR&gt;&quot;</span>,</span><br><span class="line">    vsplit = <span class="string">&quot;s&quot;</span>,</span><br><span class="line">    <span class="built_in">split</span> = <span class="string">&quot;i&quot;</span>,</span><br><span class="line">    -- quit = <span class="string">&quot;q&quot;</span>,</span><br><span class="line">    quit = <span class="string">&quot;&lt;ESC&gt;&quot;</span>,</span><br><span class="line">    scroll_down = <span class="string">&quot;&lt;C-f&gt;&quot;</span>,</span><br><span class="line">    scroll_up = <span class="string">&quot;&lt;C-b&gt;&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  code_action_keys = &#123;</span><br><span class="line">    -- quit = <span class="string">&quot;q&quot;</span>,</span><br><span class="line">    quit = <span class="string">&quot;&lt;ESC&gt;&quot;</span>,</span><br><span class="line">    <span class="built_in">exec</span> = <span class="string">&quot;&lt;CR&gt;&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  rename_action_keys = &#123;</span><br><span class="line">    -- quit = <span class="string">&quot;&lt;C-c&gt;&quot;</span>,</span><br><span class="line">    quit = <span class="string">&quot;&lt;ESC&gt;&quot;</span>,</span><br><span class="line">    <span class="built_in">exec</span> = <span class="string">&quot;&lt;CR&gt;&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  definition_preview_icon = <span class="string">&quot;ï”¸  &quot;</span>,</span><br><span class="line">  border_style = <span class="string">&quot;single&quot;</span>,</span><br><span class="line">  rename_prompt_prefix = <span class="string">&quot;â¤&quot;</span>,</span><br><span class="line">  rename_output_qflist = &#123;</span><br><span class="line">    <span class="built_in">enable</span> = <span class="literal">false</span>,</span><br><span class="line">    auto_open_qflist = <span class="literal">false</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  server_filetype_map = &#123;&#125;,</span><br><span class="line">  diagnostic_prefix_format = <span class="string">&quot;%d. &quot;</span>,</span><br><span class="line">  diagnostic_message_format = <span class="string">&quot;%m %c&quot;</span>,</span><br><span class="line">  highlight_prefix = <span class="literal">false</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><code>lua/keybindings.lua</code>ä¸­çš„mapLSP å‡½æ•°æ›¿æ¢ä¸º</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- lsp å›è°ƒå‡½æ•°å¿«æ·é”®è®¾ç½®</span><br><span class="line">pluginKeys.mapLSP = <span class="keyword">function</span>(mapbuf)</span><br><span class="line">  -- rename</span><br><span class="line">  --[[</span><br><span class="line">  Lspsaga æ›¿æ¢ rn</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;leader&gt;rn&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.lsp.buf.rename()&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  --]]</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;leader&gt;rn&quot;</span>, <span class="string">&quot;&lt;cmd&gt;Lspsaga rename&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  -- code action</span><br><span class="line">  --[[</span><br><span class="line">  Lspsaga æ›¿æ¢ ca</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;leader&gt;ca&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.lsp.buf.code_action()&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  --]]</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;leader&gt;ca&quot;</span>, <span class="string">&quot;&lt;cmd&gt;Lspsaga code_action&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  -- go xx</span><br><span class="line">  --[[</span><br><span class="line">    mapbuf(<span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;gd&#x27;</span>, <span class="string">&#x27;&lt;cmd&gt;Lspsaga preview_definition&lt;CR&gt;&#x27;</span>, opt)</span><br><span class="line">  --]]</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gd&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.lsp.buf.definition()&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  --[[</span><br><span class="line">  Lspsaga æ›¿æ¢ gh</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gh&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.lsp.buf.hover()&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  --]]</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gh&quot;</span>, <span class="string">&quot;&lt;cmd&gt;Lspsaga hover_doc&lt;cr&gt;&quot;</span>, opt)</span><br><span class="line">  --[[</span><br><span class="line">  Lspsaga æ›¿æ¢ gr</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gr&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.lsp.buf.references()&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  --]]</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gr&quot;</span>, <span class="string">&quot;&lt;cmd&gt;Lspsaga lsp_finder&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  --[[</span><br><span class="line">  Lspsaga æ›¿æ¢ gp, gj, gk</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gp&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.diagnostic.open_float()&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gj&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.diagnostic.goto_next()&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gk&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.diagnostic.goto_prev()&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  --]]</span><br><span class="line">  -- diagnostic</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gp&quot;</span>, <span class="string">&quot;&lt;cmd&gt;Lspsaga show_line_diagnostics&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gj&quot;</span>, <span class="string">&quot;&lt;cmd&gt;Lspsaga diagnostic_jump_next&lt;cr&gt;&quot;</span>, opt)</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gk&quot;</span>, <span class="string">&quot;&lt;cmd&gt;Lspsaga diagnostic_jump_prev&lt;cr&gt;&quot;</span>, opt)</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;leader&gt;f&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.lsp.buf.format(&#123; bufnr = bufnr &#125;)&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  -- æœªç”¨</span><br><span class="line">  -- mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gD&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.lsp.buf.declaration()&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  -- mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gi&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.lsp.buf.implementation()&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  -- mapbuf(<span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;&lt;leader&gt;q&#x27;</span>, <span class="string">&#x27;&lt;cmd&gt;lua vim.diagnostic.setloclist()&lt;CR&gt;&#x27;</span>, opt)</span><br><span class="line">  -- mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;C-k&gt;&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.lsp.buf.signature_help()&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  -- mapbuf(<span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;&lt;space&gt;wa&#x27;</span>, <span class="string">&#x27;&lt;cmd&gt;lua vim.lsp.buf.add_workspace_folder()&lt;CR&gt;&#x27;</span>, opt)</span><br><span class="line">  -- mapbuf(<span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;&lt;space&gt;wr&#x27;</span>, <span class="string">&#x27;&lt;cmd&gt;lua vim.lsp.buf.remove_workspace_folder()&lt;CR&gt;&#x27;</span>, opt)</span><br><span class="line">  -- mapbuf(<span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;&lt;space&gt;wl&#x27;</span>, <span class="string">&#x27;&lt;cmd&gt;lua print(vim.inspect(vim.lsp.buf.list_workspace_folders()))&lt;CR&gt;&#x27;</span>, opt)</span><br><span class="line">  -- mapbuf(<span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;&lt;space&gt;D&#x27;</span>, <span class="string">&#x27;&lt;cmd&gt;lua vim.lsp.buf.type_definition()&lt;CR&gt;&#x27;</span>, opt)</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<p><code>init.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">require(<span class="string">&quot;lsp.ui&quot;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="ä»£ç æ ¼å¼åŒ–"><a href="#ä»£ç æ ¼å¼åŒ–" class="headerlink" title="ä»£ç æ ¼å¼åŒ–"></a>ä»£ç æ ¼å¼åŒ–</h3><p>ä¹‹å‰<code>lua/keybindings.lua</code>å®šä¹‰è¿‡æ ¼å¼åŒ–å¿«æ·é”®</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;leader&gt;f&quot;</span>, <span class="string">&quot;&lt;cmd&gt;lua vim.lsp.buf.format(&#123; bufnr = bufnr &#125;)&lt;CR&gt;&quot;</span>, opt)</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯ä½ ä¼šå‘ç°æ ¼å¼åŒ–ä¸èµ·ä½œç”¨ï¼Œè¿™æ˜¯å› ä¸ºä½¿ç”¨çš„ Lua Language Server å¹¶æ²¡æœ‰å®ç°æ ¼å¼åŒ–åŠŸèƒ½ã€‚</p>
<p>æ ¼å¼åŒ–æ–¹æ¡ˆæœ‰å¦‚ä¸‹ä¸¤ç§ï¼š</p>
<ul>
<li>ç¬¬ä¸€ç§æ˜¯ä½¿ç”¨ä¸“é—¨çš„æ ¼å¼åŒ–æ’ä»¶ï¼›</li>
<li>ç¬¬äºŒç§æ˜¯ç»™ Language Server æ³¨å…¥æ ¼å¼åŒ–åŠŸèƒ½ã€‚</li>
</ul>
<p>è¿™é‡Œåªè®²è§£ç¬¬äºŒç§</p>
<h5 id="ç›¸å…³æ’ä»¶ï¼šjose-elias-alvarez-null-ls-nvim-Use-Neovim-as-a-language-server-to-inject-LSP-diagnostics-code-actions-and-more-via-Lua-github-com"><a href="#ç›¸å…³æ’ä»¶ï¼šjose-elias-alvarez-null-ls-nvim-Use-Neovim-as-a-language-server-to-inject-LSP-diagnostics-code-actions-and-more-via-Lua-github-com" class="headerlink" title="ç›¸å…³æ’ä»¶ï¼šjose-elias-alvarez/null-ls.nvim: Use Neovim as a language server to inject LSP diagnostics, code actions, and more via Lua. (github.com)"></a>ç›¸å…³æ’ä»¶ï¼š<a href="https://github.com/jose-elias-alvarez/null-ls.nvim">jose-elias-alvarez/null-ls.nvim: Use Neovim as a language server to inject LSP diagnostics, code actions, and more via Lua. (github.com)</a></h5><h5 id="æ·»åŠ æ’ä»¶-2"><a href="#æ·»åŠ æ’ä»¶-2" class="headerlink" title="æ·»åŠ æ’ä»¶"></a>æ·»åŠ æ’ä»¶</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- ä»£ç æ ¼å¼åŒ–</span><br><span class="line">use(&#123; <span class="string">&quot;jose-elias-alvarez/null-ls.nvim&quot;</span>, requires = <span class="string">&quot;nvim-lua/plenary.nvim&quot;</span> &#125;)</span><br></pre></td></tr></table></figure>
<h5 id="æ·»åŠ é…ç½®æ–‡ä»¶-lua-lsp-null-ls-lua"><a href="#æ·»åŠ é…ç½®æ–‡ä»¶-lua-lsp-null-ls-lua" class="headerlink" title="æ·»åŠ é…ç½®æ–‡ä»¶ lua/lsp/null-ls.lua"></a>æ·»åŠ é…ç½®æ–‡ä»¶ <code>lua/lsp/null-ls.lua</code></h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> status, null_ls = pcall(require, <span class="string">&quot;null-ls&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> not status <span class="keyword">then</span></span><br><span class="line">  vim.notify(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ° null-ls&quot;</span>)</span><br><span class="line">  <span class="built_in">return</span></span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">       <span class="built_in">local</span> formatting = null_ls.builtins.formatting</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">null_ls.setup(&#123;</span><br><span class="line">  debug = <span class="literal">false</span>,</span><br><span class="line">  sources = &#123;</span><br><span class="line">    -- Formatting ---------------------</span><br><span class="line">    --  brew install shfmt</span><br><span class="line">    formatting.shfmt,</span><br><span class="line">    -- StyLua</span><br><span class="line">    formatting.stylua,</span><br><span class="line">    -- frontend</span><br><span class="line">    formatting.prettier.with(&#123; -- åªæ¯”é»˜è®¤é…ç½®å°‘äº† markdown</span><br><span class="line">      filetypes = &#123;</span><br><span class="line">        <span class="string">&quot;javascript&quot;</span>,</span><br><span class="line">        <span class="string">&quot;javascriptreact&quot;</span>,</span><br><span class="line">        <span class="string">&quot;typescript&quot;</span>,</span><br><span class="line">        <span class="string">&quot;typescriptreact&quot;</span>,</span><br><span class="line">        <span class="string">&quot;vue&quot;</span>,</span><br><span class="line">        <span class="string">&quot;css&quot;</span>,</span><br><span class="line">        <span class="string">&quot;scss&quot;</span>,</span><br><span class="line">        <span class="string">&quot;less&quot;</span>,</span><br><span class="line">        <span class="string">&quot;html&quot;</span>,</span><br><span class="line">        <span class="string">&quot;json&quot;</span>,</span><br><span class="line">        <span class="string">&quot;yaml&quot;</span>,</span><br><span class="line">        <span class="string">&quot;graphql&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      prefer_local = <span class="string">&quot;node_modules/.bin&quot;</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">    -- formatting.fixjson,</span><br><span class="line">    -- formatting.black.with(&#123; extra_args = &#123; <span class="string">&quot;--fast&quot;</span> &#125; &#125;),</span><br><span class="line">  &#125;,</span><br><span class="line">  -- ä¿å­˜è‡ªåŠ¨æ ¼å¼åŒ–</span><br><span class="line">    on_attach = <span class="keyword">function</span>(client, bufnr)</span><br><span class="line">        <span class="keyword">if</span> client.supports_method(<span class="string">&quot;textDocument/formatting&quot;</span>) <span class="keyword">then</span></span><br><span class="line">            vim.api.nvim_clear_autocmds(&#123; group = augroup, buffer = bufnr &#125;)</span><br><span class="line">            vim.api.nvim_create_autocmd(<span class="string">&quot;BufWritePre&quot;</span>, &#123;</span><br><span class="line">                group = augroup,</span><br><span class="line">                buffer = bufnr,</span><br><span class="line">                callback = <span class="keyword">function</span>()</span><br><span class="line">                    -- on 0.8, you should use vim.lsp.buf.format(&#123; bufnr = bufnr &#125;) instead</span><br><span class="line">                    vim.lsp.buf.format(&#123; bufnr = bufnr &#125;)</span><br><span class="line">                    -- vim.lsp.buf.formatting_sync()</span><br><span class="line">                end,</span><br><span class="line">            &#125;)</span><br><span class="line">        end</span><br><span class="line">    end,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><code>init.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">require(<span class="string">&quot;lsp.null-ls&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>å®‰è£…ä¹‹åå¯ä»¥è¿è¡Œ<code>:LspInfo</code>æŸ¥çœ‹ç»‘å®šçš„Language Server</p>
<p><img src="https://cdn.jsdelivr.net/gh/Returntmp/blog-image@main/blog/image-20230512122954608.png" alt="image-20230512122954608"></p>
<p>ç„¶åæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰ä¸¤ä¸ª LSP äº†ï¼Œnull-ls ä½œä¸ºé€šç”¨ LSPï¼Œå¯ä»¥åœ¨ä»»ä½• filetypes ä¸­è¿è¡Œã€‚</p>
<p>ç„¶åæ‰§è¡Œ<code>:NullLsInfo</code>æŸ¥çœ‹æºçš„æ¿€æ´»æƒ…å†µ</p>
<p><img src="https://cdn.jsdelivr.net/gh/Returntmp/blog-image@main/blog/image-20230512123229442.png" alt="image-20230512123229442"></p>
<p>ä¹‹åçš„è¯å³å¯ä½¿ç”¨<code>:lua vim.lsp.buf.format()</code>å‘½ä»¤æˆ–æ˜¯ç›´æ¥ä½¿ç”¨å¿«æ·é”®<code>&lt;leader&gt;f</code>è¿›è¡Œæ ¼å¼åŒ–</p>
<p>ä½†æ˜¯æˆ‘ä»¬ä¼šå‘ç°åŒ…å¦‚ä¸‹é”™è¯¯ï¼Œè¿™æ˜¯å› ä¸ºç›¸åº”è¯­è¨€åº”è¯¥é…ç½®ç›¸åº”çš„Code Formatterï¼Œæ˜¾ç¤ºæŠ¥é”™å°±æ˜¯ç¼ºå°‘Luaè¯­è¨€çš„StyLuaï¼Œå…¶å®ƒè¯­è¨€å¯ä»¥è‡ªè¡Œé…ç½®ç›¸åº”çš„Formatter</p>
<p><img src="https://cdn.jsdelivr.net/gh/Returntmp/blog-image@main/blog/image-20230512140107402.png" alt="image-20230512140107402"></p>
<p>ä¸‹é¢å±•ç¤ºå¦‚ä½•é…ç½®stylua</p>
<h5 id="é…ç½®ç¯å¢ƒ"><a href="#é…ç½®ç¯å¢ƒ" class="headerlink" title="é…ç½®ç¯å¢ƒ"></a>é…ç½®ç¯å¢ƒ</h5><p>stylua éœ€è¦é…ç½® rust ç¯å¢ƒ ï¼Œrustå®˜ç½‘ï¼š<a href="https://www.rust-lang.org/zh-CN/tools/install">å®‰è£… Rust - Rust ç¨‹åºè®¾è®¡è¯­è¨€ (rust-lang.org)</a></p>
<p>å› ä¸ºæˆ‘æ˜¯ä½¿ç”¨WSLï¼Œå› æ­¤ç›´æ¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å³å¯</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl --proto <span class="string">&#x27;=https&#x27;</span> --tlsv1.2 -sSf https://sh.rustup.rs | sh</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œ<code>source &quot;$HOME/.cargo/env&quot;</code></p>
<p>æ‰§è¡Œ<code>rustc --version</code>çœ‹æ˜¯å¦æˆåŠŸï¼Œå¤±è´¥åˆ™çœ‹æ˜¯å¦æ·»åŠ <code>~/.cargo/bin</code>è·¯å¾„åˆ°ç¯å¢ƒå˜é‡ä¸­</p>
<h5 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h5><p>æ‰§è¡Œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cargo install stylua</span><br></pre></td></tr></table></figure>
<p>è¾“å‡º<code>stylua -V</code>çœ‹æ˜¯å¦æˆåŠŸ</p>
<h5 id="å‡ºç°é—®é¢˜"><a href="#å‡ºç°é—®é¢˜" class="headerlink" title="å‡ºç°é—®é¢˜"></a>å‡ºç°é—®é¢˜</h5><blockquote>
<p>æ ¼å¼åŒ–ä¹‹åé‡Œé¢çš„ç©ºæ ¼å°±éƒ½å˜æˆäº†â€^Iâ€, åŸæœ¬åº”è¯¥æ˜¯â€œÂ·â€çš„</p>
</blockquote>
<p>ç›´æ¥å°†<code>basic.lua</code>æ–‡ä»¶ä¸­è®¾ç½®<code>vim.o.listchars = &quot;space:Â·,tab:Â·Â·&quot;</code>æˆ–æ˜¯è®¾ç½®<code>vim.o.list = false</code></p>
<h3 id="å‰ç«¯å¼€å‘å¿…è¦é…ç½®"><a href="#å‰ç«¯å¼€å‘å¿…è¦é…ç½®" class="headerlink" title="å‰ç«¯å¼€å‘å¿…è¦é…ç½®"></a>å‰ç«¯å¼€å‘å¿…è¦é…ç½®</h3><h5 id="é…ç½®è¯­æ³•é«˜äº®"><a href="#é…ç½®è¯­æ³•é«˜äº®" class="headerlink" title="é…ç½®è¯­æ³•é«˜äº®"></a>é…ç½®è¯­æ³•é«˜äº®</h5><p>æ‰§è¡Œ<code>:TSInstall css scss json html vue javascript typescript</code></p>
<p>æ‰§è¡Œ<code>:TSInstallInfo</code>æŸ¥çœ‹å®‰è£…æƒ…å†µ</p>
<h5 id="é…ç½®-LSP"><a href="#é…ç½®-LSP" class="headerlink" title="é…ç½® LSP"></a>é…ç½® LSP</h5><p><code>lua/lsp/setup.lua</code> </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mason_config.setup(&#123;</span><br><span class="line">    ensure_installed = &#123;<span class="string">&quot;lua_ls&quot;</span>, <span class="string">&quot;html&quot;</span>, <span class="string">&quot;cssls&quot;</span>&#125;</span><br><span class="line">&#125;)</span><br><span class="line">...</span><br><span class="line"><span class="built_in">local</span> servers = &#123;</span><br><span class="line">    lua_ls = require(<span class="string">&quot;lsp.config.lua&quot;</span>),</span><br><span class="line">    -- æ–°å¢</span><br><span class="line">    html = require(<span class="string">&quot;lsp.config.html&quot;</span>),</span><br><span class="line">    cssls = require(<span class="string">&quot;lsp.config.css&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åˆ›å»º<code>lsp/common-config.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> M = &#123;&#125;</span><br><span class="line"></span><br><span class="line">M.keyAttach = <span class="keyword">function</span>(bufnr)</span><br><span class="line">  <span class="built_in">local</span> <span class="keyword">function</span> buf_set_keymap(mode, lhs, rhs)</span><br><span class="line">    vim.keymap.set(mode, lhs, rhs, &#123; noremap = <span class="literal">true</span>, silent = <span class="literal">true</span>, buffer = bufnr &#125;)</span><br><span class="line">  end</span><br><span class="line">  -- ç»‘å®šå¿«æ·é”®</span><br><span class="line">  require(<span class="string">&quot;keybindings&quot;</span>).mapLSP(buf_set_keymap)</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">-- ç¦ç”¨æ ¼å¼åŒ–åŠŸèƒ½ï¼Œäº¤ç»™ä¸“é—¨æ’ä»¶æ’ä»¶å¤„ç†</span><br><span class="line">M.disableFormat = <span class="keyword">function</span>(client)</span><br><span class="line">  <span class="keyword">if</span> vim.fn.has(<span class="string">&quot;nvim-0.8&quot;</span>) == 1 <span class="keyword">then</span></span><br><span class="line">    client.server_capabilities.documentFormattingProvider = <span class="literal">false</span></span><br><span class="line">    client.server_capabilities.documentRangeFormattingProvider = <span class="literal">false</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    client.resolved_capabilities.document_formatting = <span class="literal">false</span></span><br><span class="line">    client.resolved_capabilities.document_range_formatting = <span class="literal">false</span></span><br><span class="line">  end</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">-- M.capabilities = require(<span class="string">&quot;cmp_nvim_lsp&quot;</span>).update_capabilities(vim.lsp.protocol.make_client_capabilities())</span><br><span class="line">M.capabilities = require(<span class="string">&quot;cmp_nvim_lsp&quot;</span>).default_capabilities()</span><br><span class="line"></span><br><span class="line">M.flags = &#123;</span><br><span class="line">  debounce_text_changes = 150,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">return</span> M</span><br></pre></td></tr></table></figure>
<p>åˆ›å»º<code>lsp/config/html.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> common = require(<span class="string">&quot;lsp.common-config&quot;</span>)</span><br><span class="line"><span class="built_in">local</span> opts = &#123;</span><br><span class="line">  capabilities = common.capabilities,</span><br><span class="line">  flags = common.flags,</span><br><span class="line">  on_attach = <span class="keyword">function</span>(client, bufnr)</span><br><span class="line">  	-- ç¦ç”¨æœ¬èº«è¯­è¨€æ ¼å¼åŒ–</span><br><span class="line">    common.disableFormat(client)</span><br><span class="line">    common.keyAttach(bufnr)</span><br><span class="line">  end,</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">return</span> &#123;</span><br><span class="line">  on_setup = <span class="keyword">function</span>(server)</span><br><span class="line">    server.setup(opts)</span><br><span class="line">  end,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åˆ›å»º<code>lsp/config/css.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> common = require(<span class="string">&quot;lsp.common-config&quot;</span>)</span><br><span class="line"><span class="built_in">local</span> opts = &#123;</span><br><span class="line">  capabilities = common.capabilities,</span><br><span class="line">  flags = common.flags,</span><br><span class="line">  on_attach = <span class="keyword">function</span>(client, bufnr)</span><br><span class="line">    common.disableFormat(client)</span><br><span class="line">    common.keyAttach(bufnr)</span><br><span class="line">  end,</span><br><span class="line">  settings = &#123;</span><br><span class="line">    css = &#123;</span><br><span class="line">      validate = <span class="literal">true</span>,</span><br><span class="line">      -- tailwindcss</span><br><span class="line">      lint = &#123;</span><br><span class="line">        unknownAtRules = <span class="string">&quot;ignore&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    less = &#123;</span><br><span class="line">      validate = <span class="literal">true</span>,</span><br><span class="line">      lint = &#123;</span><br><span class="line">        unknownAtRules = <span class="string">&quot;ignore&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    scss = &#123;</span><br><span class="line">      validate = <span class="literal">true</span>,</span><br><span class="line">      lint = &#123;</span><br><span class="line">        unknownAtRules = <span class="string">&quot;ignore&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">return</span> &#123;</span><br><span class="line">  on_setup = <span class="keyword">function</span>(server)</span><br><span class="line">    server.setup(opts)</span><br><span class="line">  end,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä¸Šé¢ä¸ç¦ç”¨çš„è¯ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œåªä¸è¿‡ä¼šå’Œé»˜è®¤çš„null-lsä¸­çš„ prettier æ ¼å¼åŒ–å†²çªï¼Œæ¯æ¬¡æ ¼å¼åŒ–éƒ½éœ€è¦é€‰æ‹©</p>
</blockquote>
<p>æ³¨æ„htmlã€cssæ–‡ä»¶å‡æ˜¯éœ€è¦é¡¹ç›®æ ¹ç›®å½•æœ‰<code>package.json</code>æ–‡ä»¶å’Œprettierä¾èµ–</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºpackage.jsonå¹¶å®‰è£…prettierä¾èµ–ï¼Œé¡ºä¾¿æŠŠeslintä¹Ÿé…ç½®ä¸Š</span></span><br><span class="line">npm init -y &amp;&amp; npm i -D prettier eslint</span><br></pre></td></tr></table></figure>
<h5 id="Emmet-LSP-é…ç½®"><a href="#Emmet-LSP-é…ç½®" class="headerlink" title="Emmet LSP é…ç½®"></a>Emmet LSP é…ç½®</h5><p>ä½¿ç”¨ emmet å¯æ˜¯ä½¿ç”¨ç®€å•çš„è¯­æ³•å¯ä»¥å¿«é€Ÿæ‰“å‡º HTML ç»“æ„æ ‡ç­¾</p>
<p>åˆ›å»º<code>lua/lsp/config/emmet.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> opts = &#123;</span><br><span class="line">  filetypes = &#123; <span class="string">&quot;html&quot;</span>, <span class="string">&quot;typescriptreact&quot;</span>, <span class="string">&quot;javascriptreact&quot;</span>, <span class="string">&quot;css&quot;</span>, <span class="string">&quot;sass&quot;</span>, <span class="string">&quot;scss&quot;</span>, <span class="string">&quot;less&quot;</span> &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">return</span> &#123;</span><br><span class="line">  on_setup = <span class="keyword">function</span>(server)</span><br><span class="line">    server.setup(opts)</span><br><span class="line">  end,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>lua/lsp/setup.lua</code>ä¿®æ”¹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mason_config.setup(&#123;</span><br><span class="line">    ensure_installed = &#123;<span class="string">&quot;lua_ls&quot;</span>, <span class="string">&quot;html&quot;</span>, <span class="string">&quot;cssls&quot;</span>, <span class="string">&quot;emmet_ls&quot;</span>&#125;</span><br><span class="line">&#125;)</span><br><span class="line">...</span><br><span class="line"><span class="built_in">local</span> servers = &#123;</span><br><span class="line">    lua_ls = require(<span class="string">&quot;lsp.config.lua&quot;</span>),</span><br><span class="line">    html = require(<span class="string">&quot;lsp.config.html&quot;</span>),</span><br><span class="line">    cssls = require(<span class="string">&quot;lsp.config.css&quot;</span>),</span><br><span class="line">    -- æ–°å¢</span><br><span class="line">    emmet_ls = require(<span class="string">&quot;lsp.config.emmet&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="é…ç½®-jsonls"><a href="#é…ç½®-jsonls" class="headerlink" title="é…ç½® jsonls"></a>é…ç½® jsonls</h5><p>JSON Schema Store æ’ä»¶ï¼Œå³JSONå¢å¼ºåŒ…</p>
<p><code>plugins.lua</code>æ·»åŠ æ’ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- JSON å¢å¼º</span><br><span class="line">use(<span class="string">&quot;b0o/schemastore.nvim&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>æ–°å»º<code>lua/lsp/config/json.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> common = require(<span class="string">&quot;lsp.common-config&quot;</span>)</span><br><span class="line"><span class="built_in">local</span> opts = &#123;</span><br><span class="line">  capabilities = common.capabilities,</span><br><span class="line">  flags = common.flags,</span><br><span class="line">  on_attach = <span class="keyword">function</span>(client, bufnr)</span><br><span class="line">    -- use fixjson to format</span><br><span class="line">    -- https://github.com/rhysd/fixjson</span><br><span class="line">    common.disableFormat(client)</span><br><span class="line">    common.keyAttach(bufnr)</span><br><span class="line">  end,</span><br><span class="line">  settings = &#123;</span><br><span class="line">    json = &#123;</span><br><span class="line">      schemas = require(<span class="string">&quot;schemastore&quot;</span>).json.schemas(),</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">return</span> &#123;</span><br><span class="line">  on_setup = <span class="keyword">function</span>(server)</span><br><span class="line">    server.setup(opts)</span><br><span class="line">  end,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>lsp/config/setup.lua</code>ä¿®æ”¹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mason_config.setup(&#123;</span><br><span class="line">    ensure_installed = &#123;<span class="string">&quot;lua_ls&quot;</span>, <span class="string">&quot;html&quot;</span>, <span class="string">&quot;cssls&quot;</span>, <span class="string">&quot;emmet_ls&quot;</span>,<span class="string">&quot;jsonls&quot;</span>&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">local</span> servers = &#123;</span><br><span class="line">    lua_ls = require(<span class="string">&quot;lsp.config.lua&quot;</span>),</span><br><span class="line">    html = require(<span class="string">&quot;lsp.config.html&quot;</span>),</span><br><span class="line">    cssls = require(<span class="string">&quot;lsp.config.css&quot;</span>),</span><br><span class="line">    emmet_ls = require(<span class="string">&quot;lsp.config.emmet&quot;</span>),</span><br><span class="line">    -- æ–°å¢</span><br><span class="line">    jsonls = require(<span class="string">&quot;lsp.config.json&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="é…ç½®-tssserver"><a href="#é…ç½®-tssserver" class="headerlink" title="é…ç½® tssserver"></a>é…ç½® tssserver</h5><p>æ·»åŠ TSå¢å¼ºåŒ…æ’ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">use(&#123; <span class="string">&quot;jose-elias-alvarez/nvim-lsp-ts-utils&quot;</span>, requires = <span class="string">&quot;nvim-lua/plenary.nvim&quot;</span> &#125;)</span><br></pre></td></tr></table></figure>
<p>åˆ›å»º<code>lsp/config/ts.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> common = require(<span class="string">&quot;lsp.common-config&quot;</span>)</span><br><span class="line"><span class="built_in">local</span> keybindings = require(<span class="string">&quot;keybindings&quot;</span>)</span><br><span class="line"><span class="built_in">local</span> ts_utils = require(<span class="string">&quot;nvim-lsp-ts-utils&quot;</span>)</span><br><span class="line"><span class="built_in">local</span> opts = &#123;</span><br><span class="line">  flags = common.flags,</span><br><span class="line">  capabilities = common.capabilities,</span><br><span class="line"></span><br><span class="line">  -- https://github.com/jose-elias-alvarez/nvim-lsp-ts-utils/blob/main/lua/nvim-lsp-ts-utils/utils.lua</span><br><span class="line">  -- ä¼ å…¥ tsserver åˆå§‹åŒ–å‚æ•°</span><br><span class="line">  -- make inlay hints work</span><br><span class="line">  init_options = &#123;</span><br><span class="line">    hostInfo = <span class="string">&quot;neovim&quot;</span>,</span><br><span class="line">    preferences = &#123;</span><br><span class="line">      includeInlayParameterNameHints = <span class="string">&quot;all&quot;</span>,</span><br><span class="line">      includeInlayParameterNameHintsWhenArgumentMatchesName = <span class="literal">true</span>,</span><br><span class="line">      includeInlayFunctionParameterTypeHints = <span class="literal">true</span>,</span><br><span class="line">      includeInlayVariableTypeHints = <span class="literal">true</span>,</span><br><span class="line">      includeInlayPropertyDeclarationTypeHints = <span class="literal">true</span>,</span><br><span class="line">      includeInlayFunctionLikeReturnTypeHints = <span class="literal">true</span>,</span><br><span class="line">      includeInlayEnumMemberValueHints = <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  on_attach = <span class="keyword">function</span>(client, bufnr)</span><br><span class="line">    common.disableFormat(client)</span><br><span class="line">    common.keyAttach(bufnr)</span><br><span class="line">    -- defaults</span><br><span class="line">    ts_utils.setup(&#123;</span><br><span class="line">      debug = <span class="literal">false</span>,</span><br><span class="line">      disable_commands = <span class="literal">false</span>,</span><br><span class="line">      enable_import_on_completion = <span class="literal">false</span>,</span><br><span class="line">      -- import all</span><br><span class="line">      import_all_timeout = 5000, -- ms</span><br><span class="line">      -- lower numbers = higher priority</span><br><span class="line">      import_all_priorities = &#123;</span><br><span class="line">        same_file = 1, -- add to existing import statement</span><br><span class="line">        local_files = 2, -- git files or files with relative path markers</span><br><span class="line">        buffer_content = 3, -- loaded buffer content</span><br><span class="line">        buffers = 4, -- loaded buffer names</span><br><span class="line">      &#125;,</span><br><span class="line">      import_all_scan_buffers = 100,</span><br><span class="line">      import_all_select_source = <span class="literal">false</span>,</span><br><span class="line">      -- <span class="keyword">if</span> <span class="literal">false</span> will avoid organizing imports</span><br><span class="line">      always_organize_imports = <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">      -- filter diagnostics</span><br><span class="line">      filter_out_diagnostics_by_severity = &#123;&#125;,</span><br><span class="line">      -- https://github.com/microsoft/TypeScript/blob/main/src/compiler/diagnosticMessages.json</span><br><span class="line">      filter_out_diagnostics_by_code = &#123;</span><br><span class="line">        80001,</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      -- inlay hints</span><br><span class="line">      auto_inlay_hints = <span class="literal">true</span>,</span><br><span class="line">      inlay_hints_highlight = <span class="string">&quot;Comment&quot;</span>,</span><br><span class="line">      inlay_hints_priority = 200, -- priority of the hint extmarks</span><br><span class="line">      inlay_hints_throttle = 150, -- throttle the inlay hint request</span><br><span class="line">      inlay_hints_format = &#123; -- format options <span class="keyword">for</span> individual hint kind</span><br><span class="line">        Type = &#123;&#125;,</span><br><span class="line">        Parameter = &#123;&#125;,</span><br><span class="line">        Enum = &#123;&#125;,</span><br><span class="line">        -- Example format customization <span class="keyword">for</span> `Type` kind:</span><br><span class="line">        -- Type = &#123;</span><br><span class="line">        --     highlight = <span class="string">&quot;Comment&quot;</span>,</span><br><span class="line">        --     text = <span class="keyword">function</span>(text)</span><br><span class="line">        --         <span class="built_in">return</span> <span class="string">&quot;-&gt;&quot;</span> .. text:sub(2)</span><br><span class="line">        --     end,</span><br><span class="line">        -- &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      -- update imports on file move</span><br><span class="line">      update_imports_on_move = <span class="literal">false</span>,</span><br><span class="line">      require_confirmation_on_move = <span class="literal">false</span>,</span><br><span class="line">      watch_dir = nil,</span><br><span class="line">    &#125;)</span><br><span class="line">    -- required to fix code action ranges and filter diagnostics</span><br><span class="line">    ts_utils.setup_client(client)</span><br><span class="line">    -- no default maps, so you may want to define some here</span><br><span class="line">    keybindings.mapTsLSP(bufnr)</span><br><span class="line">  end,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">return</span> &#123;</span><br><span class="line">  on_setup = <span class="keyword">function</span>(server)</span><br><span class="line">    server.setup(opts)</span><br><span class="line">  end,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åŒæ ·<code>setup.lua</code>ä¿®æ”¹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mason_config.setup(&#123;</span><br><span class="line">    ensure_installed = &#123;<span class="string">&quot;lua_ls&quot;</span>, <span class="string">&quot;html&quot;</span>, <span class="string">&quot;cssls&quot;</span>, <span class="string">&quot;emmet_ls&quot;</span>, <span class="string">&quot;jsonls&quot;</span>, <span class="string">&quot;tsserver&quot;</span>&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">-- å®‰è£…åˆ—è¡¨</span><br><span class="line">-- &#123; key: æœåŠ¡å™¨åï¼Œ value: é…ç½®æ–‡ä»¶ &#125;</span><br><span class="line">-- key å¿…é¡»ä¸ºä¸‹åˆ—ç½‘å€åˆ—å‡ºçš„ server nameï¼Œä¸å¯ä»¥éšä¾¿å†™</span><br><span class="line">-- https://github.com/williamboman/nvim-lsp-installer<span class="comment">#available-lsps</span></span><br><span class="line"><span class="built_in">local</span> servers = &#123;</span><br><span class="line">    lua_ls = require(<span class="string">&quot;lsp.config.lua&quot;</span>),</span><br><span class="line">    html = require(<span class="string">&quot;lsp.config.html&quot;</span>),</span><br><span class="line">    cssls = require(<span class="string">&quot;lsp.config.css&quot;</span>),</span><br><span class="line">    emmet_ls = require(<span class="string">&quot;lsp.config.emmet&quot;</span>),</span><br><span class="line">    jsonls = require(<span class="string">&quot;lsp.config.json&quot;</span>),</span><br><span class="line">    -- æ–°å¢</span><br><span class="line">    tsserver = require(<span class="string">&quot;lsp.config.ts&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ·»åŠ å¿«æ·é”®<code>lua/keybindings.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- typescript å¿«æ·é”®</span><br><span class="line">pluginKeys.mapTsLSP = <span class="keyword">function</span>(mapbuf)</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gs&quot;</span>, <span class="string">&quot;:TSLspOrganize&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gr&quot;</span>, <span class="string">&quot;:TSLspRenameFile&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">  mapbuf(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;gi&quot;</span>, <span class="string">&quot;:TSLspImportAll&lt;CR&gt;&quot;</span>, opt)</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<ul>
<li>gs åˆ é™¤ä¸ç”¨çš„ import è¯­å¥å¹¶é‡æ–°æ’åºã€‚</li>
<li>gr ç”¨äºæ”¹å˜æ–‡ä»¶åï¼ŒåŒæ—¶å…¶ä»–æ–‡ä»¶ä¸­å¼•ç”¨è¯¥æ–‡ä»¶çš„æ–‡ä»¶åä¹Ÿä¼šè¢«ä¿®æ”¹ã€‚</li>
<li>gi å¯¼å…¥å½“å‰æ–‡ä»¶çš„æ‰€æœ‰ä¾èµ–ï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨æ’åº</li>
</ul>
<h5 id="ESLint-å’Œ-Prettier-é…ç½®"><a href="#ESLint-å’Œ-Prettier-é…ç½®" class="headerlink" title="ESLint å’Œ Prettier é…ç½®"></a>ESLint å’Œ Prettier é…ç½®</h5><p>null-ls ä¸­é™¤äº†æ ¼å¼åŒ– Formattingï¼Œè¿˜æœ‰Diagnosticsï¼ˆçº¢å­—é”™è¯¯æç¤ºï¼‰ å’Œ Code Actionsï¼ˆä»£ç è§¦å‘çš„è¡Œä¸ºï¼‰</p>
<p><code>lsp/null-ls.lua</code>ä¿®æ”¹ä¸º</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> status, null_ls = pcall(require, <span class="string">&quot;null-ls&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> not status <span class="keyword">then</span></span><br><span class="line">    vim.notify(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ° null-ls&quot;</span>)</span><br><span class="line">    <span class="built_in">return</span></span><br><span class="line">end</span><br><span class="line"></span><br><span class="line"><span class="built_in">local</span> formatting = null_ls.builtins.formatting</span><br><span class="line"><span class="built_in">local</span> diagnostics = null_ls.builtins.diagnostics</span><br><span class="line"><span class="built_in">local</span> code_actions = null_ls.builtins.code_actions</span><br><span class="line"></span><br><span class="line">null_ls.setup(&#123;</span><br><span class="line">    debug = <span class="literal">false</span>,</span><br><span class="line">    sources = &#123; -- Formatting ---------------------</span><br><span class="line">    --  brew install shfmt</span><br><span class="line">    formatting.shfmt, -- StyLua</span><br><span class="line">    formatting.stylua, -- frontend</span><br><span class="line">    formatting.prettier.with(&#123; -- åªæ¯”é»˜è®¤é…ç½®å°‘äº† markdown</span><br><span class="line">        filetypes = &#123;<span class="string">&quot;javascript&quot;</span>, <span class="string">&quot;javascriptreact&quot;</span>, <span class="string">&quot;typescript&quot;</span>, <span class="string">&quot;typescriptreact&quot;</span>, <span class="string">&quot;vue&quot;</span>, <span class="string">&quot;css&quot;</span>, <span class="string">&quot;scss&quot;</span>, <span class="string">&quot;less&quot;</span>,</span><br><span class="line">                     <span class="string">&quot;html&quot;</span>, <span class="string">&quot;json&quot;</span>, <span class="string">&quot;yaml&quot;</span>, <span class="string">&quot;graphql&quot;</span>&#125;,</span><br><span class="line">        prefer_local = <span class="string">&quot;node_modules/.bin&quot;</span></span><br><span class="line">    &#125;), -- Diagnostics  ---------------------</span><br><span class="line">    diagnostics.eslint.with(&#123;</span><br><span class="line">        prefer_local = <span class="string">&quot;node_modules/.bin&quot;</span></span><br><span class="line">    &#125;), -- code actions ---------------------</span><br><span class="line">    code_actions.gitsigns, code_actions.eslint.with(&#123;</span><br><span class="line">        prefer_local = <span class="string">&quot;node_modules/.bin&quot;</span></span><br><span class="line">    &#125;)&#125;,</span><br><span class="line">    -- <span class="comment">#&#123;m&#125;: message</span></span><br><span class="line">    -- <span class="comment">#&#123;s&#125;: source name (defaults to null-ls if not specified)</span></span><br><span class="line">    -- <span class="comment">#&#123;c&#125;: code (if available)</span></span><br><span class="line">    diagnostics_format = <span class="string">&quot;[#&#123;s&#125;] #&#123;m&#125;&quot;</span>,</span><br><span class="line">    -- ä¿å­˜è‡ªåŠ¨æ ¼å¼åŒ–</span><br><span class="line">    on_attach = <span class="keyword">function</span>(client, bufnr)</span><br><span class="line">        <span class="keyword">if</span> client.supports_method(<span class="string">&quot;textDocument/formatting&quot;</span>) <span class="keyword">then</span></span><br><span class="line">            vim.api.nvim_clear_autocmds(&#123;</span><br><span class="line">                group = augroup,</span><br><span class="line">                buffer = bufnr</span><br><span class="line">            &#125;)</span><br><span class="line">            vim.api.nvim_create_autocmd(<span class="string">&quot;BufWritePre&quot;</span>, &#123;</span><br><span class="line">                group = augroup,</span><br><span class="line">                buffer = bufnr,</span><br><span class="line">                callback = <span class="keyword">function</span>()</span><br><span class="line">                    -- on 0.8, you should use vim.lsp.buf.format(&#123; bufnr = bufnr &#125;) instead</span><br><span class="line">                    vim.lsp.buf.format(&#123;</span><br><span class="line">                        bufnr = bufnr</span><br><span class="line">                    &#125;)</span><br><span class="line">                    -- vim.lsp.buf.formatting_sync()</span><br><span class="line">                end</span><br><span class="line">            &#125;)</span><br><span class="line">        end</span><br><span class="line">    end</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>code_actions.gitsigns æ²¡æœ‰å®‰è£…å¯ä»¥æ³¨é‡Šæ‰</p>
</blockquote>
<p>ä½¿ç”¨<code>&lt;leader&gt;ca</code>è°ƒç”¨ Code Action è‡ªåŠ¨ä¿®å¤å¿«æ·é”®  </p>
<h3 id="Rust-å¼€å‘é…ç½®"><a href="#Rust-å¼€å‘é…ç½®" class="headerlink" title="Rust å¼€å‘é…ç½®"></a>Rust å¼€å‘é…ç½®</h3><p>å‰æ–‡å·²å®‰è£…rustç¯å¢ƒï¼Œæ­¤å¤„ä¸èµ˜è¿°</p>
<h5 id="è¯­æ³•é«˜äº®"><a href="#è¯­æ³•é«˜äº®" class="headerlink" title="è¯­æ³•é«˜äº®"></a>è¯­æ³•é«˜äº®</h5><p><code>plugin-config/nvim-treesitter.lua</code>ä¸­çš„ensure_installedä¸­æ·»åŠ â€rustâ€</p>
<p>æˆ–æ˜¯æ‰§è¡Œ<code>:TSInstall rust</code></p>
<h5 id="ä»£ç æç¤º"><a href="#ä»£ç æç¤º" class="headerlink" title="ä»£ç æç¤º"></a>ä»£ç æç¤º</h5><p><code>lsp/setup.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mason_config.setup(&#123;</span><br><span class="line">    ensure_installed = &#123;<span class="string">&quot;lua_ls&quot;</span>, <span class="string">&quot;html&quot;</span>, <span class="string">&quot;cssls&quot;</span>, <span class="string">&quot;emmet_ls&quot;</span>, <span class="string">&quot;jsonls&quot;</span>, <span class="string">&quot;rust_analyzer&quot;</span>&#125;</span><br><span class="line">&#125;)</span><br><span class="line">...</span><br><span class="line"><span class="built_in">local</span> servers = &#123;</span><br><span class="line">  -- æ–°å¢</span><br><span class="line">  rust_analyzer = require(<span class="string">&quot;lsp.config.rust&quot;</span>),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>lsp/config/rust.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> common = require(<span class="string">&quot;lsp.common-config&quot;</span>)</span><br><span class="line"><span class="built_in">local</span> opts = &#123;</span><br><span class="line">        capabilities = common.capabilities,</span><br><span class="line">        flags = common.flags,</span><br><span class="line">        on_attach = <span class="keyword">function</span>(client, bufnr)</span><br><span class="line">                common.disableFormat(client)</span><br><span class="line">                common.keyAttach(bufnr)</span><br><span class="line">        end,</span><br><span class="line">        settings = &#123;</span><br><span class="line">                -- to <span class="built_in">enable</span> rust-analyzer settings visit:</span><br><span class="line">                -- https://github.com/rust-analyzer/rust-analyzer/blob/master/docs/user/generated_config.adoc</span><br><span class="line">                [<span class="string">&quot;rust-analyzer&quot;</span>] = &#123;</span><br><span class="line">                        -- <span class="built_in">enable</span> clippy on save</span><br><span class="line">                        checkOnSave = &#123;</span><br><span class="line">                                <span class="built_in">command</span> = <span class="string">&quot;clippy&quot;</span>,</span><br><span class="line">                        &#125;,</span><br><span class="line">                &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">return</span> &#123;</span><br><span class="line">        on_setup = <span class="keyword">function</span>(server)</span><br><span class="line">                <span class="built_in">local</span> ok_rt, rust_tools = pcall(require, <span class="string">&quot;rust-tools&quot;</span>)</span><br><span class="line">                <span class="keyword">if</span> not ok_rt <span class="keyword">then</span></span><br><span class="line">                        <span class="built_in">print</span>(<span class="string">&quot;Failed to load rust tools, will set up `rust_analyzer` without `rust-tools`.&quot;</span>)</span><br><span class="line">                        server.setup(opts)</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                        -- We don<span class="string">&#x27;t want to call lspconfig.rust_analyzer.setup() when using rust-tools</span></span><br><span class="line"><span class="string">                        rust_tools.setup(&#123;</span></span><br><span class="line"><span class="string">                                server = opts,</span></span><br><span class="line"><span class="string">                                -- dap = require(&quot;dap.nvim-dap.config.rust&quot;),</span></span><br><span class="line"><span class="string">                        &#125;)</span></span><br><span class="line"><span class="string">                end</span></span><br><span class="line"><span class="string">        end,</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<p>æ·»åŠ  Rust å¢å¼ºåŒ…æ’ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- Rust å¢å¼º</span><br><span class="line">use(<span class="string">&quot;simrat39/rust-tools.nvim&quot;</span>)</span><br></pre></td></tr></table></figure>
<h5 id="ä»£ç æ ¼å¼åŒ–-1"><a href="#ä»£ç æ ¼å¼åŒ–-1" class="headerlink" title="ä»£ç æ ¼å¼åŒ–"></a>ä»£ç æ ¼å¼åŒ–</h5><p>å®‰è£…ç›¸åº” Formtter</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rustup component add rustfmt</span><br></pre></td></tr></table></figure>
<p><code>null-ls.lua</code></p>
<p>sourceä¸­æ·»åŠ </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- rustfmt</span><br><span class="line">formatting.rustfmt,</span><br></pre></td></tr></table></figure>
<p>filetypesä¸­æ·»åŠ <code>&quot;rust&quot;</code></p>
<h3 id="é…ç½®C-C-å¼€å‘ç¯å¢ƒ"><a href="#é…ç½®C-C-å¼€å‘ç¯å¢ƒ" class="headerlink" title="é…ç½®C/C++å¼€å‘ç¯å¢ƒ"></a>é…ç½®C/C++å¼€å‘ç¯å¢ƒ</h3><p>ç†Ÿæ‚‰ä¸Šé¢çš„æµç¨‹ï¼Œè¿™ä¸ªå°±ç®€å•è®²äº†</p>
<p>ç›¸å…³æ’ä»¶ï¼š<a href="https://github.com/p00f/clangd_extensions.nvim">p00f/clangd_extensions.nvim: Clangdâ€™s off-spec features for neovimâ€™s LSP client. Use https://sr.ht/~p00f/clangd_extensions.nvim instead (github.com)</a></p>
<p><code>setup.lua</code></p>
<blockquote>
<p>servers æ·»åŠ  â€œcâ€å’Œâ€œcppâ€</p>
</blockquote>
<p>å®‰è£…æ ¼å¼åŒ–æ’ä»¶ï¼š<code>apt-get install -y clang-format</code></p>
<p><code>plugin-config/nvim-treesitter.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ensure_installed æ·»åŠ  â€œcppâ€ <span class="string">&quot;c&quot;</span></span><br></pre></td></tr></table></figure>
<p><code>null-ls.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">formatting.prettier.with(&#123;</span><br><span class="line">        filetypes = &#123;</span><br><span class="line">                <span class="string">&quot;c&quot;</span>,</span><br><span class="line">                <span class="string">&quot;cpp&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;),</span><br><span class="line">-- clang-format</span><br><span class="line">formatting.clang_format,</span><br></pre></td></tr></table></figure>
<p><code>lsp/config/clangd.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> common = require(<span class="string">&quot;lsp.common-config&quot;</span>)</span><br><span class="line"><span class="built_in">local</span> opts = &#123;</span><br><span class="line">        capabilities = common.capabilities,</span><br><span class="line">        flags = common.flags,</span><br><span class="line">        on_attach = <span class="keyword">function</span>(client, bufnr)</span><br><span class="line">                common.disableFormat(client)</span><br><span class="line">                common.keyAttach(bufnr)</span><br><span class="line">        end,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">return</span> &#123;</span><br><span class="line">        on_setup = <span class="keyword">function</span>(server)</span><br><span class="line">                <span class="built_in">local</span> ok_rt, clangd_extensions = pcall(require, <span class="string">&quot;clangd_extensions&quot;</span>)</span><br><span class="line">                <span class="keyword">if</span> not ok_rt <span class="keyword">then</span></span><br><span class="line">                        server.setup(opts)</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                        clangd_extensions.setup(&#123;</span><br><span class="line">                                server = opts,</span><br><span class="line">                                extensions = &#123;</span><br><span class="line">                                        -- defaults:</span><br><span class="line">                                        -- Automatically <span class="built_in">set</span> inlay hints (<span class="built_in">type</span> hints)</span><br><span class="line">                                        autoSetHints = <span class="literal">true</span>,</span><br><span class="line">                                        -- These apply to the default ClangdSetInlayHints <span class="built_in">command</span></span><br><span class="line">                                        inlay_hints = &#123;</span><br><span class="line">                                                -- Only show inlay hints <span class="keyword">for</span> the current line</span><br><span class="line">                                                only_current_line = <span class="literal">false</span>,</span><br><span class="line">                                                -- Event <span class="built_in">which</span> triggers a refersh of the inlay hints.</span><br><span class="line">                                                -- You can make this <span class="string">&quot;CursorMoved&quot;</span> or <span class="string">&quot;CursorMoved,CursorMovedI&quot;</span> but</span><br><span class="line">                                                -- not that this may cause  higher CPU usage.</span><br><span class="line">                                                -- This option is only respected when only_current_line and</span><br><span class="line">                                                -- autoSetHints both are <span class="literal">true</span>.</span><br><span class="line">                                                only_current_line_autocmd = <span class="string">&quot;CursorHold&quot;</span>,</span><br><span class="line">                                                -- whether to show parameter hints with the inlay hints or not</span><br><span class="line">                                                show_parameter_hints = <span class="literal">true</span>,</span><br><span class="line">                                                -- prefix <span class="keyword">for</span> parameter hints</span><br><span class="line">                                                parameter_hints_prefix = <span class="string">&quot;&lt;- &quot;</span>,</span><br><span class="line">                                                -- prefix <span class="keyword">for</span> all the other hints (<span class="built_in">type</span>, chaining)</span><br><span class="line">                                                other_hints_prefix = <span class="string">&quot;=&gt; &quot;</span>,</span><br><span class="line">                                                -- whether to align to the length of the longest line <span class="keyword">in</span> the file</span><br><span class="line">                                                max_len_align = <span class="literal">false</span>,</span><br><span class="line">                                                -- padding from the left <span class="keyword">if</span> max_len_align is <span class="literal">true</span></span><br><span class="line">                                                max_len_align_padding = 1,</span><br><span class="line">                                                -- whether to align to the extreme right or not</span><br><span class="line">                                                right_align = <span class="literal">false</span>,</span><br><span class="line">                                                -- padding from the right <span class="keyword">if</span> right_align is <span class="literal">true</span></span><br><span class="line">                                                right_align_padding = 7,</span><br><span class="line">                                                -- The color of the hints</span><br><span class="line">                                                highlight = <span class="string">&quot;Comment&quot;</span>,</span><br><span class="line">                                                -- The highlight group priority <span class="keyword">for</span> extmark</span><br><span class="line">                                                priority = 100,</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        ast = &#123;</span><br><span class="line">                                                -- These are unicode, should be available <span class="keyword">in</span> any font</span><br><span class="line">                                                role_icons = &#123;</span><br><span class="line">                                                        <span class="built_in">type</span> = <span class="string">&quot;ğŸ„£&quot;</span>,</span><br><span class="line">                                                        declaration = <span class="string">&quot;ğŸ„“&quot;</span>,</span><br><span class="line">                                                        expression = <span class="string">&quot;ğŸ„”&quot;</span>,</span><br><span class="line">                                                        statement = <span class="string">&quot;;&quot;</span>,</span><br><span class="line">                                                        specifier = <span class="string">&quot;ğŸ„¢&quot;</span>,</span><br><span class="line">                                                        [<span class="string">&quot;template argument&quot;</span>] = <span class="string">&quot;ğŸ†ƒ&quot;</span>,</span><br><span class="line">                                                &#125;,</span><br><span class="line">                                                kind_icons = &#123;</span><br><span class="line">                                                        Compound = <span class="string">&quot;ğŸ„²&quot;</span>,</span><br><span class="line">                                                        Recovery = <span class="string">&quot;ğŸ…&quot;</span>,</span><br><span class="line">                                                        TranslationUnit = <span class="string">&quot;ğŸ…„&quot;</span>,</span><br><span class="line">                                                        PackExpansion = <span class="string">&quot;ğŸ„¿&quot;</span>,</span><br><span class="line">                                                        TemplateTypeParm = <span class="string">&quot;ğŸ…ƒ&quot;</span>,</span><br><span class="line">                                                        TemplateTemplateParm = <span class="string">&quot;ğŸ…ƒ&quot;</span>,</span><br><span class="line">                                                        TemplateParamObject = <span class="string">&quot;ğŸ…ƒ&quot;</span>,</span><br><span class="line">                                                &#125;,</span><br><span class="line">                                                --[[ These require codicons (https://github.com/microsoft/vscode-codicons)</span><br><span class="line">            role_icons = &#123;</span><br><span class="line">                <span class="built_in">type</span> = <span class="string">&quot;î­£&quot;</span>,</span><br><span class="line">                declaration = <span class="string">&quot;îªŒ&quot;</span>,</span><br><span class="line">                expression = <span class="string">&quot;î©±&quot;</span>,</span><br><span class="line">                specifier = <span class="string">&quot;î®†&quot;</span>,</span><br><span class="line">                statement = <span class="string">&quot;îª†&quot;</span>,</span><br><span class="line">                [<span class="string">&quot;template argument&quot;</span>] = <span class="string">&quot;îª’&quot;</span>,</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            kind_icons = &#123;</span><br><span class="line">                Compound = <span class="string">&quot;îª‹&quot;</span>,</span><br><span class="line">                Recovery = <span class="string">&quot;îª‡&quot;</span>,</span><br><span class="line">                TranslationUnit = <span class="string">&quot;î«©&quot;</span>,</span><br><span class="line">                PackExpansion = <span class="string">&quot;î©¼&quot;</span>,</span><br><span class="line">                TemplateTypeParm = <span class="string">&quot;îª’&quot;</span>,</span><br><span class="line">                TemplateTemplateParm = <span class="string">&quot;îª’&quot;</span>,</span><br><span class="line">                TemplateParamObject = <span class="string">&quot;îª’&quot;</span>,</span><br><span class="line">            &#125;, ]]</span><br><span class="line"></span><br><span class="line">                                                highlights = &#123;</span><br><span class="line">                                                        detail = <span class="string">&quot;Comment&quot;</span>,</span><br><span class="line">                                                &#125;,</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        memory_usage = &#123;</span><br><span class="line">                                                border = <span class="string">&quot;none&quot;</span>,</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        symbol_info = &#123;</span><br><span class="line">                                                border = <span class="string">&quot;none&quot;</span>,</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                &#125;,</span><br><span class="line">                        &#125;)</span><br><span class="line">                end</span><br><span class="line">        end,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä»£ç è¿è¡Œå™¨"><a href="#ä»£ç è¿è¡Œå™¨" class="headerlink" title="ä»£ç è¿è¡Œå™¨"></a>ä»£ç è¿è¡Œå™¨</h3><p>ç›¸å…³æ’ä»¶ï¼š<a href="https://github.com/CRAG666/code_runner.nvim">CRAG666/code_runner.nvim: Neovim plugin.The best code runner you could have, it is like the one in vscode but with super powers, it manages projects like in intellij but without being slow (github.com)</a></p>
<p>æ·»åŠ æ’ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">use <span class="string">&#x27;CRAG666/code_runner.nvim&#x27;</span></span><br></pre></td></tr></table></figure>
<p>é…ç½®æ’ä»¶<code>plugin-config/code-runner.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> status, code_runner = pcall(require, <span class="string">&quot;code_runner&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> not status <span class="keyword">then</span></span><br><span class="line">	vim.notify(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ° code_runner&quot;</span>)</span><br><span class="line">	<span class="built_in">return</span></span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">code_runner.setup(&#123;</span><br><span class="line">	-- choose default mode (valid term, tab, <span class="built_in">float</span>, toggle)</span><br><span class="line">	mode = <span class="string">&quot;term&quot;</span>,</span><br><span class="line">	-- Focus on runner window(only works on toggle, term and tab mode)</span><br><span class="line">	focus = <span class="literal">true</span>,</span><br><span class="line">	-- startinsert (see <span class="string">&#x27;:h inserting-ex&#x27;</span>)</span><br><span class="line">	startinsert = <span class="literal">false</span>,</span><br><span class="line">	term = &#123;</span><br><span class="line">		--  Position to open the terminal, this option is ignored <span class="keyword">if</span> mode is tab</span><br><span class="line">		position = <span class="string">&quot;bot&quot;</span>,</span><br><span class="line">		-- window size, this option is ignored <span class="keyword">if</span> tab is <span class="literal">true</span></span><br><span class="line">		size = 8,</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="built_in">float</span> = &#123;</span><br><span class="line">		-- Key that close the code_runner floating window</span><br><span class="line">		close_key = <span class="string">&quot;&lt;ESC&gt;&quot;</span>,</span><br><span class="line">		-- Window border (see <span class="string">&#x27;:h nvim_open_win&#x27;</span>)</span><br><span class="line">		border = <span class="string">&quot;none&quot;</span>,</span><br><span class="line"></span><br><span class="line">		-- Num from `0 - 1` <span class="keyword">for</span> measurements</span><br><span class="line">		height = 0.8,</span><br><span class="line">		width = 0.8,</span><br><span class="line">		x = 0.5,</span><br><span class="line">		y = 0.5,</span><br><span class="line"></span><br><span class="line">		-- Highlight group <span class="keyword">for</span> floating window/border (see <span class="string">&#x27;:h winhl&#x27;</span>)</span><br><span class="line">		border_hl = <span class="string">&quot;FloatBorder&quot;</span>,</span><br><span class="line">		float_hl = <span class="string">&quot;Normal&quot;</span>,</span><br><span class="line"></span><br><span class="line">		-- Transparency (see <span class="string">&#x27;:h winblend&#x27;</span>)</span><br><span class="line">		blend = 0,</span><br><span class="line">	&#125;,</span><br><span class="line">	filetype_path = <span class="string">&quot;&quot;</span>, -- No default path defined</span><br><span class="line">	before_run_filetype = <span class="keyword">function</span>()</span><br><span class="line">		vim.cmd(<span class="string">&quot;:w&quot;</span>)</span><br><span class="line">	end,</span><br><span class="line">	filetype = &#123;</span><br><span class="line">		javascript = <span class="string">&quot;node&quot;</span>,</span><br><span class="line">		java = &#123;</span><br><span class="line">			<span class="string">&quot;cd <span class="variable">$dir</span> &amp;&amp;&quot;</span>,</span><br><span class="line">			<span class="string">&quot;javac <span class="variable">$fileName</span> &amp;&amp;&quot;</span>,</span><br><span class="line">			<span class="string">&quot;java <span class="variable">$fileNameWithoutExt</span>&quot;</span>,</span><br><span class="line">		&#125;,</span><br><span class="line">		c = &#123;</span><br><span class="line">			<span class="string">&quot;cd <span class="variable">$dir</span> &amp;&amp;&quot;</span>,</span><br><span class="line">			<span class="string">&quot;gcc <span class="variable">$fileName</span>&quot;</span>,</span><br><span class="line">			<span class="string">&quot;-o <span class="variable">$fileNameWithoutExt</span> &amp;&amp;&quot;</span>,</span><br><span class="line">			<span class="string">&quot;<span class="variable">$dir</span>/<span class="variable">$fileNameWithoutExt</span>&quot;</span>,</span><br><span class="line">		&#125;,</span><br><span class="line">		cpp = &#123;</span><br><span class="line">			<span class="string">&quot;cd <span class="variable">$dir</span> &amp;&amp;&quot;</span>,</span><br><span class="line">			<span class="string">&quot;g++ <span class="variable">$fileName</span>&quot;</span>,</span><br><span class="line">			<span class="string">&quot;-o <span class="variable">$fileNameWithoutExt</span> &amp;&amp;&quot;</span>,</span><br><span class="line">			<span class="string">&quot;<span class="variable">$dir</span>/<span class="variable">$fileNameWithoutExt</span>&quot;</span>,</span><br><span class="line">		&#125;,</span><br><span class="line">		python = <span class="string">&quot;python -u&quot;</span>,</span><br><span class="line">		sh = <span class="string">&quot;bash&quot;</span>,</span><br><span class="line">		rust = &#123;</span><br><span class="line">			<span class="string">&quot;cd <span class="variable">$dir</span> &amp;&amp;&quot;</span>,</span><br><span class="line">			<span class="string">&quot;rustc <span class="variable">$fileName</span> &amp;&amp;&quot;</span>,</span><br><span class="line">			<span class="string">&quot;<span class="variable">$dir</span>/<span class="variable">$fileNameWithoutExt</span>&quot;</span>,</span><br><span class="line">		&#125;,</span><br><span class="line">	&#125;,</span><br><span class="line">	project_path = <span class="string">&quot;&quot;</span>, -- No default path defined</span><br><span class="line">	project = &#123;&#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ä¹‹åinit.luaä¸­æ·»åŠ æ’ä»¶ï¼Œæœ€åæ·»åŠ å¿«æ·é”®ï¼Œä½¿ç”¨ç©ºæ ¼åŠ <code>r</code>å³å¯è¿è¡Œä»£ç </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- ä»£ç è¿è¡Œå™¨</span><br><span class="line">map(<span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;&lt;leader&gt;r&#x27;</span>, <span class="string">&#x27;:RunCode&lt;CR&gt;&#x27;</span>, &#123; noremap = <span class="literal">true</span>, silent = <span class="literal">false</span> &#125;)</span><br></pre></td></tr></table></figure>
<h3 id="å…¶ä»–é…ç½®"><a href="#å…¶ä»–é…ç½®" class="headerlink" title="å…¶ä»–é…ç½®"></a>å…¶ä»–é…ç½®</h3><h5 id="è‡ªåŠ¨è¡¥å…¨æ‹¬å·"><a href="#è‡ªåŠ¨è¡¥å…¨æ‹¬å·" class="headerlink" title="è‡ªåŠ¨è¡¥å…¨æ‹¬å·"></a>è‡ªåŠ¨è¡¥å…¨æ‹¬å·</h5><p>æ’ä»¶ä»“åº“ï¼š<a href="https://github.com/windwp/nvim-autopairs">windwp/nvim-autopairs: autopairs for neovim written by lua (github.com)</a></p>
<p>å¼•å…¥æ’ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">use(<span class="string">&quot;windwp/nvim-autopairs&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>åˆ›å»º<code>lua/plugin-config/nvim-autopairs.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- https://github.com/windwp/nvim-autopairs</span><br><span class="line"><span class="built_in">local</span> status, autopairs = pcall(require, <span class="string">&quot;nvim-autopairs&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> not status <span class="keyword">then</span></span><br><span class="line">  vim.notify(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ° nvim-autopairs&quot;</span>)</span><br><span class="line">  <span class="built_in">return</span></span><br><span class="line">end</span><br><span class="line">autopairs.setup(&#123;</span><br><span class="line">  check_ts = <span class="literal">true</span>,</span><br><span class="line">  ts_config = &#123;</span><br><span class="line">    lua = &#123; <span class="string">&quot;string&quot;</span> &#125;, -- it will not add a pair on that treesitter node</span><br><span class="line">    javascript = &#123; <span class="string">&quot;template_string&quot;</span> &#125;,</span><br><span class="line">    java = <span class="literal">false</span>, -- don<span class="string">&#x27;t check treesitter on java</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string">&#125;)</span></span><br><span class="line"><span class="string">-- If you want insert `(` after select function or method item</span></span><br><span class="line"><span class="string">local cmp_autopairs = require(&quot;nvim-autopairs.completion.cmp&quot;)</span></span><br><span class="line"><span class="string">local cmp = require(&quot;cmp&quot;)</span></span><br><span class="line"><span class="string">cmp.event:on(&quot;confirm_done&quot;, cmp_autopairs.on_confirm_done(&#123; map_char = &#123; tex = &quot;&quot; &#125; &#125;))</span></span><br></pre></td></tr></table></figure>
<p><code>init.lua</code></p>
<h5 id="å¿«é€Ÿæ³¨é‡Šæ’ä»¶"><a href="#å¿«é€Ÿæ³¨é‡Šæ’ä»¶" class="headerlink" title="å¿«é€Ÿæ³¨é‡Šæ’ä»¶"></a>å¿«é€Ÿæ³¨é‡Šæ’ä»¶</h5><p>æ’ä»¶ä»“åº“ï¼š<a href="https://github.com/numToStr/Comment.nvim">numToStr/Comment.nvim: // Smart and powerful comment plugin for neovim. Supports treesitter, dot repeat, left-right/up-down motions, hooks, and more (github.com)</a></p>
<p>æ·»åŠ æ’ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">use(<span class="string">&quot;numToStr/Comment.nvim&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>åˆ›å»º<code>lua/plugin-config/comment.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> status, comment = pcall(require, <span class="string">&quot;Comment&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> not status <span class="keyword">then</span></span><br><span class="line">  vim.notify(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ° Comment&quot;</span>)</span><br><span class="line">  <span class="built_in">return</span></span><br><span class="line">end</span><br><span class="line"></span><br><span class="line"><span class="built_in">local</span> default_opts = &#123;</span><br><span class="line">  ---Add a space b/w comment and the line</span><br><span class="line">  ---@<span class="built_in">type</span> boolean|fun():boolean</span><br><span class="line">  padding = <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">  ---Whether the cursor should stay at its position</span><br><span class="line">  ---NOTE: This only affects NORMAL mode mappings and doesn<span class="string">&#x27;t work with dot-repeat</span></span><br><span class="line"><span class="string">  ---@type boolean</span></span><br><span class="line"><span class="string">  sticky = true,</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  ---Lines to be ignored while comment/uncomment.</span></span><br><span class="line"><span class="string">  ---Could be a regex string or a function that returns a regex string.</span></span><br><span class="line"><span class="string">  ---Example: Use &#x27;</span>^$<span class="string">&#x27; to ignore empty lines</span></span><br><span class="line"><span class="string">  ---@type string|fun():string</span></span><br><span class="line"><span class="string">  ignore = nil,</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  ---LHS of toggle mappings in NORMAL + VISUAL mode</span></span><br><span class="line"><span class="string">  ---@type table</span></span><br><span class="line"><span class="string">  toggler = &#123;</span></span><br><span class="line"><span class="string">    ---Line-comment toggle keymap</span></span><br><span class="line"><span class="string">    line = &quot;gcc&quot;,</span></span><br><span class="line"><span class="string">    ---Block-comment toggle keymap</span></span><br><span class="line"><span class="string">    block = &quot;gbc&quot;,</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  ---LHS of operator-pending mappings in NORMAL + VISUAL mode</span></span><br><span class="line"><span class="string">  ---@type table</span></span><br><span class="line"><span class="string">  opleader = &#123;</span></span><br><span class="line"><span class="string">    ---Line-comment keymap</span></span><br><span class="line"><span class="string">    line = &quot;gc&quot;,</span></span><br><span class="line"><span class="string">    ---Block-comment keymap</span></span><br><span class="line"><span class="string">    block = &quot;gb&quot;,</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  ---LHS of extra mappings</span></span><br><span class="line"><span class="string">  ---@type table</span></span><br><span class="line"><span class="string">  extra = &#123;</span></span><br><span class="line"><span class="string">    ---Add comment on the line above</span></span><br><span class="line"><span class="string">    above = &quot;gcO&quot;,</span></span><br><span class="line"><span class="string">    ---Add comment on the line below</span></span><br><span class="line"><span class="string">    below = &quot;gco&quot;,</span></span><br><span class="line"><span class="string">    ---Add comment at the end of line</span></span><br><span class="line"><span class="string">    eol = &quot;gcA&quot;,</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  ---Create basic (operator-pending) and extended mappings for NORMAL + VISUAL mode</span></span><br><span class="line"><span class="string">  ---NOTE: If `mappings = false` then the plugin won&#x27;</span>t create any mappings</span><br><span class="line">  ---@<span class="built_in">type</span> boolean|table</span><br><span class="line">  mappings = &#123;</span><br><span class="line">    ---Operator-pending mapping</span><br><span class="line">    ---Includes `gcc`, `gbc`, `gc[count]&#123;motion&#125;` and `gb[count]&#123;motion&#125;`</span><br><span class="line">    ---NOTE: These mappings can be changed individually by `opleader` and `toggler` config</span><br><span class="line">    basic = <span class="literal">true</span>,</span><br><span class="line">    ---Extra mapping</span><br><span class="line">    ---Includes `gco`, `gcO`, `gcA`</span><br><span class="line">    extra = <span class="literal">false</span>,</span><br><span class="line">    ---Extended mapping</span><br><span class="line">    ---Includes `g&gt;`, `g&lt;`, `g&gt;[count]&#123;motion&#125;` and `g&lt;[count]&#123;motion&#125;`</span><br><span class="line">    extended = <span class="literal">false</span>,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  ---Pre-hook, called before commenting the line</span><br><span class="line">  ---@<span class="built_in">type</span> fun(ctx: Ctx):string</span><br><span class="line">  pre_hook = nil,</span><br><span class="line"></span><br><span class="line">  ---Post-hook, called after commenting is <span class="keyword">done</span></span><br><span class="line">  ---@<span class="built_in">type</span> fun(ctx: Ctx)</span><br><span class="line">  post_hook = nil,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-- å…³é—­äº†extraå¿«æ·é”®ï¼Œåªç”¨keybindingsé‡Œå®šä¹‰çš„åŸºç¡€å¿«æ·é”®</span><br><span class="line">comment.setup(vim.tbl_deep_extend(<span class="string">&quot;force&quot;</span>, default_opts, require(<span class="string">&quot;keybindings&quot;</span>).comment))</span><br></pre></td></tr></table></figure>
<p>å®šä¹‰å¿«æ·é”® <code>keybindings.lua</code> gcc å¿«æ·é”®ä½œä¸ºè¡Œæ³¨é‡Šï¼Œgbc å¿«æ·é”®ä½œä¸ºå—æ³¨é‡Š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- ä»£ç æ³¨é‡Šæ’ä»¶</span><br><span class="line">-- see ./lua/plugin-config/comment.lua</span><br><span class="line">pluginKeys.comment = &#123;</span><br><span class="line">  -- Normal æ¨¡å¼å¿«æ·é”®</span><br><span class="line">  toggler = &#123;</span><br><span class="line">    line = <span class="string">&quot;gcc&quot;</span>, -- è¡Œæ³¨é‡Š</span><br><span class="line">    block = <span class="string">&quot;gbc&quot;</span>, -- å—æ³¨é‡Š</span><br><span class="line">  &#125;,</span><br><span class="line">  -- Visual æ¨¡å¼</span><br><span class="line">  opleader = &#123;</span><br><span class="line">    line = <span class="string">&quot;gc&quot;</span>,</span><br><span class="line">    bock = <span class="string">&quot;gb&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>init.lua</code>ä¸­å¼•å…¥</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">require(<span class="string">&quot;plugin-config.comment&quot;</span>)</span><br></pre></td></tr></table></figure>
<h5 id="Surround-é…ç½®"><a href="#Surround-é…ç½®" class="headerlink" title="Surround é…ç½®"></a>Surround é…ç½®</h5><p>å¼•å…¥æ’ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- surround</span><br><span class="line">use(<span class="string">&quot;ur4ltz/surround.nvim&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><code>lua/plugin-config/surround.lua</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">local</span> status, surround = pcall(require, <span class="string">&quot;surround&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> not status <span class="keyword">then</span></span><br><span class="line">  vim.notify(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ° surround&quot;</span>)</span><br><span class="line">  <span class="built_in">return</span></span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">surround.setup(&#123;</span><br><span class="line">  mappings_style = <span class="string">&quot;surround&quot;</span>,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><code>init.lua</code></p>
<p>surround å®˜æ–¹å¿«æ·é”®å¦‚ä¸‹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Normal Mode - Sandwich Mode</span><br><span class="line">Provides key mapping to add surrounding characters.( visually select <span class="keyword">then</span> press s&lt;char&gt; or press sa&#123;motion&#125;&#123;char&#125;)</span><br><span class="line">Provides key mapping to replace surrounding characters.( sr&lt;from&gt;&lt;to&gt; )</span><br><span class="line">Provides key mapping to delete surrounding characters.( sd&lt;char&gt; )</span><br><span class="line">ss repeats last surround <span class="built_in">command</span>.</span><br><span class="line">Normal Mode - Surround Mode</span><br><span class="line">Provides key mapping to add surrounding characters.( visually select <span class="keyword">then</span> press s&lt;char&gt; or press ys&#123;motion&#125;&#123;char&#125;)</span><br><span class="line">Provides key mapping to replace surrounding characters.( cs&lt;from&gt;&lt;to&gt; )</span><br><span class="line">Provides key mapping to delete surrounding characters.( ds&lt;char&gt; )</span><br><span class="line">Insert Mode</span><br><span class="line">&lt;c-s&gt;&lt;char&gt; will insert both pairs <span class="keyword">in</span> insert mode.</span><br><span class="line">&lt;c-s&gt;&lt;char&gt;&lt;space&gt; will insert both pairs <span class="keyword">in</span> insert mode with surrounding whitespace.</span><br><span class="line">&lt;c-s&gt;&lt;char&gt;&lt;c-s&gt; will insert both pairs on newlines insert mode.</span><br></pre></td></tr></table></figure>
<p>å¸¸ç”¨å¿«æ·é”®</p>
<ul>
<li><code>ds&lt;char&gt;</code></li>
<li><code>cs&lt;from&gt;&lt;to&gt;</code></li>
<li><code>ys&#123;motion&#125;&#123;char&#125;</code></li>
</ul>
<h5 id="å…¶ä»–é—®é¢˜"><a href="#å…¶ä»–é—®é¢˜" class="headerlink" title="å…¶ä»–é—®é¢˜"></a>å…¶ä»–é—®é¢˜</h5><p>æˆ‘åœ¨æ¨é€ä»“åº“æ—¶é¢‘ç¹é‡åˆ°<code>GnuTLS recv error (-110)</code></p>
<p>è§£å†³é“¾æ¥ï¼š<a href="https://stackoverflow.com/questions/52529639/gnutls-recv-error-110-the-tls-connection-was-non-properly-terminated#">git - GnuTLS recv error (-110)</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">set</span> -e</span><br><span class="line">sudo apt-get install build-essential fakeroot dpkg-dev -y</span><br><span class="line">sudo apt-get build-dep git -y</span><br><span class="line">sudo apt-get install libcurl4-openssl-dev -y</span><br><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line"><span class="built_in">mkdir</span> source-git</span><br><span class="line"><span class="built_in">cd</span> source-git/</span><br><span class="line">apt-get <span class="built_in">source</span> git</span><br><span class="line"><span class="built_in">cd</span> git-2.*.*/</span><br><span class="line">sed -i -- <span class="string">&#x27;s/libcurl4-gnutls-dev/libcurl4-openssl-dev/&#x27;</span> ./debian/control</span><br><span class="line">sed -i -- <span class="string">&#x27;/TEST\s*=\s*test/d&#x27;</span> ./debian/rules</span><br><span class="line">dpkg-buildpackage -rfakeroot -b -uc -us</span><br><span class="line">sudo dpkg -i ../git_*ubuntu*.deb</span><br></pre></td></tr></table></figure>
<p>ç›´æ¥è¿è¡Œè¿™ä¸ªè„šæœ¬å³å¯</p>
<p>ä¹‹åæ¨é€é‡åˆ°<code>remote: Support for password authentication was removed on August 13, 2021</code>é—®é¢˜ï¼Œè™½ç„¶æˆ‘ä¸å¤ªæ¸…æ¥šæˆ‘é…äº†SSH keyï¼Œä¸ºä»€ä¹ˆè¿˜æ˜¯èµ°çš„å¯†ç éªŒè¯ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯æŒ‰ç…§ä»–çš„æç¤ºæ¥åšè·å–<code>token</code>ï¼Œç›´æ¥githubé¦–é¡µä¸­Setting-&gt;Developer settings-&gt;Personal access tokens ç”Ÿæˆtoken</p>
<p>æ‰§è¡Œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git remote set-url origin https://&lt;your_token&gt;@github.com/&lt;USERNAME&gt;/&lt;REPO&gt;.git</span><br></pre></td></tr></table></figure>
<p>æœ€åå³å¯å…å¯†æ¨é€</p>
<h3 id="å¤‡å¿˜è®°å½•"><a href="#å¤‡å¿˜è®°å½•" class="headerlink" title="å¤‡å¿˜è®°å½•"></a>å¤‡å¿˜è®°å½•</h3><p>å­¦ä¹ vimå¿«æ·é”®ç½‘ç«™ï¼š<a href="https://vim.rtorr.com/lang/zh_cn">Vim Cheat Sheet (rtorr.com)</a></p>
<p>ä½¿ç”¨<code>:h clipboard</code>æŸ¥çœ‹å¤åˆ¶ç²˜è´´å‘½ä»¤</p>
<p>æ–‡æ¡£æ¨èä½¿ç”¨<code>set clipboard=unnamedplus</code>ï¼Œæˆ–æ˜¯æ‰§è¡Œ<code>set clipboard^=unnamed,unnamedplus</code>å°±å¯ä»¥è¿é€švimå‰ªåˆ‡æ¿å’Œç³»ç»Ÿå‰ªåˆ‡æ¿ï¼Œä½†æ˜¯è¿™ä¸ªå‘½ä»¤åªæ˜¯æš‚æ—¶æ€§çš„ï¼Œåªèƒ½å½“å‰é¡µé¢ç”Ÿæ•ˆï¼Œä¸ºäº†æ°¸ä¹…ç”Ÿæ•ˆï¼Œå¯ä»¥åœ¨<code>basic.lua</code>ä¸­æ·»åŠ </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-- å¤åˆ¶ç²˜è´´è”é€šç³»ç»Ÿç²˜è´´æ¿</span><br><span class="line">vim.o.clipboard = <span class="string">&quot;unnamedplus&quot;</span></span><br></pre></td></tr></table></figure>
<p>å…¨é€‰å¤åˆ¶æ–‡ä»¶<code>:%y</code>æˆ–æ˜¯<code>ggyG</code></p>
<p>åªæ˜¯åˆ é™¤è€Œä¸å°†åˆ é™¤çš„éƒ¨åˆ†å¤åˆ¶åˆ°å‰ªåˆ‡æ¿ä¸­<code>&quot;_dd</code>ï¼ˆæœ¬è´¨ä¸Šæ˜¯å°†å‰ªåˆ‡çš„å†…å®¹æ”¾åˆ°_å¯„å­˜å™¨ä¸­ï¼Œä»¥ä¾¿äºå’Œ+å¯„å­˜å™¨åŒºåˆ†ï¼‰</p>
<h3 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h3><p>å¯¹æˆ‘è‡ªå·±è€Œè¨€ï¼Œé…ç½®çš„è¿™äº›åŠŸèƒ½è™½ç„¶å°‘ï¼Œä½†æ˜¯æš‚æ—¶å¤Ÿç”¨ï¼Œå¦‚æœè¿½æ±‚æ›´å¤šçš„åŠŸèƒ½ï¼Œå¯ä»¥ç›´æ¥ç”¨å°å†Œä½œè€…çš„ä»“åº“ï¼Œæˆ–æ˜¯å…¶ä»–ä¼˜ç§€ä»“åº“</p>
<p>å…¶å®æˆ‘è§‰å¾—å…¶å®ä½œä¸ºä¸ªäººä½¿ç”¨æ¥è¯´ï¼Œæ²¡æœ‰ç‰¹æ®Šéœ€æ±‚çš„æƒ…å†µä¸‹ä¸æ˜¯å¾ˆæ¨èè‡ªå·±é…ç½®ï¼Œåªéœ€è¦çœ‹æ‡‚æœ¬ç¯‡åšå®¢ï¼Œç„¶åå¯ä»¥åšåˆ°æ›´æ”¹åˆ«äººå†™å¥½çš„é…ç½®å³å¯</p>
<p>è¿˜æœ‰å°±æ˜¯åˆ‡å¿Œç›²ç›®å¤åˆ¶ç²˜è´´ï¼Œä¸€å®šè¦çœ‹å®˜æ–¹æ–‡æ¡£</p>
<p>æœ¬ç¯‡åšå®¢ç¤ºä¾‹é…ç½®ä»“åº“ï¼š<a href="https://github.com/ReturnTmp/rettmp-nvim">ReturnTmp/rettmp-nvim</a></p>
<p>æ˜é‡‘å°å†Œä½œè€…ä»“åº“ï¼š<a href="https://github.com/nshen/learn-neovim-lua">https://github.com/nshen/learn-neovim-lua</a></p>
<blockquote>
<p>æ³¨æ„ï¼šv2åˆ†æ”¯æ˜¯neovim 8.0+é€‚ç”¨</p>
</blockquote>
<p>æˆ–æ˜¯ç›´æ¥ä½¿ç”¨ä½œè€…çš„æ–°ä»“åº“ï¼š<a href="https://github.com/nshen/InsisVim">nshen/InsisVim: ğŸ—ƒ An out-of-the-box Neovim IDE solution that setup development environment in an incredibly simple way. (github.com)</a></p>
<blockquote>
<p>é™¤äº†å°å†Œä½œè€…çš„é…ç½®ä»“åº“ï¼Œè¿™é‡Œå†æ¨èä¸€ä¸ªä¼˜ç§€Neovimé…ç½®ä»“åº“ï¼š<a href="https://github.com/ayamir/nvimdots">ayamir/nvimdots: A well configured and structured Neovim. (github.com)</a></p>
</blockquote>
<p>è‡³æ­¤Neovimé…ç½®å­¦ä¹ å°±ç»“æŸäº†:smile:</p>
]]></content>
      <tags>
        <tag>vim</tag>
      </tags>
  </entry>
  <entry>
    <title>é…ç½®å·¥å…·ç¯‡ï¼ˆtmux+ranger+lazygitï¼‰</title>
    <url>/posts/d1678e92.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote>
<p>tmux å¯ä»¥ç®¡ç†å¤šä¸ªä¼šè¯å’Œä»»åŠ¡ï¼Œåœ¨ä¸€ä¸ªç»ˆç«¯çª—å£ä¸­åŒæ—¶è¿è¡Œå¤šä¸ªå‘½ä»¤è¡Œç¨‹åº</p>
<p>ranger å¯ä»¥å¸®åŠ©ä½ åœ¨å‘½ä»¤è¡Œä¸‹è¿›è¡Œæ–‡ä»¶ç®¡ç†å’Œæ“ä½œ</p>
<p>lazygit æä¾›äº†ä¸€ä¸ªç®€åŒ–çš„ç•Œé¢æ¥ç®¡ç† Git ä»“åº“ï¼Œå¯ä»¥æé«˜ä½ åœ¨å‘½ä»¤è¡Œç¯å¢ƒä¸‹çš„å·¥ä½œæ•ˆç‡å’Œæ“ä½œä¾¿æ·æ€§ã€‚</p>
<p>æœ¬æ–‡ä¸»è¦å°†è¯¦ç»†è®²è§£å¦‚ä½•é…ç½®ï¼ˆtmux+ranger+lazygitï¼‰ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©å¤§å®¶</p>
</blockquote>
<span id="more"></span>
<h1 id="Tmux"><a href="#Tmux" class="headerlink" title="Tmux"></a>Tmux</h1><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>å®˜ç½‘è§£é‡Šï¼štmuxæ˜¯ä¸€ä¸ªç»ˆç«¯å¤šè·¯å¤ç”¨å™¨ï¼šå®ƒå…è®¸åœ¨å•ä¸ªå±å¹•ä¸Šåˆ›å»ºã€è®¿é—®å’Œæ§åˆ¶å¤šä¸ªç»ˆç«¯ã€‚tmuxå¯ä»¥ä»å±å¹•ä¸Šåˆ†ç¦»å‡ºæ¥ï¼Œç»§ç»­åœ¨åå°è¿è¡Œï¼Œç„¶åå†é‡æ–°è¿æ¥ã€‚</p>
<p>æ­¤ç‰ˆæœ¬åœ¨Open BSDã€Free BSDã€Net BSDã€Linuxã€mac OSå’ŒSolarisä¸Šè¿è¡Œã€‚</p>
<p>å®˜ç½‘åœ°å€ï¼š<a href="https://github.com/tmux/tmux">tmux/tmux: tmux source code (github.com)</a></p>
<h2 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h2><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Ubuntu æˆ– Debian</span></span><br><span class="line">$ sudo apt-get install tmux</span><br><span class="line"></span><br><span class="line"><span class="comment"># CentOS æˆ– Fedora</span></span><br><span class="line">$ sudo yum install tmux</span><br><span class="line"></span><br><span class="line"><span class="comment"># Mac</span></span><br><span class="line">$ brew install tmux</span><br></pre></td></tr></table></figure>
<h3 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tmux</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢å‘½ä»¤ä¼šå¯åŠ¨ Tmux çª—å£ï¼Œåº•éƒ¨æœ‰ä¸€ä¸ªçŠ¶æ€æ ã€‚çŠ¶æ€æ çš„å·¦ä¾§æ˜¯çª—å£ä¿¡æ¯ï¼ˆç¼–å·å’Œåç§°ï¼‰ï¼Œå³ä¾§æ˜¯ç³»ç»Ÿä¿¡æ¯ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/Returntmp/blog-image@main/blog/image-20230523160429119.png" alt="image-20230523160429119"></p>
<p>æŒ‰ä¸‹<code>Ctrl+d</code>æˆ–è€…æ˜¾å¼è¾“å…¥<code>exit</code>å‘½ä»¤ï¼Œå°±å¯ä»¥é€€å‡º Tmux çª—å£ã€‚</p>
<h3 id="å‰ç¼€é”®"><a href="#å‰ç¼€é”®" class="headerlink" title="å‰ç¼€é”®"></a>å‰ç¼€é”®</h3><p>Tmux çª—å£æœ‰å¤§é‡çš„å¿«æ·é”®ã€‚æ‰€æœ‰å¿«æ·é”®éƒ½è¦é€šè¿‡å‰ç¼€é”®å”¤èµ·ã€‚é»˜è®¤çš„å‰ç¼€é”®æ˜¯<code>Ctrl+b</code>ï¼Œå³å…ˆæŒ‰ä¸‹<code>Ctrl+b</code>ï¼Œå¿«æ·é”®æ‰ä¼šç”Ÿæ•ˆã€‚</p>
<p>ä¸¾ä¾‹æ¥è¯´ï¼Œå¸®åŠ©å‘½ä»¤çš„å¿«æ·é”®æ˜¯<code>Ctrl+b ?</code>ã€‚å®ƒçš„ç”¨æ³•æ˜¯ï¼Œåœ¨ Tmux çª—å£ä¸­ï¼Œå…ˆæŒ‰ä¸‹<code>Ctrl+b</code>ï¼Œå†æŒ‰ä¸‹<code>?</code>ï¼Œå°±ä¼šæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ã€‚</p>
<p>ç„¶åï¼ŒæŒ‰ä¸‹ ESC é”®æˆ–<code>q</code>é”®ï¼Œå°±å¯ä»¥é€€å‡ºå¸®åŠ©ã€‚</p>
<h2 id="ä¼šè¯ç®¡ç†"><a href="#ä¼šè¯ç®¡ç†" class="headerlink" title="ä¼šè¯ç®¡ç†"></a>ä¼šè¯ç®¡ç†</h2><h3 id="æ–°å»ºä¼šè¯"><a href="#æ–°å»ºä¼šè¯" class="headerlink" title="æ–°å»ºä¼šè¯"></a>æ–°å»ºä¼šè¯</h3><p>ç¬¬ä¸€ä¸ªå¯åŠ¨çš„ Tmux çª—å£ï¼Œç¼–å·æ˜¯<code>0</code>ï¼Œç¬¬äºŒä¸ªçª—å£çš„ç¼–å·æ˜¯<code>1</code>ï¼Œä»¥æ­¤ç±»æ¨ã€‚è¿™äº›çª—å£å¯¹åº”çš„ä¼šè¯ï¼Œå°±æ˜¯ 0 å·ä¼šè¯ã€1 å·ä¼šè¯ã€‚</p>
<p>ä½¿ç”¨ç¼–å·åŒºåˆ†ä¼šè¯ï¼Œä¸å¤ªç›´è§‚ï¼Œæ›´å¥½çš„æ–¹æ³•æ˜¯ä¸ºä¼šè¯èµ·åã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tmux new -s &lt;session-name&gt;</span><br></pre></td></tr></table></figure>
<h3 id="åˆ†ç¦»ä¼šè¯"><a href="#åˆ†ç¦»ä¼šè¯" class="headerlink" title="åˆ†ç¦»ä¼šè¯"></a>åˆ†ç¦»ä¼šè¯</h3><p> Tmux çª—å£ä¸­ï¼ŒæŒ‰ä¸‹<code>Ctrl+b d</code>æˆ–è€…è¾“å…¥<code>tmux detach</code>å‘½ä»¤ï¼Œå°±ä¼šå°†å½“å‰ä¼šè¯ä¸çª—å£åˆ†ç¦»ã€‚</p>
<blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ tmux detach</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢å‘½ä»¤æ‰§è¡Œåï¼Œå°±ä¼šé€€å‡ºå½“å‰ Tmux çª—å£ï¼Œä½†æ˜¯ä¼šè¯å’Œé‡Œé¢çš„è¿›ç¨‹ä»ç„¶åœ¨åå°è¿è¡Œã€‚</p>
<p><code>tmux ls</code>å‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰æ‰€æœ‰çš„ Tmux ä¼šè¯ã€‚</p>
<blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ tmux <span class="built_in">ls</span></span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">$ tmux list-session</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="æ¥å…¥ä¼šè¯"><a href="#æ¥å…¥ä¼šè¯" class="headerlink" title="æ¥å…¥ä¼šè¯"></a>æ¥å…¥ä¼šè¯</h3><p><code>tmux attach</code>å‘½ä»¤ç”¨äºé‡æ–°æ¥å…¥æŸä¸ªå·²å­˜åœ¨çš„ä¼šè¯ã€‚</p>
<blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ä¼šè¯ç¼–å·</span></span><br><span class="line">$ tmux attach -t 0</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ä¼šè¯åç§°</span></span><br><span class="line">$ tmux attach -t &lt;session-name&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="æ€æ­»ä¼šè¯"><a href="#æ€æ­»ä¼šè¯" class="headerlink" title="æ€æ­»ä¼šè¯"></a>æ€æ­»ä¼šè¯</h3><p><code>tmux kill-session</code>å‘½ä»¤ç”¨äºæ€æ­»æŸä¸ªä¼šè¯ã€‚</p>
<blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ä¼šè¯ç¼–å·</span></span><br><span class="line">$ tmux kill-session -t 0</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ä¼šè¯åç§°</span></span><br><span class="line">$ tmux kill-session -t &lt;session-name&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="åˆ‡æ¢ä¼šè¯"><a href="#åˆ‡æ¢ä¼šè¯" class="headerlink" title="åˆ‡æ¢ä¼šè¯"></a>åˆ‡æ¢ä¼šè¯</h3><p><code>tmux switch</code>å‘½ä»¤ç”¨äºåˆ‡æ¢ä¼šè¯ã€‚</p>
<blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ä¼šè¯ç¼–å·</span></span><br><span class="line">$ tmux switch -t 0</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ä¼šè¯åç§°</span></span><br><span class="line">$ tmux switch -t &lt;session-name&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="é‡å‘½åä¼šè¯"><a href="#é‡å‘½åä¼šè¯" class="headerlink" title="é‡å‘½åä¼šè¯"></a>é‡å‘½åä¼šè¯</h3><p><code>tmux rename-session</code>å‘½ä»¤ç”¨äºé‡å‘½åä¼šè¯ã€‚</p>
<blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ tmux rename-session -t 0 &lt;new-name&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢å‘½ä»¤å°†0å·ä¼šè¯é‡å‘½åã€‚</p>
<h3 id="ä¼šè¯å¿«æ·é”®"><a href="#ä¼šè¯å¿«æ·é”®" class="headerlink" title="ä¼šè¯å¿«æ·é”®"></a>ä¼šè¯å¿«æ·é”®</h3><p>ä¸‹é¢æ˜¯ä¸€äº›ä¼šè¯ç›¸å…³çš„å¿«æ·é”®ã€‚</p>
<blockquote>
<ul>
<li><code>Ctrl+b d</code>ï¼šåˆ†ç¦»å½“å‰ä¼šè¯ã€‚</li>
<li><code>Ctrl+b s</code>ï¼šåˆ—å‡ºæ‰€æœ‰ä¼šè¯ã€‚</li>
<li><code>Ctrl+b $</code>ï¼šé‡å‘½åå½“å‰ä¼šè¯ã€‚</li>
</ul>
</blockquote>
<h2 id="æœ€ç®€æµç¨‹"><a href="#æœ€ç®€æµç¨‹" class="headerlink" title="æœ€ç®€æµç¨‹"></a>æœ€ç®€æµç¨‹</h2><ol>
<li>æ–°å»ºä¼šè¯<code>tmux new -s my_session</code>ã€‚</li>
<li>åœ¨ Tmux çª—å£è¿è¡Œæ‰€éœ€çš„ç¨‹åºã€‚</li>
<li>æŒ‰ä¸‹å¿«æ·é”®<code>Ctrl+b d</code>å°†ä¼šè¯åˆ†ç¦»ã€‚</li>
<li>ä¸‹æ¬¡ä½¿ç”¨æ—¶ï¼Œé‡æ–°è¿æ¥åˆ°ä¼šè¯<code>tmux attach-session -t my_session</code>ã€‚</li>
</ol>
<h2 id="çª—æ ¼æ“ä½œ"><a href="#çª—æ ¼æ“ä½œ" class="headerlink" title="çª—æ ¼æ“ä½œ"></a>çª—æ ¼æ“ä½œ</h2><h3 id="åˆ’åˆ†çª—æ ¼"><a href="#åˆ’åˆ†çª—æ ¼" class="headerlink" title="åˆ’åˆ†çª—æ ¼"></a>åˆ’åˆ†çª—æ ¼</h3><p><code>tmux split-window</code>å‘½ä»¤ç”¨æ¥åˆ’åˆ†çª—æ ¼ã€‚</p>
<blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ’åˆ†ä¸Šä¸‹ä¸¤ä¸ªçª—æ ¼</span></span><br><span class="line">$ tmux split-window</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ’åˆ†å·¦å³ä¸¤ä¸ªçª—æ ¼</span></span><br><span class="line">$ tmux split-window -h</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="ç§»åŠ¨å…‰æ ‡"><a href="#ç§»åŠ¨å…‰æ ‡" class="headerlink" title="ç§»åŠ¨å…‰æ ‡"></a>ç§»åŠ¨å…‰æ ‡</h3><p><code>tmux select-pane</code>å‘½ä»¤ç”¨æ¥ç§»åŠ¨å…‰æ ‡ä½ç½®ã€‚</p>
<blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å…‰æ ‡åˆ‡æ¢åˆ°ä¸Šæ–¹çª—æ ¼</span></span><br><span class="line">$ tmux select-pane -U</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…‰æ ‡åˆ‡æ¢åˆ°ä¸‹æ–¹çª—æ ¼</span></span><br><span class="line">$ tmux select-pane -D</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…‰æ ‡åˆ‡æ¢åˆ°å·¦è¾¹çª—æ ¼</span></span><br><span class="line">$ tmux select-pane -L</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…‰æ ‡åˆ‡æ¢åˆ°å³è¾¹çª—æ ¼</span></span><br><span class="line">$ tmux select-pane -R</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="äº¤æ¢çª—æ ¼ä½ç½®"><a href="#äº¤æ¢çª—æ ¼ä½ç½®" class="headerlink" title="äº¤æ¢çª—æ ¼ä½ç½®"></a>äº¤æ¢çª—æ ¼ä½ç½®</h3><p><code>tmux swap-pane</code>å‘½ä»¤ç”¨æ¥äº¤æ¢çª—æ ¼ä½ç½®ã€‚</p>
<blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å½“å‰çª—æ ¼ä¸Šç§»</span></span><br><span class="line">$ tmux swap-pane -U</span><br><span class="line"></span><br><span class="line"><span class="comment"># å½“å‰çª—æ ¼ä¸‹ç§»</span></span><br><span class="line">$ tmux swap-pane -D</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="çª—æ ¼å¿«æ·é”®"><a href="#çª—æ ¼å¿«æ·é”®" class="headerlink" title="çª—æ ¼å¿«æ·é”®"></a>çª—æ ¼å¿«æ·é”®</h3><p>ä¸‹é¢æ˜¯ä¸€äº›çª—æ ¼æ“ä½œçš„å¿«æ·é”®ã€‚</p>
<blockquote>
<ul>
<li><code>Ctrl+b %</code>ï¼šåˆ’åˆ†å·¦å³ä¸¤ä¸ªçª—æ ¼ã€‚</li>
<li><code>Ctrl+b &quot;</code>ï¼šåˆ’åˆ†ä¸Šä¸‹ä¸¤ä¸ªçª—æ ¼ã€‚</li>
<li><code>Ctrl+b &lt;arrow key&gt;</code>ï¼šå…‰æ ‡åˆ‡æ¢åˆ°å…¶ä»–çª—æ ¼ã€‚<code>&lt;arrow key&gt;</code>æ˜¯æŒ‡å‘è¦åˆ‡æ¢åˆ°çš„çª—æ ¼çš„æ–¹å‘é”®ï¼Œæ¯”å¦‚åˆ‡æ¢åˆ°ä¸‹æ–¹çª—æ ¼ï¼Œå°±æŒ‰æ–¹å‘é”®<code>â†“</code>ã€‚</li>
<li><code>Ctrl+b ;</code>ï¼šå…‰æ ‡åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªçª—æ ¼ã€‚</li>
<li><code>Ctrl+b o</code>ï¼šå…‰æ ‡åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªçª—æ ¼ã€‚</li>
<li><code>Ctrl+b &#123;</code>ï¼šå½“å‰çª—æ ¼ä¸ä¸Šä¸€ä¸ªçª—æ ¼äº¤æ¢ä½ç½®ã€‚</li>
<li><code>Ctrl+b &#125;</code>ï¼šå½“å‰çª—æ ¼ä¸ä¸‹ä¸€ä¸ªçª—æ ¼äº¤æ¢ä½ç½®ã€‚</li>
<li><code>Ctrl+b Ctrl+o</code>ï¼šæ‰€æœ‰çª—æ ¼å‘å‰ç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œç¬¬ä¸€ä¸ªçª—æ ¼å˜æˆæœ€åä¸€ä¸ªçª—æ ¼ã€‚</li>
<li><code>Ctrl+b Alt+o</code>ï¼šæ‰€æœ‰çª—æ ¼å‘åç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œæœ€åä¸€ä¸ªçª—æ ¼å˜æˆç¬¬ä¸€ä¸ªçª—æ ¼ã€‚</li>
<li><code>Ctrl+b x</code>ï¼šå…³é—­å½“å‰çª—æ ¼ã€‚</li>
<li><code>Ctrl+b !</code>ï¼šå°†å½“å‰çª—æ ¼æ‹†åˆ†ä¸ºä¸€ä¸ªç‹¬ç«‹çª—å£ã€‚</li>
<li><code>Ctrl+b z</code>ï¼šå½“å‰çª—æ ¼å…¨å±æ˜¾ç¤ºï¼Œå†ä½¿ç”¨ä¸€æ¬¡ä¼šå˜å›åŸæ¥å¤§å°ã€‚</li>
<li><code>Ctrl+b Ctrl+&lt;arrow key&gt;</code>ï¼šæŒ‰ç®­å¤´æ–¹å‘è°ƒæ•´çª—æ ¼å¤§å°ã€‚</li>
<li><code>Ctrl+b q</code>ï¼šæ˜¾ç¤ºçª—æ ¼ç¼–å·ã€‚</li>
</ul>
</blockquote>
<h2 id="çª—å£ç®¡ç†"><a href="#çª—å£ç®¡ç†" class="headerlink" title="çª—å£ç®¡ç†"></a>çª—å£ç®¡ç†</h2><p>é™¤äº†å°†ä¸€ä¸ªçª—å£åˆ’åˆ†æˆå¤šä¸ªçª—æ ¼ï¼ŒTmux ä¹Ÿå…è®¸æ–°å»ºå¤šä¸ªçª—å£ã€‚</p>
<h3 id="æ–°å»ºçª—å£"><a href="#æ–°å»ºçª—å£" class="headerlink" title="æ–°å»ºçª—å£"></a>æ–°å»ºçª—å£</h3><p><code>tmux new-window</code>å‘½ä»¤ç”¨æ¥åˆ›å»ºæ–°çª—å£ã€‚</p>
<blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ tmux new-window</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–°å»ºä¸€ä¸ªæŒ‡å®šåç§°çš„çª—å£</span></span><br><span class="line">$ tmux new-window -n &lt;window-name&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="åˆ‡æ¢çª—å£"><a href="#åˆ‡æ¢çª—å£" class="headerlink" title="åˆ‡æ¢çª—å£"></a>åˆ‡æ¢çª—å£</h3><p><code>tmux select-window</code>å‘½ä»¤ç”¨æ¥åˆ‡æ¢çª—å£ã€‚</p>
<blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ‡æ¢åˆ°æŒ‡å®šç¼–å·çš„çª—å£</span></span><br><span class="line">$ tmux select-window -t &lt;window-number&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡æ¢åˆ°æŒ‡å®šåç§°çš„çª—å£</span></span><br><span class="line">$ tmux select-window -t &lt;window-name&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="é‡å‘½åçª—å£"><a href="#é‡å‘½åçª—å£" class="headerlink" title="é‡å‘½åçª—å£"></a>é‡å‘½åçª—å£</h3><p><code>tmux rename-window</code>å‘½ä»¤ç”¨äºä¸ºå½“å‰çª—å£èµ·åï¼ˆæˆ–é‡å‘½åï¼‰ã€‚</p>
<blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ tmux rename-window &lt;new-name&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="çª—å£å¿«æ·é”®"><a href="#çª—å£å¿«æ·é”®" class="headerlink" title="çª—å£å¿«æ·é”®"></a>çª—å£å¿«æ·é”®</h3><p>ä¸‹é¢æ˜¯ä¸€äº›çª—å£æ“ä½œçš„å¿«æ·é”®ã€‚</p>
<blockquote>
<ul>
<li><code>Ctrl+b c</code>ï¼šåˆ›å»ºä¸€ä¸ªæ–°çª—å£ï¼ŒçŠ¶æ€æ ä¼šæ˜¾ç¤ºå¤šä¸ªçª—å£çš„ä¿¡æ¯ã€‚</li>
<li><code>Ctrl+b p</code>ï¼šåˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªçª—å£ï¼ˆæŒ‰ç…§çŠ¶æ€æ ä¸Šçš„é¡ºåºï¼‰ã€‚</li>
<li><code>Ctrl+b n</code>ï¼šåˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªçª—å£ã€‚</li>
<li><code>Ctrl+b &lt;number&gt;</code>ï¼šåˆ‡æ¢åˆ°æŒ‡å®šç¼–å·çš„çª—å£ï¼Œå…¶ä¸­çš„<code>&lt;number&gt;</code>æ˜¯çŠ¶æ€æ ä¸Šçš„çª—å£ç¼–å·ã€‚</li>
<li><code>Ctrl+b w</code>ï¼šä»åˆ—è¡¨ä¸­é€‰æ‹©çª—å£ã€‚</li>
<li><code>Ctrl+b ,</code>ï¼šçª—å£é‡å‘½åã€‚</li>
</ul>
</blockquote>
<h2 id="å…¶ä»–å‘½ä»¤"><a href="#å…¶ä»–å‘½ä»¤" class="headerlink" title="å…¶ä»–å‘½ä»¤"></a>å…¶ä»–å‘½ä»¤</h2><p>ä¸‹é¢æ˜¯ä¸€äº›å…¶ä»–å‘½ä»¤ã€‚</p>
<blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ—å‡ºæ‰€æœ‰å¿«æ·é”®ï¼ŒåŠå…¶å¯¹åº”çš„ Tmux å‘½ä»¤</span></span><br><span class="line">$ tmux list-keys</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ—å‡ºæ‰€æœ‰ Tmux å‘½ä»¤åŠå…¶å‚æ•°</span></span><br><span class="line">$ tmux list-commands</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ—å‡ºå½“å‰æ‰€æœ‰ Tmux ä¼šè¯çš„ä¿¡æ¯</span></span><br><span class="line">$ tmux info</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ–°åŠ è½½å½“å‰çš„ Tmux é…ç½®</span></span><br><span class="line">$ tmux source-file ~/.tmux.conf</span><br></pre></td></tr></table></figure>
</blockquote>
<h1 id="Ranger"><a href="#Ranger" class="headerlink" title="Ranger"></a>Ranger</h1><h2 id="ç®€ä»‹-1"><a href="#ç®€ä»‹-1" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>å®˜æ–¹è§£é‡Šï¼šrangeræ˜¯ä¸€ä¸ªå¸¦æœ‰VIå¯†é’¥ç»‘å®šçš„æ§åˆ¶å°æ–‡ä»¶ç®¡ç†å™¨ã€‚å®ƒæä¾›äº†ä¸€ä¸ªç®€æ´ç¾è§‚çš„cursesç•Œé¢ï¼Œå¹¶æä¾›äº†ç›®å½•å±‚æ¬¡ç»“æ„è§†å›¾ã€‚å®ƒé…å¤‡äº†rifleï¼Œè¿™æ˜¯ä¸€ç§æ–‡ä»¶å¯åŠ¨å™¨ï¼Œèƒ½å¤Ÿè‡ªåŠ¨æ‰¾å‡ºè¦ç”¨äºä½•ç§æ–‡ä»¶ç±»å‹çš„ç¨‹åºã€‚</p>
<p>å®˜æˆ¿é“¾æ¥ï¼š<a href="https://github.com/ranger/ranger">ranger/ranger: A VIM-inspired filemanager for the console (github.com)</a></p>
<h2 id="å®‰è£…-1"><a href="#å®‰è£…-1" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>ubuntu å®‰è£…å‘½ä»¤å¦‚ä¸‹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt install ranger</span><br></pre></td></tr></table></figure>
<p>æœ€ç»ˆåœ¨ç»ˆç«¯ä¸‹è¾“å…¥rangerå³å¯æ‰“å¼€ç¨‹åºäº†</p>
<p><img src="https://cdn.jsdelivr.net/gh/Returntmp/blog-image@main/blog/image-20230523164316992.png" alt="image-20230523164316992"></p>
<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>ä½¿ç”¨<code>h</code>,<code>j</code>,<code>k</code>,<code>l</code>æ¥è¿›è¡Œå…‰æ ‡çš„ç§»åŠ¨,æ¥ç©¿è¶Šåœ¨ä¸åŒçš„æ–‡ä»¶å¤¹ä¸­</p>
<p>ä½¿ç”¨<code>q</code>è¿›è¡Œé€€å‡ºç¨‹åº,ä½¿ç”¨<code>S</code>æ¥è¿›è¡Œå½“å‰å…‰æ ‡æ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸­(è¿›å…¥æ–‡ä»¶å¤¹åç»ˆç«¯ä¸‹æ‰§è¡Œ<code>exit</code>å‘½ä»¤é‡æ–°å›åˆ°rangerç¨‹åºå½“ä¸­å»)</p>
<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>ä½¿ç”¨<code>ranger --copy-config=all</code>å°†åœ¨<code>~/.config/ranger</code>ä¸­ç”Ÿæˆä¸€ç³»åˆ—é…ç½®æ–‡ä»¶</p>
<ul>
<li>rc.conf å¸¸ç”¨äºè®¾ç½®é€‰é¡¹å’Œç»‘å®šå¿«æ·é”®.(æœ€å¸¸ç”¨)</li>
<li>scope.sh å¸¸ç”¨äºè®¾ç½®æ–‡ä»¶çš„é¢„è§ˆæ–¹å¼</li>
<li>rifle.conf å¸¸ç”¨äºè®¾ç½®ä½¿ç”¨é‚£ä¸ªè½¯ä»¶æ¥æ‰“å¼€æ–‡ä»¶</li>
<li>commands.py pythonæ–‡ä»¶,å¢å¼ºå’Œæ”¹è¿›rangerçš„å„ç§åŠŸèƒ½</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">ranger --copy-config=all</span><br></pre></td></tr></table></figure>
<ul>
<li><code>rc.conf</code>-é€‰é¡¹è®¾ç½®å’Œå¿«æ·é”®</li>
<li><code>commands.py</code>-èƒ½é€šè¿‡<code>:</code>æ‰§è¡Œçš„å‘½ä»¤</li>
<li><code>commands_full.py</code>-å…¨å¥—å‘½ä»¤</li>
<li><code>rifle.conf</code>-æŒ‡å®šä¸åŒç±»å‹çš„æ–‡ä»¶çš„é»˜è®¤æ‰“å¼€ç¨‹åº</li>
<li><code>scope.conf</code>-è´Ÿè´£å„ç§æ–‡ä»¶é¢„è§ˆ</li>
</ul>
<p>æ³¨æ„ï¼šå¦‚æœè¦ä½¿ç”¨<code>~/.config/ranger</code>ç›®å½•ä¸‹çš„é…ç½®ç”Ÿæ•ˆï¼Œéœ€è¦æŠŠ<code>RANGER_LOAD_DEFAULT_RC</code>å˜é‡è®¾ç½®ä¸º<code>false</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bash</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;export RANGER_LOAD_DEFAULT_RC=false&quot;</span>&gt;&gt;~/.bashrc</span><br><span class="line"></span><br><span class="line">zsh</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;export RANGER_LOAD_DEFAULT_RC=false&quot;</span>&gt;&gt;~/.zshrc</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å¯é€‰é…ç½®(æ¨è)</p>
</blockquote>
<p>ä¿®æ”¹é…ç½®æ–‡ä»¶<code>~/.config/ranger/rc.conf</code></p>
<ul>
<li>æ˜¾ç¤ºè¾¹æ¡†<code>set draw_borders both</code></li>
<li>æ˜¾ç¤ºåºå·<code>set line_numbers true</code></li>
<li>åºå·ä»1å¼€å§‹<code>set one_indexed true</code></li>
</ul>
<h2 id="é…ç½®å›¾æ ‡"><a href="#é…ç½®å›¾æ ‡" class="headerlink" title="é…ç½®å›¾æ ‡"></a>é…ç½®å›¾æ ‡</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/alexanderjeurissen/ranger_devicons ~/.config/ranger/plugins/ranger_devicons</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;default_linemode devicons&quot;</span> &gt;&gt; <span class="variable">$HOME</span>/.config/ranger/rc.conf</span><br></pre></td></tr></table></figure>
<h5 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h5><p><img src="https://cdn.jsdelivr.net/gh/Returntmp/blog-image@main/blog/image-20230523171348133.png" alt="image-20230523171348133"></p>
<h4 id="é…ç½®æ–‡æœ¬ç¼–è¾‘å™¨"><a href="#é…ç½®æ–‡æœ¬ç¼–è¾‘å™¨" class="headerlink" title="é…ç½®æ–‡æœ¬ç¼–è¾‘å™¨"></a>é…ç½®æ–‡æœ¬ç¼–è¾‘å™¨</h4><p>è®¾ç½®é»˜è®¤ä¸ºnvim</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="built_in">export</span> EDITOR=/usr/bin/nvim &gt;&gt; ~/.bashrc</span><br><span class="line"><span class="comment"># zsh</span></span><br><span class="line"><span class="built_in">echo</span> <span class="built_in">export</span> EDITOR=/usr/bin/nvim &gt;&gt; ~/.zshrc</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="å¿«æ·é”®"><a href="#å¿«æ·é”®" class="headerlink" title="å¿«æ·é”®"></a>å¿«æ·é”®</h2><h2 id="æ–‡ä»¶ç®¡ç†å™¨æ“ä½œ"><a href="#æ–‡ä»¶ç®¡ç†å™¨æ“ä½œ" class="headerlink" title="æ–‡ä»¶ç®¡ç†å™¨æ“ä½œ"></a>æ–‡ä»¶ç®¡ç†å™¨æ“ä½œ</h2><div class="table-container">
<table>
<thead>
<tr>
<th>æ–‡ä»¶ç®¡ç†å™¨æ“ä½œ</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>h</code></td>
<td>è¿”å›ä¸Šä¸€å±‚</td>
</tr>
<tr>
<td><code>l</code></td>
<td>è¿›å…¥æ–‡ä»¶</td>
</tr>
<tr>
<td><code>j</code></td>
<td>å‘ä¸‹</td>
</tr>
<tr>
<td><code>k</code></td>
<td>å‘ä¸Š</td>
</tr>
<tr>
<td><code>Enter</code></td>
<td>æ‰“å¼€æ–‡ä»¶</td>
</tr>
<tr>
<td><code>q</code></td>
<td>é€€å‡º</td>
</tr>
</tbody>
</table>
</div>
<h2 id="è·å¾—å¸®åŠ©"><a href="#è·å¾—å¸®åŠ©" class="headerlink" title="è·å¾—å¸®åŠ©"></a>è·å¾—å¸®åŠ©</h2><p>æ‚¨å¯ä»¥åœ¨ä½¿ç”¨Rangeræ—¶è·å¾—å¸®åŠ©</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>å­—ç¬¦</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>m</code></td>
<td>æ‰“å¼€æŠ¤æ—å‘˜çš„æ‰‹å†Œé¡µ</td>
</tr>
<tr>
<td><code>k</code></td>
<td>æ‰“å¼€é”®ç»‘å®šåˆ—è¡¨</td>
</tr>
<tr>
<td><code>c</code></td>
<td>æ‰“å¼€å¯ç”¨å‘½ä»¤å’Œæè¿°çš„åˆ—è¡¨</td>
</tr>
<tr>
<td><code>s</code></td>
<td>æ‰“å¼€è®¾ç½®åŠå…¶å½“å‰å€¼çš„åˆ—è¡¨ \</td>
</tr>
</tbody>
</table>
</div>
<h2 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h2><div class="table-container">
<table>
<thead>
<tr>
<th>æŒ‰é”®</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dD</code> æˆ–è€… <code>F8</code></td>
<td>åˆ é™¤æ¡ç›®ï¼ˆæ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ï¼‰ï¼Œæˆ–è€… <code>:</code> + <code>delete</code>ã€‚</td>
</tr>
<tr>
<td><code>DD</code></td>
<td>å°†æ¡ç›®ç§»åŠ¨åˆ°å›æ”¶ç«™é‡Œã€‚</td>
</tr>
</tbody>
</table>
</div>
<h2 id="æ–°å»º"><a href="#æ–°å»º" class="headerlink" title="æ–°å»º"></a>æ–°å»º</h2><div class="table-container">
<table>
<thead>
<tr>
<th>æŒ‰é”®</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>F7</code></td>
<td>æ–°å»ºæ–‡ä»¶å¤¹ï¼Œç­‰åŒäº <code>:mkdir</code>ã€‚</td>
</tr>
<tr>
<td><code>INSERT</code></td>
<td>æ–°å»ºæ–‡ä»¶ï¼Œç­‰åŒäº <code>:touch</code>ã€‚</td>
</tr>
</tbody>
</table>
</div>
<h2 id="é‡å‘½å"><a href="#é‡å‘½å" class="headerlink" title="é‡å‘½å"></a>é‡å‘½å</h2><div class="table-container">
<table>
<thead>
<tr>
<th>æŒ‰é”®</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>cw</code></td>
<td>é‡å‘½åï¼ˆå«åç¼€åï¼‰</td>
</tr>
<tr>
<td><code>I</code></td>
<td>é‡å‘½åï¼Œå…‰æ ‡åœ¨æœ€å‰</td>
</tr>
<tr>
<td><code>A</code></td>
<td>é‡å‘½åï¼Œå…‰æ ‡åœ¨æœ€åï¼ˆå«åç¼€åï¼‰</td>
</tr>
<tr>
<td><code>a</code></td>
<td>é‡å‘½åï¼Œå…‰æ ‡åœ¨æœ€åï¼ˆä¸å«åç¼€åï¼‰</td>
</tr>
</tbody>
</table>
</div>
<h2 id="å¤åˆ¶"><a href="#å¤åˆ¶" class="headerlink" title="å¤åˆ¶"></a>å¤åˆ¶</h2><div class="table-container">
<table>
<thead>
<tr>
<th>æŒ‰é”®</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>yy</code> æˆ–è€… <code>F5</code></td>
<td>å¤åˆ¶</td>
</tr>
<tr>
<td><code>ya</code></td>
<td><code>add</code> æ¨¡å¼ï¼Œæ·»åŠ å…‰æ ‡å¤„æ–‡ä»¶åˆ°å¤åˆ¶é˜Ÿåˆ—ä¸­ï¼ˆæ–‡ä»¶å¤¹æ— æ•ˆï¼‰ã€‚</td>
</tr>
<tr>
<td><code>yr</code></td>
<td><code>remove</code> æ¨¡å¼ï¼Œä»å¤åˆ¶é˜Ÿåˆ—ä¸­ç§»é™¤å…‰æ ‡å¤„æ–‡ä»¶ï¼ˆæ–‡ä»¶å¤¹æ— æ•ˆï¼‰ã€‚</td>
</tr>
<tr>
<td><code>yt</code></td>
<td><code>toggle</code> æ¨¡å¼ï¼Œåˆ‡æ¢å…‰æ ‡å¤„æ–‡ä»¶æ˜¯å¦åœ¨å¤åˆ¶é˜Ÿåˆ—ä¸­ï¼ˆæ–‡ä»¶å¤¹æ— æ•ˆï¼‰ã€‚</td>
</tr>
<tr>
<td><code>yk</code></td>
<td>å°†å…‰æ ‡å¤„æ–‡ä»¶å’Œä¸Šä¸€æ–‡ä»¶æ·»åŠ åˆ°å¤åˆ¶é˜Ÿåˆ—ä¸­ï¼ˆæ–‡ä»¶å¤¹æ— æ•ˆï¼‰ã€‚</td>
</tr>
<tr>
<td><code>yj</code></td>
<td>å°†å…‰æ ‡å¤„æ–‡ä»¶å’Œä¸‹ä¸€æ–‡ä»¶æ·»åŠ åˆ°å¤åˆ¶é˜Ÿåˆ—ä¸­ï¼ˆæ–‡ä»¶å¤¹æ— æ•ˆï¼‰ã€‚</td>
</tr>
<tr>
<td><code>ygg</code></td>
<td>å°†å…‰æ ‡å¤„åˆ°é¡¶ç«¯çš„æ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ°å¤åˆ¶é˜Ÿåˆ—ä¸­ï¼ˆæ–‡ä»¶å¤¹æ— æ•ˆï¼‰</td>
</tr>
<tr>
<td><code>yG</code></td>
<td>å°†å…‰æ ‡å¤„åˆ°åº•ç«¯çš„æ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ°å¤åˆ¶é˜Ÿåˆ—ä¸­ï¼ˆæ–‡ä»¶å¤¹æ— æ•ˆï¼‰</td>
</tr>
</tbody>
</table>
</div>
<h2 id="å‰ªåˆ‡"><a href="#å‰ªåˆ‡" class="headerlink" title="å‰ªåˆ‡"></a>å‰ªåˆ‡</h2><div class="table-container">
<table>
<thead>
<tr>
<th>æŒ‰é”®</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dd</code> æˆ–è€… <code>F6</code></td>
<td>å‰ªåˆ‡</td>
</tr>
<tr>
<td><code>da</code></td>
<td><code>add</code> æ¨¡å¼ï¼ŒåŒå¤åˆ¶ã€‚</td>
</tr>
<tr>
<td><code>dr</code></td>
<td><code>remove</code> æ¨¡å¼ï¼ŒåŒå¤åˆ¶ã€‚</td>
</tr>
<tr>
<td><code>dt</code></td>
<td><code>toggle</code> æ¨¡å¼ï¼ŒåŒå¤åˆ¶ã€‚</td>
</tr>
<tr>
<td><code>dk</code></td>
<td>åŒå¤åˆ¶</td>
</tr>
<tr>
<td><code>dj</code></td>
<td>åŒå¤åˆ¶</td>
</tr>
<tr>
<td><code>dgg</code></td>
<td>åŒå¤åˆ¶</td>
</tr>
<tr>
<td><code>dG</code></td>
<td>åŒå¤åˆ¶</td>
</tr>
<tr>
<td><code>ud</code> æˆ–è€… <code>uy</code></td>
<td>å–æ¶ˆå‰ªåˆ‡</td>
</tr>
</tbody>
</table>
</div>
<h2 id="ç²˜è´´"><a href="#ç²˜è´´" class="headerlink" title="ç²˜è´´"></a>ç²˜è´´</h2><div class="table-container">
<table>
<thead>
<tr>
<th>æŒ‰é”®</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pp</code></td>
<td>ç²˜è´´ï¼Œé»˜è®¤ <code>append</code> æ¨¡å¼</td>
</tr>
<tr>
<td><code>pP</code></td>
<td><code>append</code> æ¨¡å¼ï¼Œå¦‚æœè¯¥ç›®å½•ä¸­æœ‰åŒåæ¡ç›®ï¼Œåˆ™åœ¨æ¡ç›®åé¢åŠ ä¸Š <code>_</code>ã€<code>_0</code>ã€<code>_1</code>â€¦â€¦ã€‚å¦‚æœæ¡ç›®æ˜¯æ–‡ä»¶ï¼Œåˆ™åœ¨æ–‡ä»¶åç¼€åååŠ å…¥ã€‚</td>
</tr>
<tr>
<td><code>po</code></td>
<td><code>overwrite</code> æ¨¡å¼ï¼Œå¦‚æœè¯¥ç›®å½•ä¸­æœ‰åŒåæ¡ç›®ï¼Œåˆ™è¦†ç›–åŸæ¥çš„æ¡ç›®ã€‚</td>
</tr>
<tr>
<td><code>pO</code></td>
<td><code>append</code> æ¨¡å¼ + <code>overwrite</code> æ¨¡å¼ã€‚</td>
</tr>
<tr>
<td><code>pl</code></td>
<td>ç²˜è´´ä¸ºç¬¦å·é“¾æ¥ï¼Œä¸åœ¨çŠ¶æ€æ æ˜¾ç¤ºç›®æ ‡æ¡ç›®çš„ç›¸å¯¹è·¯å¾„ã€‚</td>
</tr>
<tr>
<td><code>pL</code></td>
<td>ç²˜è´´ä¸ºç¬¦å·é“¾æ¥ï¼ˆç›¸å¯¹è·¯å¾„ï¼‰ï¼Œåœ¨çŠ¶æ€æ æ˜¾ç¤ºç›®æ ‡æ¡ç›®çš„ç›¸å¯¹è·¯å¾„ã€‚</td>
</tr>
<tr>
<td><code>phl</code></td>
<td>ç²˜è´´ä¸ºç¡¬é“¾æ¥</td>
</tr>
<tr>
<td><code>pht</code></td>
<td>ç²˜è´´ä¸ºç¡¬é“¾æ¥çš„å­ç›®å½•ï¼ˆhardlinked subtreeï¼‰</td>
</tr>
</tbody>
</table>
</div>
<h2 id="æœç´¢"><a href="#æœç´¢" class="headerlink" title="æœç´¢"></a>æœç´¢</h2><div class="table-container">
<table>
<thead>
<tr>
<th>æŒ‰é”®</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/</code></td>
<td>æ‰“å¼€æœç´¢æ¡†ï¼Œè¾“å…¥è¦æœç´¢çš„å­—ç¬¦ä¸²ï¼Œå›è½¦åå¼€å§‹æœç´¢ã€‚</td>
</tr>
<tr>
<td><code>f</code></td>
<td>æŸ¥æ‰¾ï¼Œç­‰åŒäºè¿è¡Œæ»¡è¶³æ¡ä»¶çš„æ–‡ä»¶æˆ–è€…æ‰“å¼€æ»¡è¶³æ¡ä»¶çš„æ–‡ä»¶å¤¹ã€‚</td>
</tr>
<tr>
<td><code>zf</code></td>
<td>ä¸å‘½ä»¤è¡Œ <code>filter</code> ä½œç”¨ä¸€æ ·ï¼Œåªæ˜¾ç¤ºç¬¦åˆæ¡ä»¶çš„æ¡ç›®ï¼ŒåŒºåˆ†å¤§å°å†™ã€‚</td>
</tr>
<tr>
<td><code>n</code> <code>N</code></td>
<td>æŸ¥æ‰¾ä¸‹ä¸€ä¸ªæœç´¢ç»“æœ æŸ¥æ‰¾ä¸Šä¸€ä¸ªæœç´¢ç»“æœ</td>
</tr>
<tr>
<td><code>c</code> + <code>å¯¹åº”å­—æ¯</code></td>
<td>é€šè¿‡å¯¹åº”å±æ€§ä¾æ¬¡éå†ï¼Œå¦‚ï¼š<code>ca</code>ï¼šé€šè¿‡ <code>atime</code>å±æ€§ä¾æ¬¡éå†<code>cc</code>ï¼šé€šè¿‡ <code>ctime</code> å±æ€§ä¾æ¬¡éå†<code>ci</code>ï¼šé€šè¿‡ <code>mimetype</code> å±æ€§ä¾æ¬¡éå†<code>cm</code>ï¼šé€šè¿‡ <code>mtime</code> å±æ€§ä¾æ¬¡éå†<code>cs</code>ï¼šé€šè¿‡ <code>size</code> å±æ€§ä¾æ¬¡éå†<code>ct</code>ï¼šé€šè¿‡ <code>tag</code> å±æ€§ä¾æ¬¡éå†</td>
</tr>
</tbody>
</table>
</div>
<h3 id="ç›¸å…³æ’ä»¶"><a href="#ç›¸å…³æ’ä»¶" class="headerlink" title="ç›¸å…³æ’ä»¶"></a>ç›¸å…³æ’ä»¶</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ubuntu</span><br><span class="line">sudo apt-get install caca-utils <span class="comment"># img2txt å›¾ç‰‡</span></span><br><span class="line">sudo apt-get install highlight  <span class="comment"># ä»£ç é«˜äº®</span></span><br><span class="line">sudo apt-get install atoolã€€    <span class="comment"># å­˜æ¡£é¢„è§ˆ</span></span><br><span class="line">sudo apt-get install w3m        <span class="comment"># htmlé¡µé¢é¢„è§ˆ</span></span><br><span class="line">sudo apt-get install mediainfo  <span class="comment"># å¤šåª’ä½“æ–‡ä»¶é¢„è§ˆ</span></span><br><span class="line">sudo apt-get install catdoc     <span class="comment"># docé¢„è§ˆ</span></span><br><span class="line">sudo apt-get install docx2txt   <span class="comment"># docxé¢„è§ˆ</span></span><br><span class="line">sudo apt-get install xlsx2csv   <span class="comment"># xlsxé¢„è§ˆ</span></span><br></pre></td></tr></table></figure>
<h1 id="LazyGit"><a href="#LazyGit" class="headerlink" title="LazyGit"></a>LazyGit</h1><h2 id="ç®€ä»‹-2"><a href="#ç®€ä»‹-2" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>å®˜æ–¹è§£é‡Šï¼šgitå‘½ä»¤çš„ç®€å•ç»ˆç«¯UIï¼Œä½¿ç”¨gocuiåº“åœ¨Goä¸­ç¼–å†™ã€‚</p>
<p>å®˜æ–¹é“¾æ¥ï¼š<a href="https://github.com/jesseduffield/lazygit">jesseduffield/lazygit: simple terminal UI for git commands (github.com)</a></p>
<h2 id="å®‰è£…-2"><a href="#å®‰è£…-2" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><h5 id="ubuntu"><a href="#ubuntu" class="headerlink" title="ubuntu"></a>ubuntu</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">LAZYGIT_VERSION=$(curl -s <span class="string">&quot;https://api.github.com/repos/jesseduffield/lazygit/releases/latest&quot;</span> | grep -Po <span class="string">&#x27;&quot;tag_name&quot;: &quot;v\K[^&quot;]*&#x27;</span>)</span><br><span class="line">curl -Lo lazygit.tar.gz <span class="string">&quot;https://github.com/jesseduffield/lazygit/releases/latest/download/lazygit_<span class="variable">$&#123;LAZYGIT_VERSION&#125;</span>_Linux_x86_64.tar.gz&quot;</span></span><br><span class="line">tar xf lazygit.tar.gz lazygit</span><br><span class="line">sudo install lazygit /usr/local/bin</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œ<code>lazygit</code>å³å¯å¯åŠ¨</p>
<p>å¯ä»¥æ·»åŠ åˆ«å</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;alias lg=&#x27;lazygit&#x27;&quot;</span> &gt;&gt; ~/.zshrc</span><br></pre></td></tr></table></figure>
<p><strong>æ•ˆæœ</strong>ï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/Returntmp/blog-image@main/blog/image-20230523222702767.png" alt="image-20230523222702767"></p>
<p>å¯ä»¥ä½¿ç”¨æ•°å­—é”®æˆ–æ˜¯<code>tab</code>æˆ–æ˜¯<code>h</code>å’Œ<code>l</code>åˆ‡æ¢æ ‡ç­¾</p>
<p>ä¹‹ååœ¨å¯¹åº”tabä¸­ä½¿ç”¨ä½¿ç”¨<code>?</code>æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£å­¦ä¹ ç›¸åº”æ“ä½œ</p>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<blockquote>
<p><a href="https://www.ruanyifeng.com/blog/2019/10/tmux.html">https://www.ruanyifeng.com/blog/2019/10/tmux.html</a></p>
<p><a href="https://www.zssnp.top/2021/06/03/ranger/#post-comment">https://www.zssnp.top/2021/06/03/ranger/#post-comment</a></p>
</blockquote>
]]></content>
      <tags>
        <tag>env</tag>
      </tags>
  </entry>
  <entry>
    <title>æ‰‹åŠ¨ç¼–è¯‘å®‰è£… Nginxï¼ˆé™„å¸¦rtmpæ¨¡å—ï¼‰</title>
    <url>/posts/6b08d7e3.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote>
<p> ç¯å¢ƒï¼šCentOS7.9</p>
<p>å®‰è£…ç›®å½•ï¼š<code>/usr/local/nginx</code></p>
<p>è§£å‹ç›®å½•ï¼š<code>/usr/local/src/nginx</code></p>
</blockquote>
<span id="more"></span>
<h4 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/local/src</span><br><span class="line">wget http://nginx.org/download/nginx-1.12.1.tar.gz</span><br><span class="line">tar -zxvf nginx-1.12.1.tar.gz</span><br><span class="line"><span class="built_in">mv</span> nginx-1.12.1 nginx</span><br><span class="line"><span class="built_in">cd</span> nginx</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/arut/nginx-rtmp-module.git</span><br><span class="line">./configure --prefix=/usr/local/nginx --add-module=./nginx-rtmp-module --with-http_ssl_module</span><br><span class="line"><span class="comment"># ç¼–è¯‘å·¥ç¨‹</span></span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>
<h4 id="å±•ç¤º"><a href="#å±•ç¤º" class="headerlink" title="å±•ç¤º"></a>å±•ç¤º</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@VM-4-3-centos nginx]<span class="comment"># cd  /usr/local/nginx/</span></span><br><span class="line">[root@VM-4-3-centos nginx]<span class="comment"># ls</span></span><br><span class="line">conf  html  logs  sbin</span><br><span class="line">[root@VM-4-3-centos nginx]<span class="comment"># cd sbin/</span></span><br><span class="line">[root@VM-4-3-centos sbin]<span class="comment"># ls</span></span><br><span class="line">nginx</span><br><span class="line">[root@VM-4-3-centos sbin]<span class="comment"># ./nginx  -v</span></span><br><span class="line">nginx version: nginx/1.12.1</span><br></pre></td></tr></table></figure>
<h4 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@VM-4-3-centos conf]<span class="comment"># cd /usr/local/nginx/conf</span></span><br><span class="line">[root@VM-4-3-centos conf]<span class="comment"># vim nginx.conf</span></span><br><span class="line"><span class="comment"># æ·»åŠ å¦‚ä¸‹</span></span><br><span class="line">rtmp &#123;</span><br><span class="line"> </span><br><span class="line">     server &#123;</span><br><span class="line"> </span><br><span class="line">         listen 1935 so_keepalive=2s:1:1;  <span class="comment">#ç›‘å¬çš„ç«¯å£  </span></span><br><span class="line">         chunk_size 4000;</span><br><span class="line">         application hls &#123;  <span class="comment">#rtmpæ¨æµè¯·æ±‚è·¯å¾„  </span></span><br><span class="line">             live on;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="nginx-ç›¸å…³å‘½ä»¤"><a href="#nginx-ç›¸å…³å‘½ä»¤" class="headerlink" title="nginx ç›¸å…³å‘½ä»¤"></a>nginx ç›¸å…³å‘½ä»¤</h4><h5 id="å¯åŠ¨-nginx"><a href="#å¯åŠ¨-nginx" class="headerlink" title="å¯åŠ¨ nginx"></a>å¯åŠ¨ nginx</h5><ol>
<li>ç›´æ¥å¯åŠ¨</li>
</ol>
<ul>
<li>è¿›å…¥ nginx å®‰è£…ç›®å½•æ‰¾åˆ° sbin æ–‡ä»¶å¤¹ï¼Œç„¶åå¯åŠ¨ nginxã€‚<br> å‘½ä»¤ï¼š<strong><code>cd /sbin</code></strong> è¿›å…¥åˆ° sbin ç›®å½•ä¸‹<br> å‘½ä»¤ï¼š<strong><code>./nginx</code></strong> å¯åŠ¨ nginx</li>
</ul>
<ol>
<li>æŒ‡å®šé…ç½®æ–‡ä»¶æ–¹å¼å¯åŠ¨ï¼š<br> å‘½ä»¤ï¼š<strong><code>./nginx -c /usr/local/nginx/conf/nginx.conf</code></strong></li>
</ol>
<h5 id="æ£€æŸ¥-nginx-é…ç½®"><a href="#æ£€æŸ¥-nginx-é…ç½®" class="headerlink" title="æ£€æŸ¥ nginx é…ç½®"></a>æ£€æŸ¥ nginx é…ç½®</h5><p>è¿›å…¥ nginx ä¸‹çš„ sbin ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ï¼š<br>å‘½ä»¤ï¼š<strong><code>./nginx -t</code></strong></p>
<h5 id="é‡å¯-nginx"><a href="#é‡å¯-nginx" class="headerlink" title="é‡å¯ nginx"></a>é‡å¯ nginx</h5><p><strong><code>./nginx -s reload</code></strong></p>
<h5 id="è‡ªå¯åŠ¨-nginx"><a href="#è‡ªå¯åŠ¨-nginx" class="headerlink" title="è‡ªå¯åŠ¨ nginx"></a>è‡ªå¯åŠ¨ nginx</h5><p>è®¾ç½® Linux é‡å¯ä¹‹å nginx è‡ªåŠ¨å¯åŠ¨å‘½ä»¤ï¼š<strong><code>systemctl enable nginx</code></strong></p>
<p>æŸ¥çœ‹çŠ¶æ€ï¼Œå‘½ä»¤ï¼š<strong><code>systemctl is-enabled nginx</code></strong> æˆ–è€…<strong><code>service nginx status</code></strong></p>
<h5 id="å…³é—­-nginx"><a href="#å…³é—­-nginx" class="headerlink" title="å…³é—­ nginx"></a>å…³é—­ nginx</h5><h6 id="å…³é—­-nginx-1"><a href="#å…³é—­-nginx-1" class="headerlink" title="å…³é—­ nginx"></a>å…³é—­ nginx</h6><ol>
<li>è¿›å…¥ nginx ä¸‹çš„ sbin ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ï¼š<br> å¿«é€Ÿåœæ­¢ nginx å‘½ä»¤ï¼š<strong><code>./nginx -s stop</code></strong><br> å®Œæ•´æœ‰åºçš„åœæ­¢ nginxï¼š<strong><code>./nginx -s quit</code></strong>ï¼›è¿™ä¸ªå‘½ä»¤ä¼šç­‰å¾…æ‰€æœ‰è¯·æ±‚ç»“æŸåå†å…³é—­ nginxã€‚</li>
<li>ä½¿ç”¨ kill å‘½ä»¤å…³é—­ nginx</li>
</ol>
<ul>
<li>å…ˆæŸ¥çœ‹ nginx è¿›ç¨‹ï¼Œæ‰¾åˆ°ä¸»è¿›ç¨‹å·ã€‚ç„¶åå†ä½¿ç”¨ kill å‘½ä»¤æ€æ­» nginx è¿›ç¨‹ã€‚<br> æŸ¥çœ‹ nginx è¿›ç¨‹å·å‘½ä»¤ï¼š<strong><code>ps -ef | grep nginx</code></strong><br> ä»å®¹åœæ­¢ nginx å‘½ä»¤ï¼š<strong><code>kill -QUIT ä¸»è¿›ç¨‹å·</code></strong><br> å¿«é€Ÿåœæ­¢ nginx å‘½ä»¤ï¼š<strong><code>kill -TERM ä¸»è¿›ç¨‹å·</code></strong><br> å¼ºåˆ¶åœæ­¢ nginx  å‘½ä»¤ï¼š<strong><code>kill -HUP ä¸»è¿›ç¨‹å·</code></strong><br> å¹³æ»‘é‡å¯ nginx å‘½ä»¤ï¼š<strong><code>kill -9 nginx</code></strong><br> æŸ¥æ‰¾å¹¶æ€æ­»æ‰€æœ‰ nginx è¿›ç¨‹ï¼š<strong><code>ps aux | grep nginx |awk &#39;&#123;print $2&#125;&#39; | xargs kill -9</code></strong></li>
</ul>
<h4 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h4><blockquote>
<p>å¯åŠ¨æ—¶å‡ºç° Failed to start nginx.service:unit not found</p>
</blockquote>
<h5 id="æ–¹æ¡ˆ"><a href="#æ–¹æ¡ˆ" class="headerlink" title="æ–¹æ¡ˆ"></a>æ–¹æ¡ˆ</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/init.d/nginx</span><br></pre></td></tr></table></figure>
<p>æ’å…¥ä»£ç </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment"># nginx - this script starts and stops the nginx daemin</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># chkconfig:   - 85 15</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># description:  Nginx is an HTTP(S) server, HTTP(S) reverse \</span></span><br><span class="line"><span class="comment">#               proxy and IMAP/POP3 proxy server</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># processname: nginx</span></span><br><span class="line"><span class="comment"># config:      /usr/local/nginx/conf/nginx.conf</span></span><br><span class="line"><span class="comment"># pidfile:     /usr/local/nginx/logs/nginx.pid</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># Source function library.</span></span><br><span class="line"> </span><br><span class="line">. /etc/rc.d/init.d/functions</span><br><span class="line"> </span><br><span class="line"><span class="comment"># Source networking configuration.</span></span><br><span class="line"> </span><br><span class="line">. /etc/sysconfig/network</span><br><span class="line"> </span><br><span class="line"><span class="comment"># Check that networking is up.</span></span><br><span class="line"> </span><br><span class="line">[ <span class="string">&quot;<span class="variable">$NETWORKING</span>&quot;</span> = <span class="string">&quot;no&quot;</span> ] &amp;&amp; <span class="built_in">exit</span> 0</span><br><span class="line"> </span><br><span class="line">nginx=<span class="string">&quot;/usr/local/nginx/sbin/nginx&quot;</span></span><br><span class="line"> </span><br><span class="line">prog=$(<span class="built_in">basename</span> <span class="variable">$nginx</span>)</span><br><span class="line"> </span><br><span class="line">NGINX_CONF_FILE=<span class="string">&quot;/usr/local/nginx/conf/nginx.conf&quot;</span></span><br><span class="line"> </span><br><span class="line">lockfile=/var/lock/subsys/nginx</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="title">start</span></span>() &#123;</span><br><span class="line"> </span><br><span class="line">    [ -x <span class="variable">$nginx</span> ] || <span class="built_in">exit</span> 5</span><br><span class="line"> </span><br><span class="line">    [ -f <span class="variable">$NGINX_CONF_FILE</span> ] || <span class="built_in">exit</span> 6</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">echo</span> -n $<span class="string">&quot;Starting <span class="variable">$prog</span>: &quot;</span></span><br><span class="line"> </span><br><span class="line">    daemon <span class="variable">$nginx</span> -c <span class="variable">$NGINX_CONF_FILE</span></span><br><span class="line"> </span><br><span class="line">    retval=$?</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">echo</span></span><br><span class="line"> </span><br><span class="line">    [ <span class="variable">$retval</span> -eq 0 ] &amp;&amp; <span class="built_in">touch</span> <span class="variable">$lockfile</span></span><br><span class="line"> </span><br><span class="line">    <span class="built_in">return</span> <span class="variable">$retval</span></span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="title">stop</span></span>() &#123;</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">echo</span> -n $<span class="string">&quot;Stopping <span class="variable">$prog</span>: &quot;</span></span><br><span class="line"> </span><br><span class="line">    killproc <span class="variable">$prog</span> -QUIT</span><br><span class="line"> </span><br><span class="line">    retval=$?</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">echo</span></span><br><span class="line"> </span><br><span class="line">    [ <span class="variable">$retval</span> -eq 0 ] &amp;&amp; <span class="built_in">rm</span> -f <span class="variable">$lockfile</span></span><br><span class="line"> </span><br><span class="line">    <span class="built_in">return</span> <span class="variable">$retval</span></span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="title">restart</span></span>() &#123;</span><br><span class="line"> </span><br><span class="line">    configtest || <span class="built_in">return</span> $?</span><br><span class="line"> </span><br><span class="line">    stop</span><br><span class="line"> </span><br><span class="line">    start</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="title">reload</span></span>() &#123;</span><br><span class="line"> </span><br><span class="line">    configtest || <span class="built_in">return</span> $?</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">echo</span> -n $<span class="string">&quot;Reloading <span class="variable">$prog</span>: &quot;</span></span><br><span class="line"> </span><br><span class="line">    killproc <span class="variable">$nginx</span> -HUP</span><br><span class="line"> </span><br><span class="line">    RETVAL=$?</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">echo</span></span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="title">force_reload</span></span>() &#123;</span><br><span class="line"> </span><br><span class="line">    restart</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="title">configtest</span></span>() &#123;</span><br><span class="line"> </span><br><span class="line">  <span class="variable">$nginx</span> -t -c <span class="variable">$NGINX_CONF_FILE</span></span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="title">rh_status</span></span>() &#123;</span><br><span class="line"> </span><br><span class="line">    status <span class="variable">$prog</span></span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="title">rh_status_q</span></span>() &#123;</span><br><span class="line"> </span><br><span class="line">    rh_status &gt;/dev/null 2&gt;&amp;1</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;<span class="variable">$1</span>&quot;</span> <span class="keyword">in</span></span><br><span class="line"> </span><br><span class="line">    start)</span><br><span class="line"> </span><br><span class="line">        rh_status_q &amp;&amp; <span class="built_in">exit</span> 0</span><br><span class="line">        <span class="variable">$1</span></span><br><span class="line">        ;;</span><br><span class="line"> </span><br><span class="line">    stop)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">        rh_status_q || <span class="built_in">exit</span> 0</span><br><span class="line">        <span class="variable">$1</span></span><br><span class="line">        ;;</span><br><span class="line"> </span><br><span class="line">    restart|configtest)</span><br><span class="line">        <span class="variable">$1</span></span><br><span class="line">        ;;</span><br><span class="line"> </span><br><span class="line">    reload)</span><br><span class="line">        rh_status_q || <span class="built_in">exit</span> 7</span><br><span class="line">        <span class="variable">$1</span></span><br><span class="line">        ;;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">    force-reload)</span><br><span class="line">        force_reload</span><br><span class="line">        ;;</span><br><span class="line">    status)</span><br><span class="line">        rh_status</span><br><span class="line">        ;;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">    condrestart|try-restart)</span><br><span class="line"> </span><br><span class="line">        rh_status_q || <span class="built_in">exit</span> 0</span><br><span class="line">            ;;</span><br><span class="line"> </span><br><span class="line">    *)</span><br><span class="line">        <span class="built_in">echo</span> $<span class="string">&quot;Usage: <span class="variable">$0</span> &#123;start|stop|status|restart|condrestart|try-restart|reload|force-reload|configtest&#125;&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> 2</span><br><span class="line"> </span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure>
<h5 id="ä¾æ¬¡æ‰§è¡Œ"><a href="#ä¾æ¬¡æ‰§è¡Œ" class="headerlink" title="ä¾æ¬¡æ‰§è¡Œ"></a>ä¾æ¬¡æ‰§è¡Œ</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/init.d</span><br><span class="line"> </span><br><span class="line"><span class="built_in">chmod</span> 755 /etc/init.d/nginx</span><br><span class="line"> </span><br><span class="line">chkconfig --add nginx</span><br></pre></td></tr></table></figure>
<blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯å¦‚æœä¹‹å‰æ²¡æœ‰é…ç½®/etc/init.d/nginxä¹‹å‰å¦‚æœå¯åŠ¨äº†nginx </p>
<p>éœ€è¦æ‰‹åŠ¨å…³é—­ï¼ˆkill å‘½ä»¤ï¼‰ï¼Œå†æ‰§è¡Œ<code>systemctl start nginx.service</code></p>
</blockquote>
]]></content>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>æé«˜æ‰“å­—é€Ÿåº¦ç¬”è®°</title>
    <url>/posts/c4f6e93f.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ç¬¬ä¸€é˜¶æ®µï¼šçº æ­£æŒ‡æ³•</p>
<blockquote>
<p>ç½‘ç«™ï¼š<a href="https://www.typingclub.com/">https://www.typingclub.com/</a></p>
</blockquote>
<p>typingclubå¯¹äºåˆå­¦è€…éå¸¸å‹å¥½ï¼Œç•Œé¢ä¹Ÿå¾ˆæœ‰è¶£ï¼Œæ‰“å­—çš„éƒ¨åˆ†ç»“åˆä¸‹æ–¹çš„æ‰‹æŒ‡æç¤ºï¼Œå¯ä»¥è®©æˆ‘çŸ¥é“åº”è¯¥å‡ºå“ªä¸ªæŒ‡å¤´æ¥æ‰“å­—ã€‚æœ€éš¾çš„éƒ¨åˆ†åº”è¯¥æ˜¯å°æŒ‡å¤´å’Œæ•°å­—åŒºï¼Œè¿™ä¸ªé˜¶æ®µå¯ä»¥çŸ¥é“è‡ªå·±è–„å¼±çš„æ‰‹æŒ‡æ˜¯å“ªäº›ï¼Œå…¶å®åŸºæœ¬ä¸Šå…­ç™¾å¤šå…³æ‰“å®ŒåŸºæœ¬å°±å¯ä»¥ä¿è¯70wpmä»¥ä¸Šäº†ï¼Œä½†æ˜¯åšä¸»è®­ç»ƒåˆ°35wpmä¹‹åå‘ç°å› ä¸ºæœ‰äº›å¼±é¡¹ï¼ˆæ¯”å¦‚è¯´å·¦æ‰‹å’Œä¸€äº›ç‰¹æ®Šç¬¦å·ï¼‰ï¼Œæ‰€ä»¥å¾ˆéš¾æé«˜ï¼Œæ‰€ä»¥å°±è¿›è¡Œäº†ä¸“é¡¹è®­ç»ƒ</p>
<p>ç¬¬äºŒé˜¶æ®µï¼šä¸“é¡¹è®­ç»ƒ</p>
<blockquote>
<p>ç½‘ç«™ï¼š<a href="https://www.keybr.com/">Typing Practice (keybr.com)</a></p>
</blockquote>
<p>è¿™ä¸ªç½‘ç«™ä¼šä½¿ç”¨ç®—æ³•æŠŠä½ çš„è–„å¼±é¡¹å…¨éƒ¨æ‰¾å‡ºæ¥ï¼Œç„¶åè®©ä½ ä¸€ç›´è®­ç»ƒé‚£ä¸ªåœ°æ–¹ï¼Œå¯¹æˆ‘æ¥è¯´å°æŒ‡æœ€è–„å¼±ï¼Œå°±ä¸“é—¨è®­ç»ƒå°æŒ‡ã€‚è§‰å¾—è®­ç»ƒçš„å·®ä¸å¤šäº†ï¼Œå°±å¯ä»¥è¿›å…¥å…¨é¢ç»ƒä¹ ï¼Œæ‰“ä¸€äº›è‡ªå·±æ„Ÿå…´è¶£çš„ä¸œè¥¿ã€‚</p>
<p>ç¬¬ä¸‰é˜¶æ®µï¼šå…¨é¢ç»ƒä¹ </p>
<blockquote>
<p>ç½‘ç«™ï¼š<a href="https://www.keybr.com/">Typing Practice (keybr.com)</a></p>
</blockquote>
<p>keybrå¯ä»¥è‡ªå®šä¹‰ä½ æƒ³æ‰“çš„å†…å®¹ï¼Œå¯ä»¥æ‰¾ä¸€äº›æ–‡ç« è‡ªå·±è¿›è¡Œè‡ªå®šä¹‰è®­ç»ƒï¼Œä¸»è¦å°±æ˜¯è¿›è¡Œå…¨é¢ç»ƒä¹ </p>
<p>ç¬¬å››é˜¶æ®µï¼šé€Ÿåº¦ç»ƒä¹ </p>
<blockquote>
<p>ç½‘ç«™ï¼š<a href="https://monkeytype.com/">Monkeytype | A minimalistic, customizable typing test</a></p>
</blockquote>
<p>è¿™ä¸ªé˜¶æ®µçš„è¯å°±æ˜¯å¤šç»ƒæµ‹é€Ÿã€‚monkeytypeå¯ä»¥é€‰æ‹©æ˜¯å¦éœ€è¦å¤§å°å†™å’Œæ ‡ç‚¹ç¬¦å·ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±éœ€æ±‚è‡ªå®šä¹‰è®­ç»ƒ</p>
<blockquote>
<p>é’ˆå¯¹ç¨‹åºå‘˜çš„ç å­—ä¸“ç”¨ç½‘ç«™ï¼š</p>
<p><a href="https://www.speedtyper.dev/">SpeedTyper.dev | Typing practice for programmers</a></p>
<p><a href="https://typing.io/">typing.io</a></p>
<p><a href="https://www.shortcutfoo.com/">Learn shortcuts and commands | ShortcutFoo</a></p>
</blockquote>
<p>å…¶ä»–ç½‘ç«™ï¼š</p>
<p><a href="https://www.speedcoder.net/">Typing Practice for Programmers | SpeedCoder</a></p>
<p><a href="https://www.typing.com/">Learn to Type | Type Better | Type Faster - Typing.com - Typing.com</a></p>
<p>ç›¸å…³åšå®¢ï¼š</p>
<p><a href="https://cookcode.blog.csdn.net/article/details/109152229?spm=1001.2101.3001.6650.2&amp;utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-109152229-blog-120637642.235^v38^pc_relevant_sort&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-109152229-blog-120637642.235^v38^pc_relevant_sort&amp;utm_relevant_index=5">ç¨‹åºå‘˜å¦‚ä½•æé«˜ç¼–ç¨‹æ—¶æ‰“å­—é€Ÿåº¦çš„5ä¸ªTips_ç¼–ç¨‹æ‰“å­—_nklinsiruiçš„åšå®¢-CSDNåšå®¢</a></p>
]]></content>
      <tags>
        <tag>typing</tag>
      </tags>
  </entry>
</search>
